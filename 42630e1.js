(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{590:function(n){n.exports=JSON.parse('{"content":"<p>箭头函数()=&gt;{},没有自己的this指针,this为上一层的的this指针</p>\\n<p>function(){},有自己的this指针,this指向调用时的对象</p>\\n<p>例子：</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>a=<span class=\\"hljs-string\\">\\"windowScope\\"</span>\\n<span class=\\"hljs-keyword\\">let</span> obj1={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>,\\n  <span class=\\"hljs-comment\\">// 向上找不到this指针，指向window</span>\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj1:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a)}\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj2={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">2</span>,\\n  <span class=\\"hljs-comment\\">// this为调用时确定的对象</span>\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj2:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a)}\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj3 = {\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">3</span>,\\n  <span class=\\"hljs-comment\\">// ②function有this指针,this是调用时确定</span>\\n  <span class=\\"hljs-attr\\">show</span> :<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-comment\\">// ①向上找到function，沿用它的this</span>\\n    setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{ <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj3:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a) }, <span class=\\"hljs-number\\">100</span>);\\n  }\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj4={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">4</span>,\\n  <span class=\\"hljs-comment\\">// ②无this，继续向上找，指向window</span>\\n  <span class=\\"hljs-attr\\">show</span> :<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n    <span class=\\"hljs-comment\\">// ①向上找到()=&gt;{}</span>\\n    setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> { <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj4:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a) }, <span class=\\"hljs-number\\">100</span>);\\n  }\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj5={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>,\\n  <span class=\\"hljs-attr\\">show</span>:{\\n    <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">2</span>,\\n    <span class=\\"hljs-comment\\">// 向上并未能找到带有this的词法作用域，最终指向window</span>\\n    <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj5:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a)}\\n  }\\n};\\n\\nobj1.show(); <span class=\\"hljs-comment\\">// windowScope</span>\\nobj2.show(); <span class=\\"hljs-comment\\">// 2</span>\\nobj3.show(); <span class=\\"hljs-comment\\">// 3</span>\\nobj4.show(); <span class=\\"hljs-comment\\">// windowScope</span>\\nobj5.show.show() <span class=\\"hljs-comment\\">// windowScope</span></code></pre></code></pre>\\n<p>继续：</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> btn=<span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\\"btn\\"</span>);\\n<span class=\\"hljs-comment\\">// 定义的时候，向上一层寻找，指向window</span>\\nbtn.addEventListener(<span class=\\"hljs-string\\">\'click\'</span>,()=&gt;{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>)\\n})\\n\\ntriggerClick(btn) <span class=\\"hljs-comment\\">// window</span></code></pre></code></pre>\\n<p>结论：</p>\\n<ol>\\n<li>对象方法中谨慎使用箭头函数</li>\\n<li>元素的方法谨慎使用箭头函数</li>\\n</ol>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-09","timeArr":[2018,5,9,0,0,0,0],"title":"es6箭头函数的this","uuid":"9ef13100cd0019709df5ac5974b441155efa3b42","summary":"<p>箭头函数()=&gt;{},没有自己的this指针,this为上一层的的this指针</p>\\n<p>function(){},有自己的this指针,this指向调用时的对象</p>\\n<p>例子：</p>\\n<pre class=\\"hljs\\"><code>a=<span class=\\"hljs-string\\">\\"windowScope\\"</span>\\n<span class=\\"hljs-keyword\\">let</span> obj1={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>,\\n  <span class=\\"hljs-comment\\">// 向上找不到this指针，指向window</span>\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>...</code></pre>","slug":"es6-jian-tou-han-shu-de-this","sha":"662ce20e60723f1b990376486a6f12aef2e2935c"}')}}]);