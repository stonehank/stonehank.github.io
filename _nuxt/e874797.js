(window.webpackJsonp=window.webpackJsonp||[]).push([[1409],{696:function(e){e.exports=JSON.parse('{"content":"<blockquote>\\n<p>pubsub-js: 一个用 JavaScript 编写的<code>基于主题</code>的发布/订阅库</p>\\n</blockquote>\\n<hr>\\n<p><code>pubsub-js</code>代码量不大，代码逻辑也较简单，也确实完成了一个发布订阅库，基于<code>javascript</code>的<code>key:value</code>普通对象。</p>\\n<p>代码结构</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>messages={\\n   <span class=\\"hljs-attr\\">topic1</span>:{\\n        <span class=\\"hljs-attr\\">token1_1</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n        <span class=\\"hljs-attr\\">token1_2</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n    }, \\n   <span class=\\"hljs-attr\\">topic2</span>:{\\n        <span class=\\"hljs-attr\\">token2_1</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n        <span class=\\"hljs-attr\\">token2_2</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n        ...\\n    }, \\n    ...\\n}</code></pre>\\n</code></pre>\\n<p>这个<code>基于主题</code>结构，允许对同一个主题进行多次不同的订阅，因此每次订阅会返回一个<code>token</code>可以通过<code>unsubscribe</code>对\\n<code>token</code>取消订阅，</p>\\n<p><code>unsubscribe</code>也接收<code>topic</code>(主题的名称)，对当前主题下所有<code>token</code>取消订阅，也接收<code>function</code>，删除所有与参数一致的订阅函数。</p>\\n<p>同时<code>pubsub-js</code>也提供了层级订阅，通过<code>.</code>进行分级，例如当订阅了<code>a</code>和<code>a.b</code>时，发布<code>a.b</code>同时也会触发<code>a</code>的订阅，而通配符<code>*</code>则表示任何发布都将触发它的订阅。</p>\\n<blockquote>\\n<p><strong>注意：<code>pubsub-js</code>是一个简单的发布订阅库，并不能解决真正的异步问题。</strong></p>\\n</blockquote>\\n<hr>\\n<p>思维导图：\\n<img src=\\"https://raw.githubusercontent.com/stonehank/sourcecode-analysis/master/source-code.pubsub-js/PubSub.png\\" alt=\\"\\"></p>\\n","toc":[],"relatedTags":["源码"],"created_at":"2021-07-04","timeArr":[2021,6,4,12,35,31,0],"title":"源码阅读-pubsub-js","uuid":"24fa8b0bfed56ded378d93d387506bfc37b3b319","summary":"<p>pubsub-js: 一个用 JavaScript 编写的<code>基于主题</code>的发布/订阅库</p>","slug":"source-code-pubsub-js","sha":"b27fe9696b30d036d66f5bba75e75dde8bc13449"}')}}]);