__NUXT_JSONP__("/article/source-code-hyperapp", (function(a){return {data:[{slug:a,articleDetails:{content:"\u003Ch1 id=\"source-codehyperapp\"\u003Esource-code.hyperapp\u003C\u002Fh1\u003E\n\u003Cp\u003Ev1.2.6\u003C\u002Fp\u003E\n\u003Cp\u003E一个极小的(1kb)类react框架，实现了virtual-dom，diff比较(需要key)，数据绑定到actions上，通过actions改变数据，会自动更新页面\u003C\u002Fp\u003E\n\u003Cp\u003E主要步骤：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E通过app()对其参数进行处理\u003C\u002Fli\u003E\n\u003Cli\u003E克隆state（不在原state上修改）\u003C\u002Fli\u003E\n\u003Cli\u003E增强actions，当调用时会自动检查结果result和原state是否有变化，有变化进行render\u003C\u002Fli\u003E\n\u003Cli\u003E将state和增强actions绑定到view上\u003C\u002Fli\u003E\n\u003Cli\u003E初始化render，执行patch\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003Epatch是hyperapp进行节点更新的核心，主要步骤：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E先判断node节点\u003C\u002Fli\u003E\n\u003Cli\u003E当节点相同---&gt;进行key判断---&gt;递归patch，直到指针到尾部\u003C\u002Fli\u003E\n\u003Cli\u003E最后判断是否需要删除节点\u003C\u002Fli\u003E\n\u003Cli\u003E返回更新的element\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E思维导图(整体)：\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fraw.githubusercontent.com\u002Fstonehank\u002Fsourcecode-analysis\u002Fmaster\u002Fsource-code.hyperapp\u002Fhyperapp%E5%AF%BC%E5%9B%BE.jpg\" alt=\"\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E思维导图(patch)：\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fraw.githubusercontent.com\u002Fstonehank\u002Fsourcecode-analysis\u002Fmaster\u002Fsource-code.hyperapp\u002Fhyperapp-patch%E5%AF%BC%E5%9B%BE.png\" alt=\"\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fstonehank\u002Fsourcecode-analysis\u002Fblob\u002Fmaster\u002Fsource-code.hyperapp\u002Fsrc\u002Fhyperapp.js\"\u003E具体源码\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n",toc:[{anchor:"source-codehyperapp",level:1,text:"source-code.hyperapp"}],relatedTags:["源码","diff","react"],created_at:"2018-07-15",timeArr:[2018,6,15,16,20,8,0],title:"源码阅读-hyperapp",uuid:"b9a6aca4245dad7a679816c10e50173b0357ef2e",summary:"\u003Ch4\u003Esource-code.hyperapp\u003C\u002Fh4\u003E\n\u003Cp\u003Ev1.2.6\u003C\u002Fp\u003E\n\u003Cp\u003E一个极小的(1kb)类react框架，实现了virtual-dom，diff比较(需要key)，数据绑定到actions上，通过actions改变数据，会自动更新页面\u003C\u002Fp\u003E\n\u003Cp\u003E主要步骤：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E通过app()对其参数进行处理\u003C\u002Fli\u003E\n\u003Cli\u003E克隆state（不在原state上...\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E",slug:a,sha:"c3e25401738f99932f31b1c1cb759018ab90d901"}}],fetch:{},mutations:void 0}}("source-code-hyperapp")));