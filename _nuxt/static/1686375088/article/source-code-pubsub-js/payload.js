__NUXT_JSONP__("/article/source-code-pubsub-js", (function(a){return {data:[{slug:a,articleDetails:{content:"\u003Cblockquote\u003E\n\u003Cp\u003Epubsub-js: 一个用 JavaScript 编写的\u003Ccode\u003E基于主题\u003C\u002Fcode\u003E的发布\u002F订阅库\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Chr\u003E\n\u003Cp\u003E\u003Ccode\u003Epubsub-js\u003C\u002Fcode\u003E代码量不大，代码逻辑也较简单，也确实完成了一个发布订阅库，基于\u003Ccode\u003Ejavascript\u003C\u002Fcode\u003E的\u003Ccode\u003Ekey:value\u003C\u002Fcode\u003E普通对象。\u003C\u002Fp\u003E\n\u003Cp\u003E代码结构\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Emessages={\n   \u003Cspan class=\"hljs-attr\"\u003Etopic1\u003C\u002Fspan\u003E:{\n        \u003Cspan class=\"hljs-attr\"\u003Etoken1_1\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-built_in\"\u003EFunction\u003C\u002Fspan\u003E,\n        \u003Cspan class=\"hljs-attr\"\u003Etoken1_2\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-built_in\"\u003EFunction\u003C\u002Fspan\u003E,\n    }, \n   \u003Cspan class=\"hljs-attr\"\u003Etopic2\u003C\u002Fspan\u003E:{\n        \u003Cspan class=\"hljs-attr\"\u003Etoken2_1\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-built_in\"\u003EFunction\u003C\u002Fspan\u003E,\n        \u003Cspan class=\"hljs-attr\"\u003Etoken2_2\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-built_in\"\u003EFunction\u003C\u002Fspan\u003E,\n        ...\n    }, \n    ...\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E这个\u003Ccode\u003E基于主题\u003C\u002Fcode\u003E结构，允许对同一个主题进行多次不同的订阅，因此每次订阅会返回一个\u003Ccode\u003Etoken\u003C\u002Fcode\u003E可以通过\u003Ccode\u003Eunsubscribe\u003C\u002Fcode\u003E对\n\u003Ccode\u003Etoken\u003C\u002Fcode\u003E取消订阅，\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Eunsubscribe\u003C\u002Fcode\u003E也接收\u003Ccode\u003Etopic\u003C\u002Fcode\u003E(主题的名称)，对当前主题下所有\u003Ccode\u003Etoken\u003C\u002Fcode\u003E取消订阅，也接收\u003Ccode\u003Efunction\u003C\u002Fcode\u003E，删除所有与参数一致的订阅函数。\u003C\u002Fp\u003E\n\u003Cp\u003E同时\u003Ccode\u003Epubsub-js\u003C\u002Fcode\u003E也提供了层级订阅，通过\u003Ccode\u003E.\u003C\u002Fcode\u003E进行分级，例如当订阅了\u003Ccode\u003Ea\u003C\u002Fcode\u003E和\u003Ccode\u003Ea.b\u003C\u002Fcode\u003E时，发布\u003Ccode\u003Ea.b\u003C\u002Fcode\u003E同时也会触发\u003Ccode\u003Ea\u003C\u002Fcode\u003E的订阅，而通配符\u003Ccode\u003E*\u003C\u002Fcode\u003E则表示任何发布都将触发它的订阅。\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E\u003Cstrong\u003E注意：\u003Ccode\u003Epubsub-js\u003C\u002Fcode\u003E是一个简单的发布订阅库，并不能解决真正的异步问题。\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Chr\u003E\n\u003Cp\u003E思维导图：\n\u003Cimg src=\"https:\u002F\u002Fraw.githubusercontent.com\u002Fstonehank\u002Fsourcecode-analysis\u002Fmaster\u002Fsource-code.pubsub-js\u002FPubSub.png\" alt=\"\"\u003E\u003C\u002Fp\u003E\n",toc:[],relatedTags:["源码"],created_at:"2021-07-04",timeArr:[2021,6,4,12,35,31,0],title:"源码阅读-pubsub-js",uuid:"24fa8b0bfed56ded378d93d387506bfc37b3b319",summary:"\u003Cp\u003Epubsub-js: 一个用 JavaScript 编写的\u003Ccode\u003E基于主题\u003C\u002Fcode\u003E的发布\u002F订阅库\u003C\u002Fp\u003E",slug:a,sha:"b27fe9696b30d036d66f5bba75e75dde8bc13449"}}],fetch:{},mutations:void 0}}("source-code-pubsub-js")));