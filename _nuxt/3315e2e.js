(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{605:function(e){e.exports=JSON.parse('{"content":"<ul>\\n<li>关于Uglify的<code>compress</code></li>\\n</ul>\\n<pre><code><pre class=\\"hljs\\"><code> compress: {\\n    ecma: 5,\\n    warnings: false,\\n    // Disabled because of an issue with Uglify breaking seemingly valid code:\\n    // https://github.com/facebook/create-react-app/issues/2376\\n    // Pending further investigation:\\n    // https://github.com/mishoo/UglifyJS2/issues/2011\\n    comparisons: false,\\n    // Disabled because of an issue with Terser breaking valid code:\\n    // https://github.com/facebook/create-react-app/issues/5250\\n    // Pending futher investigation:\\n    // https://github.com/terser-js/terser/issues/120\\n    inline: 2,\\n  },</code></pre></code></pre><p>这里有2个问题</p>\\n<p>第一个是<code>comparisons</code>的作用是二元运算的优化，例如<code>a = !b &amp;&amp; !c &amp;&amp; !d &amp;&amp; !e</code>会转换成<code>a=!(b||c||d||e)</code></p>\\n<p>2376问题是使用了一个<code>react-mapbox-gl</code>的组件(google地图)</p>\\n<p>编译后发生错误，经过讨论调试后，正是<code>comparisons</code>选项出现了问题，<code>Uglify</code>认为是具体代码编写没有符合规范所导致。</p>\\n<p>直到18年7月，<code>https://github.com/mapbox/mapbox-gl-js/pull/6956</code></p>\\n<p><code>react-mapbox-gl</code>修复了这个问题。</p>\\n<p>第二个<code>inline</code>的作用是内联函数调用</p>\\n<p>例如：</p>\\n<pre><code><pre class=\\"hljs\\"><code>function simple(a,b){\\n return a+b\\n}\\nfucntion complex(){\\n  // ...\\n  let sum=simple(1,2)\\n  // ...\\n  return sum\\n}</code></pre></code></pre><p>将会转换为</p>\\n<pre><code><pre class=\\"hljs\\"><code>fucntion complex(){\\n  // ...\\n  let sum=1+2\\n  // ...\\n  return sum\\n}</code></pre></code></pre><p><code>inline:2</code>(修改后)：内联调用带参数的简单函数</p>\\n<p><code>inline:3</code>(修改前)：内联调用带参数和带变量的简单函数</p>\\n<p>个人猜测：具体出错原因可能是变量使用了作用域以外的，导致冲突。</p>\\n","toc":[],"relatedTags":null,"created_at":"2018-10-17","timeArr":[2018,9,17,0,0,0,0],"title":"记录CRA的webpack配置曾经的issue-2","uuid":"09551be59c48cabd2ec9043da881b563d7044cbf","summary":"<ul>\\n<li>关于Uglify的<code>compress</code></li>\\n</ul>\\n<pre class=\\"hljs\\"><code> compress: {\\n    ecma: 5,\\n    warnings: false,\\n    // Disabled because of an issue with Uglify breaking seemingly valid code:\\n    // ...</code></pre>","slug":"ji-lu-CRA-de-webpack-pei-zhi-ceng-jing-de-issue-2","sha":"727e95a1ec46dc90c1cfe467e84a90fa08aedfb0"}')}}]);